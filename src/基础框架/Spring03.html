<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.64" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://github.com/Beisheng8888/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html"><meta property="og:site_name" content="Mr.Jh"><meta property="og:title" content="Spring03"><meta property="og:description" content="Spring03 ä¸€ã€AOP 1 AOPç®€ä»‹ é—®é¢˜å¯¼å…¥ é—®é¢˜1ï¼šAOPçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ é—®é¢˜2ï¼šè¿æ¥ç‚¹å’Œåˆ‡å…¥ç‚¹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒäºŒè€…è°çš„èŒƒå›´å¤§ï¼Ÿ é—®é¢˜3ï¼šè¯·æè¿°ä»€ä¹ˆæ˜¯åˆ‡é¢ï¼Ÿ 1.1 AOPç®€ä»‹å’Œä½œç”¨ã€ç†è§£ã€‘ AOP(Aspect Oriented Programming)é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼ŒæŒ‡å¯¼å¼€å‘è€…å¦‚ä½•ç»„ç»‡ç¨‹åºç»“æ„ OOP(Object Oriented Programming)é¢å‘å¯¹è±¡ç¼–ç¨‹ ä½œç”¨ï¼šåœ¨ä¸æƒŠåŠ¨åŸå§‹è®¾è®¡çš„åŸºç¡€ä¸Šä¸ºå…¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚ç®€å•çš„è¯´å°±æ˜¯åœ¨ä¸æ”¹å˜æ–¹æ³•æºä»£ç çš„åŸºç¡€ä¸Šå¯¹æ–¹æ³•è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚ Springç†å¿µï¼šæ— å…¥ä¾µå¼/æ— ä¾µå…¥å¼"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-07-18T07:48:56.000Z"><meta property="article:author" content="Mr.Jh"><meta property="article:modified_time" content="2023-07-18T07:48:56.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Spring03","image":[""],"dateModified":"2023-07-18T07:48:56.000Z","author":[{"@type":"Person","name":"Mr.Jh","url":"https://github.com/Beisheng8888"}]}</script><title>Spring03 | Mr.Jh</title><meta name="description" content="Spring03 ä¸€ã€AOP 1 AOPç®€ä»‹ é—®é¢˜å¯¼å…¥ é—®é¢˜1ï¼šAOPçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ é—®é¢˜2ï¼šè¿æ¥ç‚¹å’Œåˆ‡å…¥ç‚¹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒäºŒè€…è°çš„èŒƒå›´å¤§ï¼Ÿ é—®é¢˜3ï¼šè¯·æè¿°ä»€ä¹ˆæ˜¯åˆ‡é¢ï¼Ÿ 1.1 AOPç®€ä»‹å’Œä½œç”¨ã€ç†è§£ã€‘ AOP(Aspect Oriented Programming)é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼ŒæŒ‡å¯¼å¼€å‘è€…å¦‚ä½•ç»„ç»‡ç¨‹åºç»“æ„ OOP(Object Oriented Programming)é¢å‘å¯¹è±¡ç¼–ç¨‹ ä½œç”¨ï¼šåœ¨ä¸æƒŠåŠ¨åŸå§‹è®¾è®¡çš„åŸºç¡€ä¸Šä¸ºå…¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚ç®€å•çš„è¯´å°±æ˜¯åœ¨ä¸æ”¹å˜æ–¹æ³•æºä»£ç çš„åŸºç¡€ä¸Šå¯¹æ–¹æ³•è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚ Springç†å¿µï¼šæ— å…¥ä¾µå¼/æ— ä¾µå…¥å¼">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/blog/assets/style-3455fefa.css" as="style"><link rel="stylesheet" href="/blog/assets/style-3455fefa.css">
    <link rel="modulepreload" href="/blog/assets/app-1973086d.js"><link rel="modulepreload" href="/blog/assets/Spring03.html-b1a447bf.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/blog/assets/Spring03.html-c8732602.js"><link rel="prefetch" href="/blog/assets/index.html-81bbb418.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-3c5f49c2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-08c93f94.js" as="script"><link rel="prefetch" href="/blog/assets/IOæµ01.html-328ed5bb.js" as="script"><link rel="prefetch" href="/blog/assets/IOæµ02.html-d4df1126.js" as="script"><link rel="prefetch" href="/blog/assets/XMLæšä¸¾æ³¨è§£.html-1619971e.js" as="script"><link rel="prefetch" href="/blog/assets/å†…éƒ¨ç±»å’ŒLambdaè¡¨è¾¾å¼.html-c5f40784.js" as="script"><link rel="prefetch" href="/blog/assets/å•å…ƒæµ‹è¯•æ—¥å¿—.html-61155113.js" as="script"><link rel="prefetch" href="/blog/assets/å¯å˜å‚æ•°.html-bc194a72.js" as="script"><link rel="prefetch" href="/blog/assets/å¤šçº¿ç¨‹01.html-b21fbf79.js" as="script"><link rel="prefetch" href="/blog/assets/å¤šçº¿ç¨‹02.html-0c1cfb5a.js" as="script"><link rel="prefetch" href="/blog/assets/å¸¸ç”¨API01.html-10e667f8.js" as="script"><link rel="prefetch" href="/blog/assets/å¸¸ç”¨API02.html-1dacbcd9.js" as="script"><link rel="prefetch" href="/blog/assets/æ³›å‹å’ŒTreeSetå’ŒäºŒå‰æ ‘.html-f9dbb332.js" as="script"><link rel="prefetch" href="/blog/assets/ç±»åŠ è½½å™¨å’Œåå°„.html-70fcc83c.js" as="script"><link rel="prefetch" href="/blog/assets/çº¢é»‘æ ‘.html-0cec82e6.js" as="script"><link rel="prefetch" href="/blog/assets/ç»§æ‰¿.html-003ab787.js" as="script"><link rel="prefetch" href="/blog/assets/ç½‘ç»œç¼–ç¨‹.html-53f11e2a.js" as="script"><link rel="prefetch" href="/blog/assets/é›†åˆ.html-f25c1162.js" as="script"><link rel="prefetch" href="/blog/assets/Filterå’ŒListenerå’ŒAjax.html-36197ea7.js" as="script"><link rel="prefetch" href="/blog/assets/HTMLå’ŒCSS.html-37eb476a.js" as="script"><link rel="prefetch" href="/blog/assets/HTTPå’ŒTomcatå’ŒServlet.html-78927875.js" as="script"><link rel="prefetch" href="/blog/assets/JDBC.html-65b01460.js" as="script"><link rel="prefetch" href="/blog/assets/JSP.html-914efbd6.js" as="script"><link rel="prefetch" href="/blog/assets/JavaScript.html-ecda31c5.js" as="script"><link rel="prefetch" href="/blog/assets/Mavenå’ŒMyBatis.html-b0c42f60.js" as="script"><link rel="prefetch" href="/blog/assets/Requestå’ŒResponse.html-99cebe34.js" as="script"><link rel="prefetch" href="/blog/assets/VUEå’ŒElement.html-b199b2c0.js" as="script"><link rel="prefetch" href="/blog/assets/mysqlåŸºç¡€.html-b1e675f6.js" as="script"><link rel="prefetch" href="/blog/assets/mysqlé«˜çº§.html-1e36eb37.js" as="script"><link rel="prefetch" href="/blog/assets/ä¼šè¯æŠ€æœ¯.html-18bda836.js" as="script"><link rel="prefetch" href="/blog/assets/Docker.html-00681164.js" as="script"><link rel="prefetch" href="/blog/assets/Dockeråº”ç”¨.html-9565fcc0.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ.html-d5a68188.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloud01.html-0d87ad68.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloud02.html-ebdb512e.js" as="script"><link rel="prefetch" href="/blog/assets/Mavené«˜çº§.html-3ff33480.js" as="script"><link rel="prefetch" href="/blog/assets/MyBatisPlus.html-da5bc503.js" as="script"><link rel="prefetch" href="/blog/assets/Spring01.html-6d73d7b9.js" as="script"><link rel="prefetch" href="/blog/assets/Spring02.html-a1a6d4aa.js" as="script"><link rel="prefetch" href="/blog/assets/SpringBoot.html-5ddd23dc.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC01.html-7e8a2eb1.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC02.html-e16f76bf.js" as="script"><link rel="prefetch" href="/blog/assets/Git.html-2f07245e.js" as="script"><link rel="prefetch" href="/blog/assets/Jmeterå¿«é€Ÿå…¥é—¨.html-81fb28bc.js" as="script"><link rel="prefetch" href="/blog/assets/Kafka.html-87ef726b.js" as="script"><link rel="prefetch" href="/blog/assets/Linux-01.html-858fceff.js" as="script"><link rel="prefetch" href="/blog/assets/Linux-02.html-ba970d78.js" as="script"><link rel="prefetch" href="/blog/assets/MongoDB.html-2b8dc905.js" as="script"><link rel="prefetch" href="/blog/assets/Mysqlè¯»å†™åˆ†ç¦».html-8576af6f.js" as="script"><link rel="prefetch" href="/blog/assets/Mysqlé«˜æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ.html-42ec047e.js" as="script"><link rel="prefetch" href="/blog/assets/Nacos.html-bc593533.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html-b69188ab.js" as="script"><link rel="prefetch" href="/blog/assets/Redis.html-a6a7342e.js" as="script"><link rel="prefetch" href="/blog/assets/Redisé›†ç¾¤.html-f15d53a4.js" as="script"><link rel="prefetch" href="/blog/assets/freemarkerå’ŒMinio.html-b5fc31f1.js" as="script"><link rel="prefetch" href="/blog/assets/seataçš„éƒ¨ç½²å’Œé›†æˆ.html-c46a78f9.js" as="script"><link rel="prefetch" href="/blog/assets/sentinelè§„åˆ™æŒä¹…åŒ–.html-16ed6eeb.js" as="script"><link rel="prefetch" href="/blog/assets/xxl-Job.html-bd8e0ec1.js" as="script"><link rel="prefetch" href="/blog/assets/å…¶ä»–.html-ff5bcf3e.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html-a9cf39a8.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html-17906928.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.html-cd3596e2.js" as="script"><link rel="prefetch" href="/blog/assets/é›†æˆminio.html-cb6d2917.js" as="script"><link rel="prefetch" href="/blog/assets/åŸºç¡€ç¯‡.html-e227ce5f.js" as="script"><link rel="prefetch" href="/blog/assets/å¹¶å‘ç¯‡.html-bdfc5019.js" as="script"><link rel="prefetch" href="/blog/assets/æ¡†æ¶ç¯‡.html-07b1b425.js" as="script"><link rel="prefetch" href="/blog/assets/è™šæ‹Ÿæœºç¯‡.html-5c6f357c.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ-é«˜çº§ç¯‡.html-df574b84.js" as="script"><link rel="prefetch" href="/blog/assets/Sentinel.html-806d57b5.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html-982fd574.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼ç¼“å­˜.html-b87e03d6.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-a31b29e4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-aed00d6f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-04d72ad7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e0c44343.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3b22870e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6ba12430.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-de88ce22.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9ce6a9bf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0ec0e8bb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-acd00202.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-59962e9d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e5d547ce.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-48e60ab0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2b6d2d20.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c0325f34.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c408f31e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5d2b156e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-75babee1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-510486a9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9e5f0548.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-67a11a35.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7ba73d1c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b62d5bf2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4f7de1ae.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6b6fec72.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2ead2fc1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-179bb1b5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5d008d90.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4bafb498.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9e0b3b99.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-1e065ee1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-11abfd91.js" as="script"><link rel="prefetch" href="/blog/assets/IOæµ01.html-6cd1309e.js" as="script"><link rel="prefetch" href="/blog/assets/IOæµ02.html-1c22c533.js" as="script"><link rel="prefetch" href="/blog/assets/XMLæšä¸¾æ³¨è§£.html-919f85d2.js" as="script"><link rel="prefetch" href="/blog/assets/å†…éƒ¨ç±»å’ŒLambdaè¡¨è¾¾å¼.html-1c8c1d4a.js" as="script"><link rel="prefetch" href="/blog/assets/å•å…ƒæµ‹è¯•æ—¥å¿—.html-c15d0413.js" as="script"><link rel="prefetch" href="/blog/assets/å¯å˜å‚æ•°.html-59a4e326.js" as="script"><link rel="prefetch" href="/blog/assets/å¤šçº¿ç¨‹01.html-6d7a8af9.js" as="script"><link rel="prefetch" href="/blog/assets/å¤šçº¿ç¨‹02.html-a963d1cb.js" as="script"><link rel="prefetch" href="/blog/assets/å¸¸ç”¨API01.html-b6bbaa56.js" as="script"><link rel="prefetch" href="/blog/assets/å¸¸ç”¨API02.html-243084f6.js" as="script"><link rel="prefetch" href="/blog/assets/æ³›å‹å’ŒTreeSetå’ŒäºŒå‰æ ‘.html-6416e2bc.js" as="script"><link rel="prefetch" href="/blog/assets/ç±»åŠ è½½å™¨å’Œåå°„.html-edf63fc6.js" as="script"><link rel="prefetch" href="/blog/assets/çº¢é»‘æ ‘.html-2b6a0dd2.js" as="script"><link rel="prefetch" href="/blog/assets/ç»§æ‰¿.html-7073e76d.js" as="script"><link rel="prefetch" href="/blog/assets/ç½‘ç»œç¼–ç¨‹.html-6f4d92a4.js" as="script"><link rel="prefetch" href="/blog/assets/é›†åˆ.html-1535042b.js" as="script"><link rel="prefetch" href="/blog/assets/Filterå’ŒListenerå’ŒAjax.html-75e2a96f.js" as="script"><link rel="prefetch" href="/blog/assets/HTMLå’ŒCSS.html-ec1d8a76.js" as="script"><link rel="prefetch" href="/blog/assets/HTTPå’ŒTomcatå’ŒServlet.html-9489ec20.js" as="script"><link rel="prefetch" href="/blog/assets/JDBC.html-e9a5aab3.js" as="script"><link rel="prefetch" href="/blog/assets/JSP.html-73086860.js" as="script"><link rel="prefetch" href="/blog/assets/JavaScript.html-3330cd61.js" as="script"><link rel="prefetch" href="/blog/assets/Mavenå’ŒMyBatis.html-70839934.js" as="script"><link rel="prefetch" href="/blog/assets/Requestå’ŒResponse.html-5b6e53f6.js" as="script"><link rel="prefetch" href="/blog/assets/VUEå’ŒElement.html-049c987d.js" as="script"><link rel="prefetch" href="/blog/assets/mysqlåŸºç¡€.html-03922803.js" as="script"><link rel="prefetch" href="/blog/assets/mysqlé«˜çº§.html-00088b0a.js" as="script"><link rel="prefetch" href="/blog/assets/ä¼šè¯æŠ€æœ¯.html-55f78c71.js" as="script"><link rel="prefetch" href="/blog/assets/Docker.html-1690c9ab.js" as="script"><link rel="prefetch" href="/blog/assets/Dockeråº”ç”¨.html-9e9256cd.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ.html-fd62fd7e.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloud01.html-6c9bf87f.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloud02.html-3fdd2350.js" as="script"><link rel="prefetch" href="/blog/assets/Mavené«˜çº§.html-9c4fcbb8.js" as="script"><link rel="prefetch" href="/blog/assets/MyBatisPlus.html-17d5ae4f.js" as="script"><link rel="prefetch" href="/blog/assets/Spring01.html-c1c775b9.js" as="script"><link rel="prefetch" href="/blog/assets/Spring02.html-6f323941.js" as="script"><link rel="prefetch" href="/blog/assets/SpringBoot.html-cf4d4ffe.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC01.html-817bef77.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC02.html-f524c840.js" as="script"><link rel="prefetch" href="/blog/assets/Git.html-5ddef253.js" as="script"><link rel="prefetch" href="/blog/assets/Jmeterå¿«é€Ÿå…¥é—¨.html-00f70fad.js" as="script"><link rel="prefetch" href="/blog/assets/Kafka.html-636df907.js" as="script"><link rel="prefetch" href="/blog/assets/Linux-01.html-48abbb53.js" as="script"><link rel="prefetch" href="/blog/assets/Linux-02.html-f58588d6.js" as="script"><link rel="prefetch" href="/blog/assets/MongoDB.html-1ede2ed8.js" as="script"><link rel="prefetch" href="/blog/assets/Mysqlè¯»å†™åˆ†ç¦».html-266b232a.js" as="script"><link rel="prefetch" href="/blog/assets/Mysqlé«˜æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ.html-6ba35264.js" as="script"><link rel="prefetch" href="/blog/assets/Nacos.html-f4fd5331.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQéƒ¨ç½²æŒ‡å—.html-1264cf90.js" as="script"><link rel="prefetch" href="/blog/assets/Redis.html-b6f3277f.js" as="script"><link rel="prefetch" href="/blog/assets/Redisé›†ç¾¤.html-440c748a.js" as="script"><link rel="prefetch" href="/blog/assets/freemarkerå’ŒMinio.html-4716306e.js" as="script"><link rel="prefetch" href="/blog/assets/seataçš„éƒ¨ç½²å’Œé›†æˆ.html-25fe42e5.js" as="script"><link rel="prefetch" href="/blog/assets/sentinelè§„åˆ™æŒä¹…åŒ–.html-ab2e948c.js" as="script"><link rel="prefetch" href="/blog/assets/xxl-Job.html-ee9b5dac.js" as="script"><link rel="prefetch" href="/blog/assets/å…¶ä»–.html-29fffdcf.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“01.html-69903ce4.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“02.html-718fe8ae.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼æœç´¢å¼•æ“03.html-6c36d534.js" as="script"><link rel="prefetch" href="/blog/assets/é›†æˆminio.html-99d2d5ac.js" as="script"><link rel="prefetch" href="/blog/assets/åŸºç¡€ç¯‡.html-9539519f.js" as="script"><link rel="prefetch" href="/blog/assets/å¹¶å‘ç¯‡.html-c15e3063.js" as="script"><link rel="prefetch" href="/blog/assets/æ¡†æ¶ç¯‡.html-d7d773de.js" as="script"><link rel="prefetch" href="/blog/assets/è™šæ‹Ÿæœºç¯‡.html-b5075c31.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ-é«˜çº§ç¯‡.html-c3b91a27.js" as="script"><link rel="prefetch" href="/blog/assets/Sentinel.html-f529b50e.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼äº‹åŠ¡.html-83724a5b.js" as="script"><link rel="prefetch" href="/blog/assets/åˆ†å¸ƒå¼ç¼“å­˜.html-019460e1.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-33a832e0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-150b3b71.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f298e1e7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b53de554.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-f96c823c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-506a0e08.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-95a594d2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-69f489b3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b639a9e8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-65072a0a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-d1446457.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0cb5078a.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-508f507e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-766ff7fe.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7d0ea04c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4a884fe9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7e72ded6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-29750289.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7e40a4a5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-77b59291.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1f4c3d9e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5b9593da.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1ce53f93.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-25fe2db8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-eb06f248.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-1e926f45.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-8d7789f8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-86af69b8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c2dde94e.js" as="script"><link rel="prefetch" href="/blog/assets/dash.all.min-01c02b4d.js" as="script"><link rel="prefetch" href="/blog/assets/mpegts-d8e77270.js" as="script"><link rel="prefetch" href="/blog/assets/hls.min-cab563d8.js" as="script"><link rel="prefetch" href="/blog/assets/artplayer-0687ddfd.js" as="script"><link rel="prefetch" href="/blog/assets/plyr.min-fe499837.js" as="script"><link rel="prefetch" href="/blog/assets/browser-21db0a97.js" as="script"><link rel="prefetch" href="/blog/assets/plyr.min-fe499837.js" as="script"><link rel="prefetch" href="/blog/assets/auto-fa8841cf.js" as="script"><link rel="prefetch" href="/blog/assets/index-ae8c1e74.js" as="script"><link rel="prefetch" href="/blog/assets/flowchart-d65a1d8e.js" as="script"><link rel="prefetch" href="/blog/assets/mermaid.core-5b81ea25.js" as="script"><link rel="prefetch" href="/blog/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/blog/assets/markdown.esm-0191f9da.js" as="script"><link rel="prefetch" href="/blog/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/blog/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/blog/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/blog/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/blog/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/blog/assets/VuePlayground-002b7ed7.js" as="script"><link rel="prefetch" href="/blog/assets/photoswipe.esm-5794cde2.js" as="script"><link rel="prefetch" href="/blog/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/blog/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/blog/assets/index-5161ad19.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/blog/"><img class="vp-nav-logo" src="/blog/logo.png" alt="Mr.Jh"><!----><span class="vp-site-name hide-in-pad">Mr.Jh</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/blog/"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link active" href="/blog/src/"><!---->ğŸ‘ç›®å½•<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ğŸˆJavaSE"><span class="title"><!---->ğŸˆJavaSE</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JavaSE</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/IO%E6%B5%8101.html"><span class="font-icon icon iconfont icon-IO" style=""></span>IOæµ01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/IO%E6%B5%8102.html"><span class="font-icon icon iconfont icon-IO" style=""></span>IOæµ02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/XML%E6%9E%9A%E4%B8%BE%E6%B3%A8%E8%A7%A3.html"><span class="font-icon icon iconfont icon-at" style=""></span>XML&amp;æšä¸¾&amp;æ³¨è§£<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%97%A5%E5%BF%97.html"><!---->å•å…ƒæµ‹è¯•&amp;æ—¥å¿—<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0.html"><!---->å¯å˜å‚æ•°<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B01.html"><!---->å¤šçº¿ç¨‹01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B02.html"><!---->å¤šçº¿ç¨‹02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%B8%B8%E7%94%A8API01.html"><!---->å¸¸ç”¨API01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%B8%B8%E7%94%A8API02.html"><!---->å¸¸ç”¨API02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E6%B3%9B%E5%9E%8B%E5%92%8CTreeSet%E5%92%8C%E4%BA%8C%E5%8F%89%E6%A0%91.html"><!---->æ³›å‹å’ŒTreeSetå’ŒäºŒå‰æ ‘<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%92%8C%E5%8F%8D%E5%B0%84.html"><!---->ç±»åŠ è½½å™¨å’Œåå°„<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E7%BA%A2%E9%BB%91%E6%A0%91.html"><!---->çº¢é»‘æ ‘<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E7%BB%A7%E6%89%BF.html"><!---->ç»§æ‰¿<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html"><!---->ç½‘ç»œç¼–ç¨‹<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E9%9B%86%E5%90%88.html"><!---->é›†åˆ<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ğŸ‰JavaWeb"><span class="title"><!---->ğŸ‰JavaWeb</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JavaWeb</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html"><!---->Filterå’ŒListenerå’ŒAjax<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/HTML%E5%92%8CCSS.html"><!---->HTMLå’ŒCSS<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/HTTP%E5%92%8CTomcat%E5%92%8CServlet.html"><!---->HTTPå’ŒTomcatå’ŒServlet<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/JavaScript.html"><!---->JavaScript<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/JDBC.html"><!---->JDBC<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/JSP.html"><!---->JSP<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/Maven%E5%92%8CMyBatis.html"><!---->Mavenå’ŒMyBatis<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/mysql%E5%9F%BA%E7%A1%80.html"><!---->mysqlåŸºç¡€<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/mysql%E9%AB%98%E7%BA%A7.html"><!---->mysqlé«˜çº§<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/Request%E5%92%8CResponse.html"><!---->Requestå’ŒResponse<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/VUE%E5%92%8CElement.html"><!---->VUEå’ŒElement<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF.html"><!---->ä¼šè¯æŠ€æœ¯<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ğŸŠåŸºç¡€æ¡†æ¶"><span class="title"><!---->ğŸŠåŸºç¡€æ¡†æ¶</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åŸºç¡€æ¡†æ¶</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Maven%E9%AB%98%E7%BA%A7.html"><!---->Mavené«˜çº§<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/MyBatisPlus.html"><!---->MyBatisPlus<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring01.html"><!---->Spring01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring02.html"><!---->Spring02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link active" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html"><!---->Spring03<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringBoot.html"><!---->SpringBoot<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringMVC01.html"><!---->SpringMVC01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringMVC02.html"><!---->SpringMVC02<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ğŸ‹åŸºç¡€å¾®æœåŠ¡"><span class="title"><!---->ğŸ‹åŸºç¡€å¾®æœåŠ¡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>åŸºç¡€å¾®æœåŠ¡</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/Docker.html"><!---->Docker<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/Docker%E5%BA%94%E7%94%A8.html"><!---->Dockeråº”ç”¨<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/RabbitMQ.html"><!---->RabbitMQ<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud01.html"><!---->SpringCloud01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud02.html"><!---->SpringCloud02<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ğŸŒé«˜çº§å¾®æœåŠ¡"><span class="title"><!---->ğŸŒé«˜çº§å¾®æœåŠ¡</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>é«˜çº§å¾®æœåŠ¡</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/RabbitMQ-%E9%AB%98%E7%BA%A7%E7%AF%87.html"><!---->RabbitMQ-é«˜çº§ç¯‡<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/Sentinel.html"><!---->Sentinel<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1.html"><!---->åˆ†å¸ƒå¼äº‹åŠ¡<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html"><!---->åˆ†å¸ƒå¼ç¼“å­˜<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ğŸæ‰©å±•"><span class="title"><!---->ğŸæ‰©å±•</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>å¿…ä¼šå·¥å…·</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/freemarker%E5%92%8CMinio.html"><!---->freemarkerå’ŒMinio<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Git.html"><!---->Git<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Jmeter%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html"><!---->Jmeterå¿«é€Ÿå…¥é—¨<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Kafka.html"><!---->Kafka<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Linux-01.html"><!---->Linux-01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Linux-02.html"><!---->Linux-02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/MongoDB.html"><!---->MongoDB<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Mysql%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB.html"><!---->Mysqlè¯»å†™åˆ†ç¦»<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Mysql%E9%AB%98%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html"><!---->Mysqlé«˜æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Nacos.html"><!---->Nacos<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Redis.html"><!---->Redis<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Redis%E9%9B%86%E7%BE%A4.html"><!---->Redisé›†ç¾¤<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/seata%E7%9A%84%E9%83%A8%E7%BD%B2%E5%92%8C%E9%9B%86%E6%88%90.html"><!---->seataçš„éƒ¨ç½²å’Œé›†æˆ<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/sentinel%E8%A7%84%E5%88%99%E6%8C%81%E4%B9%85%E5%8C%96.html"><!---->sentinelè§„åˆ™æŒä¹…åŒ–<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/xxl-Job.html"><!---->xxl-Job<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96.html"><!---->å…¶ä»–<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E01.html"><!---->åˆ†å¸ƒå¼æœç´¢å¼•æ“01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E02.html"><!---->åˆ†å¸ƒå¼æœç´¢å¼•æ“02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html"><!---->åˆ†å¸ƒå¼æœç´¢å¼•æ“03<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E9%9B%86%E6%88%90minio.html"><!---->é›†æˆminio<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ğŸ‡é¢è¯•ä¸“é¢˜"><span class="title"><!---->ğŸ‡é¢è¯•ä¸“é¢˜</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>é¢è¯•ä¸“é¢˜</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E5%9F%BA%E7%A1%80%E7%AF%87.html"><!---->åŸºç¡€ç¯‡<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E5%B9%B6%E5%8F%91%E7%AF%87.html"><!---->å¹¶å‘ç¯‡<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E6%A1%86%E6%9E%B6%E7%AF%87.html"><!---->æ¡†æ¶ç¯‡<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AF%87.html"><!---->è™šæ‹Ÿæœºç¯‡<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://beisheng8888.github.io/#/" rel="noopener noreferrer" target="_blank" aria-label="ğŸ’V1 æ–‡æ¡£" class="nav-link"><!---->ğŸ’V1 æ–‡æ¡£<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/Beisheng8888/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="æœç´¢"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">æœç´¢</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/"><span class="font-icon icon iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/JavaSE/"><!---->ğŸˆJavaSE<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/IO%E6%B5%8101.html"><span class="font-icon icon iconfont icon-IO" style=""></span>IOæµ01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/IO%E6%B5%8102.html"><span class="font-icon icon iconfont icon-IO" style=""></span>IOæµ02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/XML%E6%9E%9A%E4%B8%BE%E6%B3%A8%E8%A7%A3.html"><!---->XML&amp;æšä¸¾&amp;æ³¨è§£<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%86%85%E9%83%A8%E7%B1%BB%E5%92%8CLambda%E8%A1%A8%E8%BE%BE%E5%BC%8F.html"><!---->å†…éƒ¨ç±»å’ŒLambdaè¡¨è¾¾å¼<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%97%A5%E5%BF%97.html"><!---->å•å…ƒæµ‹è¯•&amp;æ—¥å¿—<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0.html"><!---->å¯å˜å‚æ•°<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B01.html"><!---->å¤šçº¿ç¨‹01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B02.html"><!---->å¤šçº¿ç¨‹02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%B8%B8%E7%94%A8API01.html"><!---->å¸¸ç”¨API01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%B8%B8%E7%94%A8API02.html"><!---->å¸¸ç”¨API02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E6%B3%9B%E5%9E%8B%E5%92%8CTreeSet%E5%92%8C%E4%BA%8C%E5%8F%89%E6%A0%91.html"><!---->æ³›å‹å’ŒTreeSetå’ŒäºŒå‰æ ‘<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%92%8C%E5%8F%8D%E5%B0%84.html"><!---->ç±»åŠ è½½å™¨å’Œåå°„<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E7%BA%A2%E9%BB%91%E6%A0%91.html"><!---->çº¢é»‘æ ‘<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E7%BB%A7%E6%89%BF.html"><!---->ç»§æ‰¿<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html"><!---->ç½‘ç»œç¼–ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E9%9B%86%E5%90%88.html"><!---->é›†åˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/JavaWeb/"><!---->ğŸ‰JavaWeb<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html"><!---->Filter&amp;Listener&amp;Ajax<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/HTML%E5%92%8CCSS.html"><!---->HTML&amp;CSS<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/HTTP%E5%92%8CTomcat%E5%92%8CServlet.html"><!---->HTTP&amp;Tomcat&amp;Servlet<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/JavaScript.html"><!---->JavaScript<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/JDBC.html"><!---->JDBC<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/JSP.html"><!---->JSP<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/Maven%E5%92%8CMyBatis.html"><!---->Maven&amp;MyBatis<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/mysql%E5%9F%BA%E7%A1%80.html"><!---->MySQLåŸºç¡€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/mysql%E9%AB%98%E7%BA%A7.html"><!---->MySQLé«˜çº§<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/Request%E5%92%8CResponse.html"><!---->Request&amp;Response<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/VUE%E5%92%8CElement.html"><!---->VUE&amp;Element<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF.html"><!---->ä¼šè¯æŠ€æœ¯<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable active"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link active vp-sidebar-title" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/"><!---->ğŸŠåŸºç¡€æ¡†æ¶<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Maven%E9%AB%98%E7%BA%A7.html"><!---->Mavené«˜çº§<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/MyBatisPlus.html"><!---->MyBatisPlus<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring01.html"><!---->Spring01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring02.html"><!---->Spring02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html"><!---->Spring03<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#ä¸€ã€aop"><!---->ä¸€ã€AOP<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_1-aopç®€ä»‹"><!---->1 AOPç®€ä»‹<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_2-aopå…¥é—¨æ¡ˆä¾‹ã€é‡ç‚¹ã€‘"><!---->2 AOPå…¥é—¨æ¡ˆä¾‹ã€é‡ç‚¹ã€‘<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_3-aopå·¥ä½œæµç¨‹ã€ç†è§£ã€‘"><!---->3 AOPå·¥ä½œæµç¨‹ã€ç†è§£ã€‘<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_4-aopåˆ‡å…¥ç‚¹è¡¨è¾¾å¼"><!---->4 AOPåˆ‡å…¥ç‚¹è¡¨è¾¾å¼<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_5-aopé€šçŸ¥ç±»å‹ã€é‡ç‚¹ã€‘"><!---->5 AOPé€šçŸ¥ç±»å‹ã€é‡ç‚¹ã€‘<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#äºŒã€aopæ¡ˆä¾‹"><!---->äºŒã€AOPæ¡ˆä¾‹<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_1-æ¡ˆä¾‹-æµ‹é‡ä¸šåŠ¡å±‚æ¥å£ä¸‡æ¬¡æ‰§è¡Œæ•ˆç‡"><!---->1 æ¡ˆä¾‹-æµ‹é‡ä¸šåŠ¡å±‚æ¥å£ä¸‡æ¬¡æ‰§è¡Œæ•ˆç‡<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_2-aopåˆ‡å…¥ç‚¹æ•°æ®è·å–"><!---->2 AOPåˆ‡å…¥ç‚¹æ•°æ®è·å–<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_3-æ¡ˆä¾‹-ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†"><!---->3 æ¡ˆä¾‹-ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_4-aopå¼€å‘æ€»ç»“"><!---->4 AOPå¼€å‘æ€»ç»“<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#ä¸‰ã€springäº‹åŠ¡ç®¡ç†"><!---->ä¸‰ã€Springäº‹åŠ¡ç®¡ç†<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_1-springäº‹åŠ¡ç®€ä»‹ã€é‡ç‚¹ã€‘"><!---->1 Springäº‹åŠ¡ç®€ä»‹ã€é‡ç‚¹ã€‘<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_2-springäº‹åŠ¡è§’è‰²ã€ç†è§£ã€‘"><!---->2 Springäº‹åŠ¡è§’è‰²ã€ç†è§£ã€‘<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html#_3-springäº‹åŠ¡ç›¸å…³é…ç½®"><!---->3 Springäº‹åŠ¡ç›¸å…³é…ç½®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringBoot.html"><!---->SpringBoot<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringMVC01.html"><!---->SpringMVC01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringMVC02.html"><!---->SpringMVC02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><!---->ğŸ‹åŸºç¡€å¾®æœåŠ¡<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/Docker.html"><!---->Dockerå®ç”¨ç¯‡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/Docker%E5%BA%94%E7%94%A8.html"><!---->Dockeråº”ç”¨ç¯‡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/RabbitMQ.html"><!---->RabbitMQ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud01.html"><!---->SpringCloud01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud02.html"><!---->SpringCloudå®ç”¨ç¯‡02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><!---->ğŸŒé«˜çº§å¾®æœåŠ¡<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/RabbitMQ-%E9%AB%98%E7%BA%A7%E7%AF%87.html"><!---->RabbitMQ-é«˜çº§ç¯‡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1.html"><!---->åˆ†å¸ƒå¼äº‹åŠ¡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html"><!---->åˆ†å¸ƒå¼ç¼“å­˜<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/Sentinel.html"><!---->å¾®æœåŠ¡ä¿æŠ¤<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/"><!---->ğŸæ‰©å±•<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/freemarker%E5%92%8CMinio.html"><!---->freemarker&amp;MiniO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Git.html"><!---->Git åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶å·¥å…·<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Jmeter%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html"><!---->Jmeterå¿«é€Ÿå…¥é—¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Kafka.html"><!---->Kafka<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Linux-01.html"><!---->Linux-01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Linux-02.html"><!---->Linux-02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/MongoDB.html"><!---->MongoDB<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Mysql%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB.html"><!---->Mysqlè¯»å†™åˆ†ç¦»<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Mysql%E9%AB%98%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html"><!---->Mysqlé«˜æ€§èƒ½ä¼˜åŒ–æ–¹æ¡ˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Nacos.html"><!---->Nacoså®‰è£…æŒ‡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/RabbitMQ%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97.html"><!---->RabbitMQéƒ¨ç½²æŒ‡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Redis.html"><!---->RedisåŸºç¡€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Redis%E9%9B%86%E7%BE%A4.html"><!---->Redisé›†ç¾¤<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/seata%E7%9A%84%E9%83%A8%E7%BD%B2%E5%92%8C%E9%9B%86%E6%88%90.html"><!---->seataçš„éƒ¨ç½²å’Œé›†æˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/sentinel%E8%A7%84%E5%88%99%E6%8C%81%E4%B9%85%E5%8C%96.html"><!---->Sentinel è§„åˆ™æŒä¹…åŒ–<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/xxl-Job.html"><!---->xxl-Jobåˆ†å¸ƒå¼ä»»åŠ¡è°ƒåº¦<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96.html"><!---->å…¶ä»–<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E01.html"><!---->åˆ†å¸ƒå¼æœç´¢å¼•æ“01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E02.html"><!---->åˆ†å¸ƒå¼æœç´¢å¼•æ“02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html"><!---->åˆ†å¸ƒå¼æœç´¢å¼•æ“03<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E9%9B%86%E6%88%90minio.html"><!---->é›†æˆminioå®ç°åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/"><!---->ğŸ‡é¢è¯•ä¸“é¢˜<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E5%9F%BA%E7%A1%80%E7%AF%87.html"><!---->åŸºç¡€ç¯‡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E5%B9%B6%E5%8F%91%E7%AF%87.html"><!---->å¹¶å‘ç¯‡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E6%A1%86%E6%9E%B6%E7%AF%87.html"><!---->æ¡†æ¶ç¯‡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AF%87.html"><!---->è™šæ‹Ÿæœºç¯‡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Spring03</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/Beisheng8888" target="_blank" rel="noopener noreferrer">Mr.Jh</a></span><span property="author" content="Mr.Jh"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-07-17T03:38:53.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 20 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT20M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category4 clickable" role="navigation">åŸºç¡€æ¡†æ¶</span><!--]--><meta property="articleSection" content="åŸºç¡€æ¡†æ¶"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#ä¸€ã€aop">ä¸€ã€AOP</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-aopç®€ä»‹">1 AOPç®€ä»‹</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_2-aopå…¥é—¨æ¡ˆä¾‹ã€é‡ç‚¹ã€‘">2 AOPå…¥é—¨æ¡ˆä¾‹ã€é‡ç‚¹ã€‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_3-aopå·¥ä½œæµç¨‹ã€ç†è§£ã€‘">3 AOPå·¥ä½œæµç¨‹ã€ç†è§£ã€‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_4-aopåˆ‡å…¥ç‚¹è¡¨è¾¾å¼">4 AOPåˆ‡å…¥ç‚¹è¡¨è¾¾å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_5-aopé€šçŸ¥ç±»å‹ã€é‡ç‚¹ã€‘">5 AOPé€šçŸ¥ç±»å‹ã€é‡ç‚¹ã€‘</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#äºŒã€aopæ¡ˆä¾‹">äºŒã€AOPæ¡ˆä¾‹</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-æ¡ˆä¾‹-æµ‹é‡ä¸šåŠ¡å±‚æ¥å£ä¸‡æ¬¡æ‰§è¡Œæ•ˆç‡">1 æ¡ˆä¾‹-æµ‹é‡ä¸šåŠ¡å±‚æ¥å£ä¸‡æ¬¡æ‰§è¡Œæ•ˆç‡</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_2-aopåˆ‡å…¥ç‚¹æ•°æ®è·å–">2 AOPåˆ‡å…¥ç‚¹æ•°æ®è·å–</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_3-æ¡ˆä¾‹-ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†">3 æ¡ˆä¾‹-ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_4-aopå¼€å‘æ€»ç»“">4 AOPå¼€å‘æ€»ç»“</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#ä¸‰ã€springäº‹åŠ¡ç®¡ç†">ä¸‰ã€Springäº‹åŠ¡ç®¡ç†</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-springäº‹åŠ¡ç®€ä»‹ã€é‡ç‚¹ã€‘">1 Springäº‹åŠ¡ç®€ä»‹ã€é‡ç‚¹ã€‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_2-springäº‹åŠ¡è§’è‰²ã€ç†è§£ã€‘">2 Springäº‹åŠ¡è§’è‰²ã€ç†è§£ã€‘</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_3-springäº‹åŠ¡ç›¸å…³é…ç½®">3 Springäº‹åŠ¡ç›¸å…³é…ç½®</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="spring03" tabindex="-1"><a class="header-anchor" href="#spring03" aria-hidden="true">#</a> Spring03</h1><h2 id="ä¸€ã€aop" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€aop" aria-hidden="true">#</a> ä¸€ã€AOP</h2><h3 id="_1-aopç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#_1-aopç®€ä»‹" aria-hidden="true">#</a> 1 AOPç®€ä»‹</h3><h4 id="é—®é¢˜å¯¼å…¥" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>é—®é¢˜1ï¼šAOPçš„ä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>é—®é¢˜2ï¼šè¿æ¥ç‚¹å’Œåˆ‡å…¥ç‚¹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼ŒäºŒè€…è°çš„èŒƒå›´å¤§ï¼Ÿ</p><p>é—®é¢˜3ï¼šè¯·æè¿°ä»€ä¹ˆæ˜¯åˆ‡é¢ï¼Ÿ</p><h4 id="_1-1-aopç®€ä»‹å’Œä½œç”¨ã€ç†è§£ã€‘" tabindex="-1"><a class="header-anchor" href="#_1-1-aopç®€ä»‹å’Œä½œç”¨ã€ç†è§£ã€‘" aria-hidden="true">#</a> 1.1 AOPç®€ä»‹å’Œä½œç”¨ã€ç†è§£ã€‘</h4><ul><li>AOP(Aspect Oriented Programming)é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä¸€ç§ç¼–ç¨‹èŒƒå¼ï¼ŒæŒ‡å¯¼å¼€å‘è€…å¦‚ä½•ç»„ç»‡ç¨‹åºç»“æ„ <ul><li>OOP(Object Oriented Programming)é¢å‘å¯¹è±¡ç¼–ç¨‹</li></ul></li><li>ä½œç”¨ï¼šåœ¨ä¸æƒŠåŠ¨åŸå§‹è®¾è®¡çš„åŸºç¡€ä¸Šä¸ºå…¶è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚ç®€å•çš„è¯´å°±æ˜¯åœ¨ä¸æ”¹å˜æ–¹æ³•æºä»£ç çš„åŸºç¡€ä¸Šå¯¹æ–¹æ³•è¿›è¡ŒåŠŸèƒ½å¢å¼ºã€‚</li><li>Springç†å¿µï¼šæ— å…¥ä¾µå¼/æ— ä¾µå…¥å¼</li></ul><h4 id="_1-2-aopä¸­çš„æ ¸å¿ƒæ¦‚å¿µã€ç†è§£ã€‘" tabindex="-1"><a class="header-anchor" href="#_1-2-aopä¸­çš„æ ¸å¿ƒæ¦‚å¿µã€ç†è§£ã€‘" aria-hidden="true">#</a> 1.2 AOPä¸­çš„æ ¸å¿ƒæ¦‚å¿µã€ç†è§£ã€‘</h4><figure><img src="/blog/assets/image-20210730144903209-34de9793.png" alt="image-20210730144903209" tabindex="0" loading="lazy"><figcaption>image-20210730144903209</figcaption></figure><ul><li>è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰ï¼šæ­£åœ¨æ‰§è¡Œçš„æ–¹æ³•ï¼Œä¾‹å¦‚ï¼šupdate()ã€delete()ã€select()ç­‰éƒ½æ˜¯è¿æ¥ç‚¹ã€‚</li><li>åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰ï¼šè¿›è¡ŒåŠŸèƒ½å¢å¼ºäº†çš„æ–¹æ³•ï¼Œä¾‹å¦‚:update()ã€delete()æ–¹æ³•ï¼Œselect()æ–¹æ³•æ²¡æœ‰è¢«å¢å¼ºæ‰€ä»¥ä¸æ˜¯åˆ‡å…¥ç‚¹ï¼Œä½†æ˜¯æ˜¯è¿æ¥ç‚¹ã€‚ <ul><li>åœ¨SpringAOPä¸­ï¼Œä¸€ä¸ªåˆ‡å…¥ç‚¹å¯ä»¥åªæè¿°ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥åŒ¹é…å¤šä¸ªæ–¹æ³• <ul><li>ä¸€ä¸ªå…·ä½“æ–¹æ³•ï¼šcom.beisheng.daoåŒ…ä¸‹çš„BookDaoæ¥å£ä¸­çš„æ— å½¢å‚æ— è¿”å›å€¼çš„saveæ–¹æ³•</li><li>åŒ¹é…å¤šä¸ªæ–¹æ³•ï¼šæ‰€æœ‰çš„saveæ–¹æ³•ï¼Œæ‰€æœ‰çš„getå¼€å¤´çš„æ–¹æ³•ï¼Œæ‰€æœ‰ä»¥Daoç»“å°¾çš„æ¥å£ä¸­çš„ä»»æ„æ–¹æ³•ï¼Œæ‰€æœ‰å¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•</li></ul></li></ul></li><li>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåœ¨åˆ‡å…¥ç‚¹å‰åæ‰§è¡Œçš„æ“ä½œï¼Œä¹Ÿå°±æ˜¯å¢å¼ºçš„å…±æ€§åŠŸèƒ½ <ul><li>åœ¨SpringAOPä¸­ï¼ŒåŠŸèƒ½æœ€ç»ˆä»¥æ–¹æ³•çš„å½¢å¼å‘ˆç°</li></ul></li><li>é€šçŸ¥ç±»ï¼šé€šçŸ¥æ–¹æ³•æ‰€åœ¨çš„ç±»å«åšé€šçŸ¥ç±»</li><li>åˆ‡é¢ï¼ˆAspectï¼‰ï¼šæè¿°é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„å¯¹åº”å…³ç³»ï¼Œä¹Ÿå°±æ˜¯å“ªäº›é€šçŸ¥æ–¹æ³•å¯¹åº”å“ªäº›åˆ‡å…¥ç‚¹æ–¹æ³•ã€‚</li></ul><h3 id="_2-aopå…¥é—¨æ¡ˆä¾‹ã€é‡ç‚¹ã€‘" tabindex="-1"><a class="header-anchor" href="#_2-aopå…¥é—¨æ¡ˆä¾‹ã€é‡ç‚¹ã€‘" aria-hidden="true">#</a> 2 AOPå…¥é—¨æ¡ˆä¾‹ã€é‡ç‚¹ã€‘</h3><h4 id="é—®é¢˜å¯¼å…¥-1" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-1" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>é—®é¢˜1ï¼šåœ¨é€šçŸ¥æ–¹æ³•ä¸­å¦‚ä½•å®šä¹‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Ÿ</p><p>é—®é¢˜2ï¼šå¦‚ä½•é…ç½®åˆ‡é¢ï¼Ÿ</p><p>é—®é¢˜3ï¼šåœ¨é…ç½®ç±»ä¸Šå¦‚ä½•å¼€å¯AOPæ³¨è§£åŠŸèƒ½ï¼Ÿ</p><h4 id="_2-1-aopå…¥é—¨æ¡ˆä¾‹æ€è·¯åˆ†æ" tabindex="-1"><a class="header-anchor" href="#_2-1-aopå…¥é—¨æ¡ˆä¾‹æ€è·¯åˆ†æ" aria-hidden="true">#</a> 2.1 AOPå…¥é—¨æ¡ˆä¾‹æ€è·¯åˆ†æ</h4><ul><li>æ¡ˆä¾‹è®¾å®šï¼šæµ‹å®šæ¥å£æ‰§è¡Œæ•ˆç‡</li><li>ç®€åŒ–è®¾å®šï¼šåœ¨æ¥å£æ‰§è¡Œå‰è¾“å‡ºå½“å‰ç³»ç»Ÿæ—¶é—´</li><li>å¼€å‘æ¨¡å¼ï¼šXML or <strong><mark>æ³¨è§£</mark></strong></li><li>æ€è·¯åˆ†æï¼š <ol><li>å¯¼å…¥åæ ‡ï¼ˆpom.xmlï¼‰</li><li>åˆ¶ä½œè¿æ¥ç‚¹æ–¹æ³•ï¼ˆåŸå§‹æ“ä½œï¼Œdaoæ¥å£ä¸å®ç°ç±»ï¼‰</li><li>åˆ¶ä½œå…±æ€§åŠŸèƒ½ï¼ˆé€šçŸ¥ç±»ä¸é€šçŸ¥ï¼‰</li><li>å®šä¹‰åˆ‡å…¥ç‚¹</li><li>ç»‘å®šåˆ‡å…¥ç‚¹ä¸é€šçŸ¥å…³ç³»ï¼ˆåˆ‡é¢ï¼‰</li></ol></li></ul><h4 id="_2-2-aopå…¥é—¨æ¡ˆä¾‹å®ç°" tabindex="-1"><a class="header-anchor" href="#_2-2-aopå…¥é—¨æ¡ˆä¾‹å®ç°" aria-hidden="true">#</a> 2.2 AOPå…¥é—¨æ¡ˆä¾‹å®ç°</h4><h5 id="ã€ç¬¬ä¸€æ­¥ã€‘å¯¼å…¥aopç›¸å…³åæ ‡" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸€æ­¥ã€‘å¯¼å…¥aopç›¸å…³åæ ‡" aria-hidden="true">#</a> ã€ç¬¬ä¸€æ­¥ã€‘å¯¼å…¥aopç›¸å…³åæ ‡</h5><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--springæ ¸å¿ƒä¾èµ–ï¼Œä¼šå°†spring-aopä¼ é€’è¿›æ¥--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.2.10.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!--åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¾èµ–ï¼Œç›®çš„æ˜¯æ‰¾åˆ°åˆ‡å…¥ç‚¹æ–¹æ³•ï¼Œä¹Ÿå°±æ˜¯æ‰¾åˆ°è¦å¢å¼ºçš„æ–¹æ³•--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.aspectj<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>aspectjweaver<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20210730150138448-84fc6690.png" alt="image-20210730150138448" tabindex="0" loading="lazy"><figcaption>image-20210730150138448</figcaption></figure><h5 id="ã€ç¬¬äºŒæ­¥ã€‘å®šä¹‰daoæ¥å£ä¸å®ç°ç±»" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬äºŒæ­¥ã€‘å®šä¹‰daoæ¥å£ä¸å®ç°ç±»" aria-hidden="true">#</a> ã€ç¬¬äºŒæ­¥ã€‘å®šä¹‰daoæ¥å£ä¸å®ç°ç±»</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BookDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BookDao</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;book dao save ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;book dao update ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬ä¸‰æ­¥ã€‘å®šä¹‰é€šçŸ¥ç±»-åˆ¶ä½œé€šçŸ¥æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸‰æ­¥ã€‘å®šä¹‰é€šçŸ¥ç±»-åˆ¶ä½œé€šçŸ¥æ–¹æ³•" aria-hidden="true">#</a> ã€ç¬¬ä¸‰æ­¥ã€‘å®šä¹‰é€šçŸ¥ç±»ï¼Œåˆ¶ä½œé€šçŸ¥æ–¹æ³•</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//é€šçŸ¥ç±»å¿…é¡»é…ç½®æˆSpringç®¡ç†çš„bean</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAdvice</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬å››æ­¥ã€‘å®šä¹‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€é…ç½®åˆ‡é¢-ç»‘å®šåˆ‡å…¥ç‚¹ä¸é€šçŸ¥å…³ç³»" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬å››æ­¥ã€‘å®šä¹‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€é…ç½®åˆ‡é¢-ç»‘å®šåˆ‡å…¥ç‚¹ä¸é€šçŸ¥å…³ç³»" aria-hidden="true">#</a> ã€ç¬¬å››æ­¥ã€‘å®šä¹‰åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ã€é…ç½®åˆ‡é¢(ç»‘å®šåˆ‡å…¥ç‚¹ä¸é€šçŸ¥å…³ç³»)</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//é€šçŸ¥ç±»å¿…é¡»é…ç½®æˆSpringç®¡ç†çš„bean</span>
<span class="token annotation punctuation">@Component</span>
<span class="token comment">//è®¾ç½®å½“å‰ç±»ä¸ºåˆ‡é¢ç±»ç±»</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAdvice</span> <span class="token punctuation">{</span>
    <span class="token comment">//è®¾ç½®åˆ‡å…¥ç‚¹ï¼Œ@Pointcutæ³¨è§£è¦æ±‚é…ç½®åœ¨æ–¹æ³•ä¸Šæ–¹</span>
    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">&quot;execution(void com.beisheng.dao.BookDao.update())&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">pt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">//è®¾ç½®åœ¨åˆ‡å…¥ç‚¹pt()çš„å‰é¢è¿è¡Œå½“å‰æ“ä½œ(å‰ç½®é€šçŸ¥)</span>
    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">method</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20210730154740528-8f329199.png" alt="image-20210730154740528" tabindex="0" loading="lazy"><figcaption>image-20210730154740528</figcaption></figure><h5 id="ã€ç¬¬äº”æ­¥ã€‘åœ¨é…ç½®ç±»ä¸­è¿›è¡Œspringæ³¨è§£åŒ…æ‰«æå’Œå¼€å¯aopåŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬äº”æ­¥ã€‘åœ¨é…ç½®ç±»ä¸­è¿›è¡Œspringæ³¨è§£åŒ…æ‰«æå’Œå¼€å¯aopåŠŸèƒ½" aria-hidden="true">#</a> ã€ç¬¬äº”æ­¥ã€‘åœ¨é…ç½®ç±»ä¸­è¿›è¡ŒSpringæ³¨è§£åŒ…æ‰«æå’Œå¼€å¯AOPåŠŸèƒ½</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.beisheng&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//å¼€å¯æ³¨è§£å¼€å‘AOPåŠŸèƒ½</span>
<span class="token annotation punctuation">@EnableAspectJAutoProxy</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="æµ‹è¯•ç±»å’Œè¿è¡Œç»“æœ" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•ç±»å’Œè¿è¡Œç»“æœ" aria-hidden="true">#</a> æµ‹è¯•ç±»å’Œè¿è¡Œç»“æœ</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BookDao</span> bookDao <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bookDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20210730151347354-1f84d6f3.png" alt="image-20210730151347354" tabindex="0" loading="lazy"><figcaption>image-20210730151347354</figcaption></figure><h3 id="_3-aopå·¥ä½œæµç¨‹ã€ç†è§£ã€‘" tabindex="-1"><a class="header-anchor" href="#_3-aopå·¥ä½œæµç¨‹ã€ç†è§£ã€‘" aria-hidden="true">#</a> 3 AOPå·¥ä½œæµç¨‹ã€ç†è§£ã€‘</h3><h4 id="é—®é¢˜å¯¼å…¥-2" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-2" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>ä»€ä¹ˆæ˜¯ç›®æ ‡å¯¹è±¡ï¼Ÿä»€ä¹ˆæ˜¯ä»£ç†å¯¹è±¡ï¼Ÿ</p><h4 id="_3-1-aopå·¥ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#_3-1-aopå·¥ä½œæµç¨‹" aria-hidden="true">#</a> 3.1 AOPå·¥ä½œæµç¨‹</h4><ol><li>Springå®¹å™¨å¯åŠ¨</li><li>è¯»å–æ‰€æœ‰åˆ‡é¢é…ç½®ä¸­çš„åˆ‡å…¥ç‚¹</li><li>åˆå§‹åŒ–beanï¼Œåˆ¤å®šbeanå¯¹åº”çš„ç±»ä¸­çš„æ–¹æ³•æ˜¯å¦åŒ¹é…åˆ°ä»»æ„åˆ‡å…¥ç‚¹ <ul><li>åŒ¹é…å¤±è´¥ï¼Œåˆ›å»ºåŸå§‹å¯¹è±¡</li><li>åŒ¹é…æˆåŠŸï¼Œåˆ›å»ºåŸå§‹å¯¹è±¡ï¼ˆç›®æ ‡å¯¹è±¡ï¼‰çš„ä»£ç†å¯¹è±¡</li></ul></li><li>è·å–beanæ‰§è¡Œæ–¹æ³• <ul><li>è·å–çš„beanæ˜¯åŸå§‹å¯¹è±¡æ—¶ï¼Œè°ƒç”¨æ–¹æ³•å¹¶æ‰§è¡Œï¼Œå®Œæˆæ“ä½œ</li><li>è·å–çš„beanæ˜¯ä»£ç†å¯¹è±¡æ—¶ï¼Œæ ¹æ®ä»£ç†å¯¹è±¡çš„è¿è¡Œæ¨¡å¼è¿è¡ŒåŸå§‹æ–¹æ³•ä¸å¢å¼ºçš„å†…å®¹ï¼Œå®Œæˆæ“ä½œ</li></ul></li></ol><h4 id="_3-2-aopæ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_3-2-aopæ ¸å¿ƒæ¦‚å¿µ" aria-hidden="true">#</a> 3.2 AOPæ ¸å¿ƒæ¦‚å¿µ</h4><p>ç›®æ ‡å¯¹è±¡ï¼ˆTargetï¼‰ï¼šè¢«ä»£ç†çš„å¯¹è±¡ï¼Œä¹Ÿå«åŸå§‹å¯¹è±¡ï¼Œè¯¥å¯¹è±¡ä¸­çš„æ–¹æ³•æ²¡æœ‰ä»»ä½•åŠŸèƒ½å¢å¼ºã€‚<br> ä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰ï¼šä»£ç†åç”Ÿæˆçš„å¯¹è±¡ï¼Œç”±Springå¸®æˆ‘ä»¬åˆ›å»ºä»£ç†å¯¹è±¡ã€‚</p><h4 id="_3-3-åœ¨æµ‹è¯•ç±»ä¸­éªŒè¯ä»£ç†å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_3-3-åœ¨æµ‹è¯•ç±»ä¸­éªŒè¯ä»£ç†å¯¹è±¡" aria-hidden="true">#</a> 3.3 åœ¨æµ‹è¯•ç±»ä¸­éªŒè¯ä»£ç†å¯¹è±¡</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">BookDao</span> bookDao <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">BookDao</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bookDao<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">//æ‰“å°å¯¹è±¡çš„ç±»å</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bookDao<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20210730152631741-6c63a193.png" alt="image-20210730152631741" tabindex="0" loading="lazy"><figcaption>image-20210730152631741</figcaption></figure><h3 id="_4-aopåˆ‡å…¥ç‚¹è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#_4-aopåˆ‡å…¥ç‚¹è¡¨è¾¾å¼" aria-hidden="true">#</a> 4 AOPåˆ‡å…¥ç‚¹è¡¨è¾¾å¼</h3><h4 id="é—®é¢˜å¯¼å…¥-3" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-3" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>åœ¨åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¸­å¦‚ä½•ç®€åŒ–åŒ…åå’Œå‚æ•°ç±»å‹ä¹¦å†™ï¼Ÿ</p><h4 id="_4-1-è¯­æ³•æ ¼å¼" tabindex="-1"><a class="header-anchor" href="#_4-1-è¯­æ³•æ ¼å¼" aria-hidden="true">#</a> 4.1 è¯­æ³•æ ¼å¼</h4><ul><li><p>åˆ‡å…¥ç‚¹ï¼šè¦è¿›è¡Œå¢å¼ºçš„æ–¹æ³•</p></li><li><p>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼šè¦è¿›è¡Œå¢å¼ºçš„æ–¹æ³•çš„æè¿°æ–¹å¼</p><ul><li>æè¿°æ–¹å¼ä¸€ï¼šæ‰§è¡Œcom.beisheng.daoåŒ…ä¸‹çš„BookDaoæ¥å£ä¸­çš„æ— å‚æ•°updateæ–¹æ³•</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">execution</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>beisheng<span class="token punctuation">.</span>dao<span class="token punctuation">.</span></span>BookDao</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>æè¿°æ–¹å¼äºŒï¼šæ‰§è¡Œcom.beisheng.dao.implåŒ…ä¸‹çš„BookDaoImplç±»ä¸­çš„æ— å‚æ•°updateæ–¹æ³•</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">execution</span><span class="token punctuation">(</span><span class="token keyword">void</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>beisheng<span class="token punctuation">.</span>dao<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span>BookDaoImpl</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ ‡å‡†æ ¼å¼ï¼šåŠ¨ä½œå…³é”®å­—(è®¿é—®ä¿®é¥°ç¬¦ è¿”å›å€¼ åŒ…å.ç±»/æ¥å£å.æ–¹æ³•å(å‚æ•°) å¼‚å¸¸åï¼‰</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>execution(public User com.beisheng.service.UserService.findById(int))
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>åŠ¨ä½œå…³é”®å­—ï¼šæè¿°åˆ‡å…¥ç‚¹çš„è¡Œä¸ºåŠ¨ä½œï¼Œä¾‹å¦‚executionè¡¨ç¤ºæ‰§è¡Œåˆ°æŒ‡å®šåˆ‡å…¥ç‚¹</li><li>è®¿é—®ä¿®é¥°ç¬¦ï¼špublicï¼Œprivateç­‰ï¼Œå¯ä»¥çœç•¥</li><li>è¿”å›å€¼ï¼šå†™è¿”å›å€¼ç±»å‹</li><li>åŒ…åï¼šå¤šçº§åŒ…ä½¿ç”¨ç‚¹è¿æ¥</li><li>ç±»/æ¥å£åï¼š</li><li>æ–¹æ³•åï¼š</li><li>å‚æ•°ï¼šç›´æ¥å†™å‚æ•°çš„ç±»å‹ï¼Œå¤šä¸ªç±»å‹ç”¨é€—å·éš”å¼€</li><li>å¼‚å¸¸åï¼šæ–¹æ³•å®šä¹‰ä¸­æŠ›å‡ºæŒ‡å®šå¼‚å¸¸ï¼Œå¯ä»¥çœç•¥</li></ul></li></ul><h4 id="_4-2-é€šé…ç¬¦" tabindex="-1"><a class="header-anchor" href="#_4-2-é€šé…ç¬¦" aria-hidden="true">#</a> 4.2 é€šé…ç¬¦</h4><blockquote><p>ç›®çš„ï¼šå¯ä»¥ä½¿ç”¨é€šé…ç¬¦æè¿°åˆ‡å…¥ç‚¹ï¼Œå¿«é€Ÿæè¿°ã€‚</p></blockquote><ul><li>ï¼šå•ä¸ªç‹¬ç«‹çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥ç‹¬ç«‹å‡ºç°ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå‰ç¼€æˆ–è€…åç¼€çš„åŒ¹é…ç¬¦å‡ºç°</li></ul><blockquote><p>åŒ¹é…com.beishengåŒ…ä¸‹çš„ä»»æ„åŒ…ä¸­çš„UserServiceç±»æˆ–æ¥å£ä¸­æ‰€æœ‰findå¼€å¤´çš„å¸¦æœ‰ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>executionï¼ˆ<span class="token keyword">public</span> <span class="token operator">*</span> com<span class="token punctuation">.</span>beisheng<span class="token punctuation">.</span>*<span class="token punctuation">.</span>UserService<span class="token punctuation">.</span>find<span class="token operator">*</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>.. ï¼šå¤šä¸ªè¿ç»­çš„ä»»æ„ç¬¦å·ï¼Œå¯ä»¥ç‹¬ç«‹å‡ºç°ï¼Œå¸¸ç”¨äºç®€åŒ–åŒ…åä¸å‚æ•°çš„ä¹¦å†™</li></ul><blockquote><p>åŒ¹é…comåŒ…ä¸‹çš„ä»»æ„åŒ…ä¸­çš„UserServiceç±»æˆ–æ¥å£ä¸­æ‰€æœ‰åç§°ä¸ºfindByIdçš„æ–¹æ³•</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>executionï¼ˆ<span class="token keyword">public</span> <span class="token class-name">User</span> com<span class="token punctuation">.</span><span class="token punctuation">.</span>UserService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>+ï¼šä¸“ç”¨äºåŒ¹é…å­ç±»ç±»å‹</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token function">execution</span><span class="token punctuation">(</span><span class="token operator">*</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token punctuation">.</span>*<span class="token class-name">Service</span><span class="token operator">+</span><span class="token punctuation">.</span>*<span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_4-3-ä¹¦å†™æŠ€å·§" tabindex="-1"><a class="header-anchor" href="#_4-3-ä¹¦å†™æŠ€å·§" aria-hidden="true">#</a> 4.3 ä¹¦å†™æŠ€å·§</h4><ul><li>æ‰€æœ‰ä»£ç æŒ‰ç…§æ ‡å‡†è§„èŒƒå¼€å‘ï¼Œå¦åˆ™ä»¥ä¸‹æŠ€å·§å…¨éƒ¨å¤±æ•ˆ</li><li>æè¿°åˆ‡å…¥ç‚¹é€š**<mark>å¸¸æè¿°æ¥å£</mark>**ï¼Œè€Œä¸æè¿°å®ç°ç±»</li><li>è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦é’ˆå¯¹æ¥å£å¼€å‘å‡é‡‡ç”¨publicæè¿°ï¼ˆ<strong><mark>å¯çœç•¥è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦æè¿°</mark></strong>ï¼‰</li><li>è¿”å›å€¼ç±»å‹å¯¹äºå¢åˆ æ”¹ç±»ä½¿ç”¨ç²¾å‡†ç±»å‹åŠ é€ŸåŒ¹é…ï¼Œå¯¹äºæŸ¥è¯¢ç±»ä½¿ç”¨*é€šé…å¿«é€Ÿæè¿°</li><li><strong><mark>åŒ…å</mark><strong>ä¹¦å†™</strong><mark>å°½é‡ä¸ä½¿ç”¨..åŒ¹é…</mark></strong>ï¼Œæ•ˆç‡è¿‡ä½ï¼Œå¸¸ç”¨*åšå•ä¸ªåŒ…æè¿°åŒ¹é…ï¼Œæˆ–ç²¾å‡†åŒ¹é…</li><li><strong><mark>æ¥å£å/ç±»å</mark><strong>ä¹¦å†™åç§°ä¸æ¨¡å—ç›¸å…³çš„</strong><mark>é‡‡ç”¨*åŒ¹é…</mark></strong>ï¼Œä¾‹å¦‚UserServiceä¹¦å†™æˆ*Serviceï¼Œç»‘å®šä¸šåŠ¡å±‚æ¥å£å</li><li><strong><mark>æ–¹æ³•å</mark><strong>ä¹¦å†™ä»¥</strong><mark>åŠ¨è¯</mark><strong>è¿›è¡Œ</strong><mark>ç²¾å‡†åŒ¹é…</mark></strong>ï¼Œåè¯é‡‡ç”¨<em>åŒ¹é…ï¼Œä¾‹å¦‚getByIdä¹¦å†™æˆgetBy</em>,selectAllä¹¦å†™æˆselectAll</li><li>å‚æ•°è§„åˆ™è¾ƒä¸ºå¤æ‚ï¼Œæ ¹æ®ä¸šåŠ¡æ–¹æ³•çµæ´»è°ƒæ•´</li><li>é€šå¸¸**<mark>ä¸ä½¿ç”¨å¼‚å¸¸</mark><strong>ä½œä¸º</strong><mark>åŒ¹é…</mark>**è§„åˆ™</li></ul><h3 id="_5-aopé€šçŸ¥ç±»å‹ã€é‡ç‚¹ã€‘" tabindex="-1"><a class="header-anchor" href="#_5-aopé€šçŸ¥ç±»å‹ã€é‡ç‚¹ã€‘" aria-hidden="true">#</a> 5 AOPé€šçŸ¥ç±»å‹ã€é‡ç‚¹ã€‘</h3><h4 id="é—®é¢˜å¯¼å…¥-4" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-4" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>è¯·æè¿°ä¸€ä¸‹å¦‚ä½•å®šä¹‰ç¯ç»•é€šçŸ¥æ–¹æ³•ï¼Ÿ</p><h4 id="_5-1-aopé€šçŸ¥åˆ†ç±»" tabindex="-1"><a class="header-anchor" href="#_5-1-aopé€šçŸ¥åˆ†ç±»" aria-hidden="true">#</a> 5.1 AOPé€šçŸ¥åˆ†ç±»</h4><ul><li>AOPé€šçŸ¥æè¿°äº†æŠ½å–çš„å…±æ€§åŠŸèƒ½ï¼Œæ ¹æ®å…±æ€§åŠŸèƒ½æŠ½å–çš„ä½ç½®ä¸åŒï¼Œæœ€ç»ˆè¿è¡Œä»£ç æ—¶è¦å°†å…¶åŠ å…¥åˆ°åˆç†çš„ä½ç½®</li><li>AOPé€šçŸ¥å…±åˆ†ä¸º5ç§ç±»å‹ <ul><li>å‰ç½®é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œ</li><li>åç½®é€šçŸ¥ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œæ— è®ºåˆ‡å…¥ç‚¹æ–¹æ³•å†…éƒ¨æ˜¯å¦å‡ºç°å¼‚å¸¸ï¼Œåç½®é€šçŸ¥éƒ½ä¼šæ‰§è¡Œã€‚</li><li>**<mark>ç¯ç»•é€šçŸ¥(é‡ç‚¹)ï¼š</mark>**æ‰‹åŠ¨è°ƒç”¨åˆ‡å…¥ç‚¹æ–¹æ³•å¹¶å¯¹å…¶è¿›è¡Œå¢å¼ºçš„é€šçŸ¥æ–¹å¼ã€‚</li><li>è¿”å›åé€šçŸ¥(äº†è§£)ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œå¦‚æœåˆ‡å…¥ç‚¹æ–¹æ³•å†…éƒ¨å‡ºç°å¼‚å¸¸å°†ä¸ä¼šæ‰§è¡Œã€‚</li><li>æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥(äº†è§£)ï¼šåœ¨åˆ‡å…¥ç‚¹æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œï¼Œåªæœ‰å½“åˆ‡å…¥ç‚¹æ–¹æ³•å†…éƒ¨å‡ºç°å¼‚å¸¸ä¹‹åæ‰æ‰§è¡Œã€‚</li></ul></li></ul><h4 id="_5-2-aopé€šçŸ¥è¯¦è§£" tabindex="-1"><a class="header-anchor" href="#_5-2-aopé€šçŸ¥è¯¦è§£" aria-hidden="true">#</a> 5.2 AOPé€šçŸ¥è¯¦è§£</h4><h5 id="_5-2-1-å‰ç½®é€šçŸ¥" tabindex="-1"><a class="header-anchor" href="#_5-2-1-å‰ç½®é€šçŸ¥" aria-hidden="true">#</a> 5.2.1 å‰ç½®é€šçŸ¥</h5><ul><li>åç§°ï¼š@Before</li><li>ç±»å‹ï¼š<strong><mark>æ–¹æ³•æ³¨è§£</mark></strong></li><li>ä½ç½®ï¼šé€šçŸ¥æ–¹æ³•å®šä¹‰ä¸Šæ–¹</li><li>ä½œç”¨ï¼šè®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•å‰è¿è¡Œ</li><li>èŒƒä¾‹ï¼š</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;before advice ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-2-2-åç½®é€šçŸ¥" tabindex="-1"><a class="header-anchor" href="#_5-2-2-åç½®é€šçŸ¥" aria-hidden="true">#</a> 5.2.2 åç½®é€šçŸ¥</h5><ul><li>åç§°ï¼š@After</li><li>ç±»å‹ï¼š<mark><strong>æ–¹æ³•æ³¨è§£</strong></mark></li><li>ä½ç½®ï¼šé€šçŸ¥æ–¹æ³•å®šä¹‰ä¸Šæ–¹</li><li>ä½œç”¨ï¼šè®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•åè¿è¡Œ</li><li>èŒƒä¾‹ï¼š</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@After</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">after</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after advice ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-2-3-è¿”å›åé€šçŸ¥" tabindex="-1"><a class="header-anchor" href="#_5-2-3-è¿”å›åé€šçŸ¥" aria-hidden="true">#</a> 5.2.3 è¿”å›åé€šçŸ¥</h5><ul><li>åç§°ï¼š@AfterReturningï¼ˆäº†è§£ï¼‰</li><li>ç±»å‹ï¼š<strong><mark>æ–¹æ³•æ³¨è§£</mark></strong></li><li>ä½ç½®ï¼šé€šçŸ¥æ–¹æ³•å®šä¹‰ä¸Šæ–¹</li><li>ä½œç”¨ï¼šè®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•æ­£å¸¸æ‰§è¡Œå®Œæ¯•åè¿è¡Œ</li><li>èŒƒä¾‹ï¼š</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterReturning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterReturning advice ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-2-4-æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥" tabindex="-1"><a class="header-anchor" href="#_5-2-4-æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥" aria-hidden="true">#</a> 5.2.4 æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥</h5><ul><li>åç§°ï¼š@AfterThrowingï¼ˆäº†è§£ï¼‰</li><li>ç±»å‹ï¼š<strong><mark>æ–¹æ³•æ³¨è§£</mark></strong></li><li>ä½ç½®ï¼šé€šçŸ¥æ–¹æ³•å®šä¹‰ä¸Šæ–¹</li><li>ä½œç”¨ï¼šè®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•è¿è¡ŒæŠ›å‡ºå¼‚å¸¸åæ‰§è¡Œ</li><li>èŒƒä¾‹ï¼š</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterThrowing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterThrowing advice ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_5-2-5-ç¯ç»•é€šçŸ¥" tabindex="-1"><a class="header-anchor" href="#_5-2-5-ç¯ç»•é€šçŸ¥" aria-hidden="true">#</a> 5.2.5 ç¯ç»•é€šçŸ¥</h5><ul><li>åç§°ï¼š@Aroundï¼ˆé‡ç‚¹ï¼Œå¸¸ç”¨ï¼‰</li><li>ç±»å‹ï¼š<strong><mark>æ–¹æ³•æ³¨è§£</mark></strong></li><li>ä½ç½®ï¼šé€šçŸ¥æ–¹æ³•å®šä¹‰ä¸Šæ–¹</li><li>ä½œç”¨ï¼šè®¾ç½®å½“å‰é€šçŸ¥æ–¹æ³•ä¸åˆ‡å…¥ç‚¹ä¹‹é—´çš„ç»‘å®šå…³ç³»ï¼Œå½“å‰é€šçŸ¥æ–¹æ³•åœ¨åŸå§‹åˆ‡å…¥ç‚¹æ–¹æ³•å‰åè¿è¡Œ</li><li>èŒƒä¾‹ï¼šï¼š</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;around before advice ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> ret <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;around after advice ...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><mark><strong>ç¯ç»•é€šçŸ¥æ³¨æ„äº‹é¡¹</strong></mark></p><ol><li>ç¯ç»•é€šçŸ¥æ–¹æ³•å½¢å‚å¿…é¡»æ˜¯ProceedingJoinPointï¼Œè¡¨ç¤ºæ­£åœ¨æ‰§è¡Œçš„è¿æ¥ç‚¹ï¼Œä½¿ç”¨è¯¥å¯¹è±¡çš„proceed()æ–¹æ³•è¡¨ç¤ºå¯¹åŸå§‹å¯¹è±¡æ–¹æ³•è¿›è¡Œè°ƒç”¨ï¼Œè¿”å›å€¼ä¸ºåŸå§‹å¯¹è±¡æ–¹æ³•çš„è¿”å›å€¼ã€‚</li><li>ç¯ç»•é€šçŸ¥æ–¹æ³•çš„è¿”å›å€¼å»ºè®®å†™æˆObjectç±»å‹ï¼Œç”¨äºå°†åŸå§‹å¯¹è±¡æ–¹æ³•çš„è¿”å›å€¼è¿›è¡Œè¿”å›ï¼Œå“ªé‡Œä½¿ç”¨ä»£ç†å¯¹è±¡å°±è¿”å›åˆ°å“ªé‡Œã€‚</li></ol><h2 id="äºŒã€aopæ¡ˆä¾‹" tabindex="-1"><a class="header-anchor" href="#äºŒã€aopæ¡ˆä¾‹" aria-hidden="true">#</a> äºŒã€AOPæ¡ˆä¾‹</h2><h3 id="_1-æ¡ˆä¾‹-æµ‹é‡ä¸šåŠ¡å±‚æ¥å£ä¸‡æ¬¡æ‰§è¡Œæ•ˆç‡" tabindex="-1"><a class="header-anchor" href="#_1-æ¡ˆä¾‹-æµ‹é‡ä¸šåŠ¡å±‚æ¥å£ä¸‡æ¬¡æ‰§è¡Œæ•ˆç‡" aria-hidden="true">#</a> 1 æ¡ˆä¾‹-æµ‹é‡ä¸šåŠ¡å±‚æ¥å£ä¸‡æ¬¡æ‰§è¡Œæ•ˆç‡</h3><h4 id="é—®é¢˜å¯¼å…¥-5" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-5" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>èƒ½ä¸èƒ½æè¿°ä¸€ä¸‹ç¯ç»•é€šçŸ¥é‡Œé¢çš„å®ç°æ­¥éª¤ï¼Ÿ</p><h4 id="_1-1-éœ€æ±‚å’Œåˆ†æ" tabindex="-1"><a class="header-anchor" href="#_1-1-éœ€æ±‚å’Œåˆ†æ" aria-hidden="true">#</a> 1.1 éœ€æ±‚å’Œåˆ†æ</h4><p>éœ€æ±‚ï¼šä»»æ„ä¸šåŠ¡å±‚æ¥å£æ‰§è¡Œå‡å¯æ˜¾ç¤ºå…¶æ‰§è¡Œæ•ˆç‡ï¼ˆæ‰§è¡Œæ—¶é•¿ï¼‰</p><p>åˆ†æï¼š</p><p>â€‹ â‘ ï¼šä¸šåŠ¡åŠŸèƒ½ï¼šä¸šåŠ¡å±‚æ¥å£æ‰§è¡Œå‰ååˆ†åˆ«è®°å½•æ—¶é—´ï¼Œæ±‚å·®å€¼å¾—åˆ°æ‰§è¡Œæ•ˆç‡<br> â€‹ â‘¡ï¼šé€šçŸ¥ç±»å‹é€‰æ‹©å‰åå‡å¯ä»¥å¢å¼ºçš„ç±»å‹â€”â€”ç¯ç»•é€šçŸ¥</p><h4 id="_1-2-ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-2-ä»£ç å®ç°" aria-hidden="true">#</a> 1.2 ä»£ç å®ç°</h4><h5 id="ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡" tabindex="-1"><a class="header-anchor" href="#ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡" aria-hidden="true">#</a> ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡</h5><ol><li><p>Springæ•´åˆmybatiså¯¹spring_dbæ•°æ®åº“ä¸­çš„Accountè¿›è¡ŒCRUDæ“ä½œ</p></li><li><p>Springæ•´åˆJunitæµ‹è¯•CRUDæ˜¯å¦OKã€‚</p></li><li><p>åœ¨pom.xmlä¸­æ·»åŠ aspectjweaveråˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¾èµ–</p></li><li><p>... ...</p></li></ol><h5 id="ã€ç¬¬ä¸€æ­¥ã€‘ç¼–å†™é€šçŸ¥ç±»" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸€æ­¥ã€‘ç¼–å†™é€šçŸ¥ç±»" aria-hidden="true">#</a> ã€ç¬¬ä¸€æ­¥ã€‘ç¼–å†™é€šçŸ¥ç±»</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProjectAdvice</span> <span class="token punctuation">{</span>
    <span class="token comment">//åŒ¹é…ä¸šåŠ¡å±‚çš„æ‰€æœ‰æ–¹æ³•</span>
    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">&quot;execution(* com.beisheng.service.*Service.*(..))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">servicePt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">//è®¾ç½®ç¯ç»•é€šçŸ¥ï¼Œåœ¨åŸå§‹æ“ä½œçš„è¿è¡Œå‰åè®°å½•æ‰§è¡Œæ—¶é—´</span>
    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;ProjectAdvice.servicePt()&quot;</span><span class="token punctuation">)</span> <span class="token comment">//æœ¬ç±»ç±»åå¯ä»¥çœç•¥ä¸å†™</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">runSpeed</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token comment">//è·å–æ‰§è¡Œçš„ç­¾åå¯¹è±¡</span>
        <span class="token class-name">Signature</span> signature <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–æ¥å£/ç±»å…¨é™å®šå</span>
        <span class="token class-name">String</span> className <span class="token operator">=</span> signature<span class="token punctuation">.</span><span class="token function">getDeclaringTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è·å–æ–¹æ³•å</span>
        <span class="token class-name">String</span> methodName <span class="token operator">=</span> signature<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//è®°å½•å¼€å§‹æ—¶é—´</span>
        <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ‰§è¡Œä¸‡æ¬¡æ“ä½œ</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">10000</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
           pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//è®°å½•ç»“æŸæ—¶é—´</span>
        <span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ‰“å°æ‰§è¡Œç»“æœ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‡æ¬¡æ‰§è¡Œï¼š&quot;</span><span class="token operator">+</span> className<span class="token operator">+</span><span class="token string">&quot;.&quot;</span><span class="token operator">+</span>methodName<span class="token operator">+</span><span class="token string">&quot;----&gt;&quot;</span> <span class="token operator">+</span><span class="token punctuation">(</span>end<span class="token operator">-</span>start<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬äºŒæ­¥ã€‘åœ¨springconfigé…ç½®ç±»ä¸Šå¼€å¯aopæ³¨è§£åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬äºŒæ­¥ã€‘åœ¨springconfigé…ç½®ç±»ä¸Šå¼€å¯aopæ³¨è§£åŠŸèƒ½" aria-hidden="true">#</a> ã€ç¬¬äºŒæ­¥ã€‘åœ¨SpringConfigé…ç½®ç±»ä¸Šå¼€å¯AOPæ³¨è§£åŠŸèƒ½</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.beisheng&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:jdbc.properties&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">JdbcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token class-name">MybatisConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EnableAspectJAutoProxy</span> <span class="token comment">//å¼€å¯AOPæ³¨è§£åŠŸèƒ½</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»-æŸ¥çœ‹ç»“æœ" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»-æŸ¥çœ‹ç»“æœ" aria-hidden="true">#</a> ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»ï¼ŒæŸ¥çœ‹ç»“æœ</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceTestCase</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindById</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Account</span> account <span class="token operator">=</span> accountService<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testFindAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Account</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> accountService<span class="token punctuation">.</span><span class="token function">findAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="/blog/assets/image-20210730164219555-40dea680.png" alt="image-20210730164219555" tabindex="0" loading="lazy"><figcaption>image-20210730164219555</figcaption></figure><h3 id="_2-aopåˆ‡å…¥ç‚¹æ•°æ®è·å–" tabindex="-1"><a class="header-anchor" href="#_2-aopåˆ‡å…¥ç‚¹æ•°æ®è·å–" aria-hidden="true">#</a> 2 AOPåˆ‡å…¥ç‚¹æ•°æ®è·å–</h3><h4 id="é—®é¢˜å¯¼å…¥-6" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-6" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>åœ¨ç¯ç»•é€šçŸ¥ä¸­å¯ä»¥è·å–åˆ°å“ªäº›æ•°æ®ï¼Ÿ</p><h4 id="_2-1-è·å–å‚æ•°" tabindex="-1"><a class="header-anchor" href="#_2-1-è·å–å‚æ•°" aria-hidden="true">#</a> 2.1 è·å–å‚æ•°</h4><blockquote><p>è¯´æ˜ï¼šåœ¨å‰ç½®é€šçŸ¥å’Œç¯ç»•é€šçŸ¥ä¸­éƒ½å¯ä»¥è·å–åˆ°è¿æ¥ç‚¹æ–¹æ³•çš„å‚æ•°ä»¬</p></blockquote><ul><li>JoinPointå¯¹è±¡æè¿°äº†è¿æ¥ç‚¹æ–¹æ³•çš„è¿è¡ŒçŠ¶æ€ï¼Œå¯ä»¥è·å–åˆ°åŸå§‹æ–¹æ³•çš„è°ƒç”¨å‚æ•°</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">before</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> jp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> jp<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è·å–è¿æ¥ç‚¹æ–¹æ³•çš„å‚æ•°ä»¬</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ProccedJointPointæ˜¯JoinPointçš„å­ç±»</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è·å–è¿æ¥ç‚¹æ–¹æ³•çš„å‚æ•°ä»¬</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span> ret <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-2-è·å–è¿”å›å€¼" tabindex="-1"><a class="header-anchor" href="#_2-2-è·å–è¿”å›å€¼" aria-hidden="true">#</a> 2.2 è·å–è¿”å›å€¼</h4><blockquote><p>è¯´æ˜ï¼šåœ¨è¿”å›åé€šçŸ¥å’Œç¯ç»•é€šçŸ¥ä¸­éƒ½å¯ä»¥è·å–åˆ°è¿æ¥ç‚¹æ–¹æ³•çš„è¿”å›å€¼</p></blockquote><ul><li>æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥å¯ä»¥è·å–åˆ‡å…¥ç‚¹æ–¹æ³•ä¸­å‡ºç°çš„å¼‚å¸¸ä¿¡æ¯ï¼Œä½¿ç”¨å½¢å‚å¯ä»¥æ¥æ”¶å¯¹åº”çš„å¼‚å¸¸å¯¹è±¡</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;pt()&quot;</span><span class="token punctuation">,</span>returning <span class="token operator">=</span> <span class="token string">&quot;ret&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterReturning</span><span class="token punctuation">(</span><span class="token class-name">String</span> ret<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">//å˜é‡åè¦å’Œreturning=&quot;ret&quot;çš„å±æ€§å€¼ä¸€è‡´</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterReturning advice ...&quot;</span><span class="token operator">+</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ç¯ç»•é€šçŸ¥ä¸­å¯ä»¥æ‰‹å·¥ä¹¦å†™å¯¹åŸå§‹æ–¹æ³•çš„è°ƒç”¨ï¼Œå¾—åˆ°çš„ç»“æœå³ä¸ºåŸå§‹æ–¹æ³•çš„è¿”å›å€¼</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ‰‹åŠ¨è°ƒç”¨è¿æ¥ç‚¹æ–¹æ³•ï¼Œè¿”å›å€¼å°±æ˜¯è¿æ¥ç‚¹æ–¹æ³•çš„è¿”å›å€¼</span>
    <span class="token class-name">Object</span> ret <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-3-è·å–å¼‚å¸¸" tabindex="-1"><a class="header-anchor" href="#_2-3-è·å–å¼‚å¸¸" aria-hidden="true">#</a> 2.3 è·å–å¼‚å¸¸</h4><blockquote><p>è¯´æ˜ï¼šåœ¨æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥å’Œç¯ç»•é€šçŸ¥ä¸­éƒ½å¯ä»¥è·å–åˆ°è¿æ¥ç‚¹æ–¹æ³•ä¸­å‡ºç°çš„å¼‚å¸¸</p></blockquote><ul><li>æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥å¯ä»¥è·å–åˆ‡å…¥ç‚¹æ–¹æ³•ä¸­å‡ºç°çš„å¼‚å¸¸ä¿¡æ¯ï¼Œä½¿ç”¨å½¢å‚å¯ä»¥æ¥æ”¶å¯¹åº”çš„å¼‚å¸¸å¯¹è±¡</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;pt()&quot;</span><span class="token punctuation">,</span>throwing <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterThrowing</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//å˜é‡åè¦å’Œthrowing = &quot;t&quot;çš„å±æ€§å€¼ä¸€è‡´</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;afterThrowing advice ...&quot;</span><span class="token operator">+</span> t<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥å¯ä»¥è·å–åˆ‡å…¥ç‚¹æ–¹æ³•è¿è¡Œçš„å¼‚å¸¸ä¿¡æ¯ï¼Œä½¿ç”¨å½¢å‚å¯ä»¥æ¥æ”¶è¿è¡Œæ—¶æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;pt()&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">around</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span>  <span class="token punctuation">{</span>
    <span class="token class-name">Object</span> ret <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token comment">//æ­¤å¤„éœ€è¦try...catchå¤„ç†ï¼Œcatchä¸­æ•è·åˆ°çš„å¼‚å¸¸å°±æ˜¯è¿æ¥ç‚¹æ–¹æ³•ä¸­æŠ›å‡ºçš„å¼‚å¸¸</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        ret <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Throwable</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        t<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-æ¡ˆä¾‹-ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†" tabindex="-1"><a class="header-anchor" href="#_3-æ¡ˆä¾‹-ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†" aria-hidden="true">#</a> 3 æ¡ˆä¾‹-ç™¾åº¦ç½‘ç›˜å¯†ç æ•°æ®å…¼å®¹å¤„ç†</h3><h4 id="é—®é¢˜å¯¼å…¥-7" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-7" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>è¯·è¯´å‡ºæˆ‘ä»¬è¯¥ä½¿ç”¨ä»€ä¹ˆç±»å‹çš„é€šçŸ¥æ¥å®Œæˆè¿™ä¸ªéœ€æ±‚ï¼Ÿ</p><h4 id="_3-1-éœ€æ±‚å’Œåˆ†æ" tabindex="-1"><a class="header-anchor" href="#_3-1-éœ€æ±‚å’Œåˆ†æ" aria-hidden="true">#</a> 3.1 éœ€æ±‚å’Œåˆ†æ</h4><p>éœ€æ±‚ï¼šå¯¹ç™¾åº¦ç½‘ç›˜åˆ†äº«é“¾æ¥è¾“å…¥å¯†ç æ—¶å°¾éƒ¨å¤šè¾“å…¥çš„ç©ºæ ¼åšå…¼å®¹å¤„ç†</p><figure><img src="/blog/assets/image-20210731193059709-7ed1577b.png" alt="image-20210731193059709" tabindex="0" loading="lazy"><figcaption>image-20210731193059709</figcaption></figure><p>åˆ†æï¼š<br> â‘ ï¼šåœ¨ä¸šåŠ¡æ–¹æ³•æ‰§è¡Œä¹‹å‰å¯¹æ‰€æœ‰çš„è¾“å…¥å‚æ•°è¿›è¡Œæ ¼å¼å¤„ç†â€”â€”trim()<br> â‘¡ï¼šä½¿ç”¨å¤„ç†åçš„å‚æ•°è°ƒç”¨åŸå§‹æ–¹æ³•â€”â€”ç¯ç»•é€šçŸ¥ä¸­å­˜åœ¨å¯¹åŸå§‹æ–¹æ³•çš„è°ƒç”¨</p><h4 id="_3-2-ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#_3-2-ä»£ç å®ç°" aria-hidden="true">#</a> 3.2 ä»£ç å®ç°</h4><h5 id="ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡-1" tabindex="-1"><a class="header-anchor" href="#ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡-1" aria-hidden="true">#</a> ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//-------------serviceå±‚ä»£ç -----------------------</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ResourcesService</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">openURL</span><span class="token punctuation">(</span><span class="token class-name">String</span> url <span class="token punctuation">,</span><span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResourcesServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">ResourcesService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">ResourcesDao</span> resourcesDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">openURL</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> resourcesDao<span class="token punctuation">.</span><span class="token function">readResources</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//-------------daoå±‚ä»£ç -----------------------</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ResourcesDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">boolean</span> <span class="token function">readResources</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResourcesDaoImpl</span> <span class="token keyword">implements</span> <span class="token class-name">ResourcesDao</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">readResources</span><span class="token punctuation">(</span><span class="token class-name">String</span> url<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//æ¨¡æ‹Ÿæ ¡éªŒ</span>
        <span class="token keyword">return</span> password<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬ä¸€æ­¥ã€‘ç¼–å†™é€šçŸ¥ç±»-1" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸€æ­¥ã€‘ç¼–å†™é€šçŸ¥ç±»-1" aria-hidden="true">#</a> ã€ç¬¬ä¸€æ­¥ã€‘ç¼–å†™é€šçŸ¥ç±»</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Aspect</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DataAdvice</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span><span class="token string">&quot;execution(boolean com.beisheng.service.*Service.*(*,*))&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">servicePt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span><span class="token string">&quot;DataAdvice.servicePt()&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">trimStr</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> pjp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">{</span>
        <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> args<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//åˆ¤æ–­å‚æ•°æ˜¯ä¸æ˜¯å­—ç¬¦ä¸²</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                args<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> args<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">Object</span> ret <span class="token operator">=</span> pjp<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬äºŒæ­¥ã€‘åœ¨springconfigé…ç½®ç±»ä¸Šå¼€å¯aopæ³¨è§£åŠŸèƒ½-1" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬äºŒæ­¥ã€‘åœ¨springconfigé…ç½®ç±»ä¸Šå¼€å¯aopæ³¨è§£åŠŸèƒ½-1" aria-hidden="true">#</a> ã€ç¬¬äºŒæ­¥ã€‘åœ¨SpringConfigé…ç½®ç±»ä¸Šå¼€å¯AOPæ³¨è§£åŠŸèƒ½</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.beisheng&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@EnableAspectJAutoProxy</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»-æŸ¥çœ‹ç»“æœ-1" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»-æŸ¥çœ‹ç»“æœ-1" aria-hidden="true">#</a> ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»ï¼ŒæŸ¥çœ‹ç»“æœ</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ApplicationContext</span> ctx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AnnotationConfigApplicationContext</span><span class="token punctuation">(</span><span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">ResourcesService</span> resourcesService <span class="token operator">=</span> ctx<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token class-name">ResourcesService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> resourcesService<span class="token punctuation">.</span><span class="token function">openURL</span><span class="token punctuation">(</span><span class="token string">&quot;http://pan.baidu.com/haha&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;root &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-aopå¼€å‘æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#_4-aopå¼€å‘æ€»ç»“" aria-hidden="true">#</a> 4 AOPå¼€å‘æ€»ç»“</h3><h4 id="_4-1-aopçš„æ ¸å¿ƒæ¦‚å¿µ" tabindex="-1"><a class="header-anchor" href="#_4-1-aopçš„æ ¸å¿ƒæ¦‚å¿µ" aria-hidden="true">#</a> 4.1 AOPçš„æ ¸å¿ƒæ¦‚å¿µ</h4><ul><li>æ¦‚å¿µï¼šAOP(Aspect Oriented Programming)é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œä¸€ç§ç¼–ç¨‹èŒƒå¼</li><li>ä½œç”¨ï¼šåœ¨ä¸æƒŠåŠ¨åŸå§‹è®¾è®¡çš„åŸºç¡€ä¸Šä¸ºæ–¹æ³•è¿›è¡ŒåŠŸèƒ½å¢å¼º</li><li>æ ¸å¿ƒæ¦‚å¿µ <ul><li>ä»£ç†ï¼ˆProxyï¼‰ï¼šSpringAOPçš„æ ¸å¿ƒæœ¬è´¨æ˜¯é‡‡ç”¨ä»£ç†æ¨¡å¼å®ç°çš„</li><li>è¿æ¥ç‚¹ï¼ˆJoinPointï¼‰ï¼š åœ¨SpringAOPä¸­ï¼Œç†è§£ä¸ºä»»æ„æ–¹æ³•çš„æ‰§è¡Œ</li><li>åˆ‡å…¥ç‚¹ï¼ˆPointcutï¼‰ï¼šåŒ¹é…è¿æ¥ç‚¹çš„å¼å­ï¼Œä¹Ÿæ˜¯å…·æœ‰å…±æ€§åŠŸèƒ½çš„æ–¹æ³•æè¿°</li><li>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šè‹¥å¹²ä¸ªæ–¹æ³•çš„å…±æ€§åŠŸèƒ½ï¼Œåœ¨åˆ‡å…¥ç‚¹å¤„æ‰§è¡Œï¼Œæœ€ç»ˆä½“ç°ä¸ºä¸€ä¸ªæ–¹æ³•</li><li>åˆ‡é¢ï¼ˆAspectï¼‰ï¼šæè¿°é€šçŸ¥ä¸åˆ‡å…¥ç‚¹çš„å¯¹åº”å…³ç³»</li><li>ç›®æ ‡å¯¹è±¡ï¼ˆTargetï¼‰ï¼šè¢«ä»£ç†çš„åŸå§‹å¯¹è±¡æˆä¸ºç›®æ ‡å¯¹è±¡</li></ul></li></ul><h4 id="_4-2-åˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_4-2-åˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¯­æ³•" aria-hidden="true">#</a> 4.2 åˆ‡å…¥ç‚¹è¡¨è¾¾å¼è¯­æ³•</h4><ul><li><p>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ ‡å‡†æ ¼å¼ï¼šåŠ¨ä½œå…³é”®å­—(è®¿é—®ä¿®é¥°ç¬¦ è¿”å›å€¼ åŒ…å.ç±»/æ¥å£å.æ–¹æ³•åï¼ˆå‚æ•°ï¼‰å¼‚å¸¸å)</p><ul><li>execution(* com.beisheng.service.<em>Service.</em>(..))</li></ul></li><li><p>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼æè¿°é€šé…ç¬¦ï¼š</p><ul><li>ä½œç”¨ï¼šç”¨äºå¿«é€Ÿæè¿°ï¼ŒèŒƒå›´æè¿°</li><li>*ï¼šåŒ¹é…ä»»æ„ç¬¦å·ï¼ˆå¸¸ç”¨ï¼‰</li><li>.. ï¼šåŒ¹é…å¤šä¸ªè¿ç»­çš„ä»»æ„ç¬¦å·ï¼ˆå¸¸ç”¨ï¼‰</li><li>+ï¼šåŒ¹é…å­ç±»ç±»å‹</li></ul></li><li><p>åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ä¹¦å†™æŠ€å·§</p><p>1.æŒ‰æ ‡å‡†è§„èŒƒå¼€å‘<br> 2.æŸ¥è¯¢æ“ä½œçš„è¿”å›å€¼å»ºè®®ä½¿ç”¨*åŒ¹é…<br> 3.å‡å°‘ä½¿ç”¨..çš„å½¢å¼æè¿°åŒ…<br> 4.å¯¹æ¥å£è¿›è¡Œæè¿°ï¼Œä½¿ç”¨*è¡¨ç¤ºæ¨¡å—åï¼Œä¾‹å¦‚UserServiceçš„åŒ¹é…æè¿°ä¸º*Service<br> 5.æ–¹æ³•åä¹¦å†™ä¿ç•™åŠ¨è¯ï¼Œä¾‹å¦‚getï¼Œä½¿ç”¨*è¡¨ç¤ºåè¯ï¼Œä¾‹å¦‚getByIdåŒ¹é…æè¿°ä¸ºgetBy*<br> 6.å‚æ•°æ ¹æ®å®é™…æƒ…å†µçµæ´»è°ƒæ•´</p></li></ul><h4 id="_4-3-äº”ç§é€šçŸ¥ç±»å‹" tabindex="-1"><a class="header-anchor" href="#_4-3-äº”ç§é€šçŸ¥ç±»å‹" aria-hidden="true">#</a> 4.3 äº”ç§é€šçŸ¥ç±»å‹</h4><ul><li>å‰ç½®é€šçŸ¥</li><li>åç½®é€šçŸ¥ <ul><li>ç¯ç»•é€šçŸ¥ï¼ˆé‡ç‚¹ï¼‰</li><li>ç¯ç»•é€šçŸ¥ä¾èµ–å½¢å‚ProceedingJoinPointæ‰èƒ½å®ç°å¯¹åŸå§‹æ–¹æ³•çš„è°ƒç”¨</li><li>ç¯ç»•é€šçŸ¥å¯ä»¥éš”ç¦»åŸå§‹æ–¹æ³•çš„è°ƒç”¨æ‰§è¡Œ</li><li>ç¯ç»•é€šçŸ¥è¿”å›å€¼è®¾ç½®ä¸ºObjectç±»å‹</li><li>ç¯ç»•é€šçŸ¥ä¸­å¯ä»¥å¯¹åŸå§‹æ–¹æ³•è°ƒç”¨è¿‡ç¨‹ä¸­å‡ºç°çš„å¼‚å¸¸è¿›è¡Œå¤„ç†</li></ul></li><li>è¿”å›åé€šçŸ¥</li><li>æŠ›å‡ºå¼‚å¸¸åé€šçŸ¥</li></ul><h2 id="ä¸‰ã€springäº‹åŠ¡ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€springäº‹åŠ¡ç®¡ç†" aria-hidden="true">#</a> ä¸‰ã€Springäº‹åŠ¡ç®¡ç†</h2><h3 id="_1-springäº‹åŠ¡ç®€ä»‹ã€é‡ç‚¹ã€‘" tabindex="-1"><a class="header-anchor" href="#_1-springäº‹åŠ¡ç®€ä»‹ã€é‡ç‚¹ã€‘" aria-hidden="true">#</a> 1 Springäº‹åŠ¡ç®€ä»‹ã€é‡ç‚¹ã€‘</h3><h4 id="é—®é¢˜å¯¼å…¥-8" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-8" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>Springæä¾›çš„äº‹åŠ¡ç®¡ç†æ˜¯æ•°æ®å±‚çš„äº‹åŠ¡è¿˜æ˜¯ä¸šåŠ¡å±‚çš„äº‹åŠ¡?</p><h4 id="_1-1-springäº‹åŠ¡ä½œç”¨" tabindex="-1"><a class="header-anchor" href="#_1-1-springäº‹åŠ¡ä½œç”¨" aria-hidden="true">#</a> 1.1 Springäº‹åŠ¡ä½œç”¨</h4><ul><li>äº‹åŠ¡ä½œç”¨ï¼šåœ¨æ•°æ®å±‚ä¿éšœä¸€ç³»åˆ—çš„æ•°æ®åº“æ“ä½œåŒæˆåŠŸåŒå¤±è´¥</li><li>Springäº‹åŠ¡ä½œç”¨ï¼šåœ¨æ•°æ®å±‚æˆ–**<mark>ä¸šåŠ¡å±‚</mark>**ä¿éšœä¸€ç³»åˆ—çš„æ•°æ®åº“æ“ä½œåŒæˆåŠŸåŒå¤±è´¥</li></ul><figure><img src="/blog/assets/image-20210801190820853-d0c9a90e.png" alt="image-20210801190820853" tabindex="0" loading="lazy"><figcaption>image-20210801190820853</figcaption></figure><h4 id="_1-2-éœ€æ±‚å’Œåˆ†æ" tabindex="-1"><a class="header-anchor" href="#_1-2-éœ€æ±‚å’Œåˆ†æ" aria-hidden="true">#</a> 1.2 éœ€æ±‚å’Œåˆ†æ</h4><ul><li>éœ€æ±‚ï¼šå®ç°ä»»æ„ä¸¤ä¸ªè´¦æˆ·é—´è½¬è´¦æ“ä½œ</li><li>éœ€æ±‚å¾®ç¼©ï¼šAè´¦æˆ·å‡é’±ï¼ŒBè´¦æˆ·åŠ é’±</li><li>åˆ†æï¼š<br> â‘ ï¼šæ•°æ®å±‚æä¾›åŸºç¡€æ“ä½œï¼ŒæŒ‡å®šè´¦æˆ·å‡é’±ï¼ˆoutMoneyï¼‰ï¼ŒæŒ‡å®šè´¦æˆ·åŠ é’±ï¼ˆinMoneyï¼‰<br> â‘¡ï¼šä¸šåŠ¡å±‚æä¾›è½¬è´¦æ“ä½œï¼ˆtransferï¼‰ï¼Œè°ƒç”¨å‡é’±ä¸åŠ é’±çš„æ“ä½œ<br> â‘¢ï¼šæä¾›2ä¸ªè´¦å·å’Œæ“ä½œé‡‘é¢æ‰§è¡Œè½¬è´¦æ“ä½œ<br> â‘£ï¼šåŸºäºSpringæ•´åˆMyBatisç¯å¢ƒæ­å»ºä¸Šè¿°æ“ä½œ</li><li>ç»“æœåˆ†æï¼š<br> â‘ ï¼šç¨‹åºæ­£å¸¸æ‰§è¡Œæ—¶ï¼Œè´¦æˆ·é‡‘é¢Aå‡BåŠ ï¼Œæ²¡æœ‰é—®é¢˜<br> â‘¡ï¼šç¨‹åºå‡ºç°å¼‚å¸¸åï¼Œè½¬è´¦å¤±è´¥ï¼Œä½†æ˜¯å¼‚å¸¸ä¹‹å‰æ“ä½œæˆåŠŸï¼Œå¼‚å¸¸ä¹‹åæ“ä½œå¤±è´¥ï¼Œæ•´ä½“ä¸šåŠ¡å¤±è´¥</li></ul><h4 id="_1-3-ä»£ç å®ç°" tabindex="-1"><a class="header-anchor" href="#_1-3-ä»£ç å®ç°" aria-hidden="true">#</a> 1.3 ä»£ç å®ç°</h4><h5 id="ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡-2" tabindex="-1"><a class="header-anchor" href="#ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡-2" aria-hidden="true">#</a> ã€å‰ç½®å·¥ä½œã€‘ç¯å¢ƒå‡†å¤‡</h5><blockquote><p>Springæ•´åˆMybatisç›¸å…³ä»£ç (ä¾èµ–ã€JdbcConfigã€MybatisConfigã€SpringConfig)çœç•¥ã€‚</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountDao</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token string">&quot;update tbl_account set money = money + #{money} where name = #{name}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">inMoney</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Double</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Update</span><span class="token punctuation">(</span><span class="token string">&quot;update tbl_account set money = money - #{money} where name = #{name}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">outMoney</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;money&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Double</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * è½¬è´¦æ“ä½œ
     * <span class="token keyword">@param</span> <span class="token parameter">out</span> ä¼ å‡ºæ–¹
     * <span class="token keyword">@param</span> <span class="token parameter">in</span> è½¬å…¥æ–¹
     * <span class="token keyword">@param</span> <span class="token parameter">money</span> é‡‘é¢
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> out<span class="token punctuation">,</span><span class="token class-name">String</span> in <span class="token punctuation">,</span><span class="token class-name">Double</span> money<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> out<span class="token punctuation">,</span><span class="token class-name">String</span> in <span class="token punctuation">,</span><span class="token class-name">Double</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        accountDao<span class="token punctuation">.</span><span class="token function">outMoney</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>
        accountDao<span class="token punctuation">.</span><span class="token function">inMoney</span><span class="token punctuation">(</span>in<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬ä¸€æ­¥ã€‘åœ¨ä¸šåŠ¡å±‚æ¥å£ä¸Šæ·»åŠ springäº‹åŠ¡ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸€æ­¥ã€‘åœ¨ä¸šåŠ¡å±‚æ¥å£ä¸Šæ·»åŠ springäº‹åŠ¡ç®¡ç†" aria-hidden="true">#</a> ã€ç¬¬ä¸€æ­¥ã€‘åœ¨ä¸šåŠ¡å±‚æ¥å£ä¸Šæ·»åŠ Springäº‹åŠ¡ç®¡ç†</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>
    <span class="token comment">//é…ç½®å½“å‰æ¥å£æ–¹æ³•å…·æœ‰äº‹åŠ¡</span>
    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> out<span class="token punctuation">,</span><span class="token class-name">String</span> in <span class="token punctuation">,</span><span class="token class-name">Double</span> money<span class="token punctuation">)</span> <span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„äº‹é¡¹</p><ol><li>Springæ³¨è§£å¼äº‹åŠ¡é€šå¸¸æ·»åŠ åœ¨ä¸šåŠ¡å±‚æ¥å£ä¸­è€Œä¸ä¼šæ·»åŠ åˆ°ä¸šåŠ¡å±‚å®ç°ç±»ä¸­ï¼Œé™ä½è€¦åˆ</li><li>æ³¨è§£å¼äº‹åŠ¡å¯ä»¥æ·»åŠ åˆ°ä¸šåŠ¡æ–¹æ³•ä¸Šè¡¨ç¤ºå½“å‰æ–¹æ³•å¼€å¯äº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥æ·»åŠ åˆ°æ¥å£ä¸Šè¡¨ç¤ºå½“å‰æ¥å£æ‰€æœ‰æ–¹æ³•å¼€å¯äº‹åŠ¡</li></ol><h5 id="ã€ç¬¬äºŒæ­¥ã€‘è®¾ç½®äº‹åŠ¡ç®¡ç†å™¨-å°†äº‹åŠ¡ç®¡ç†å™¨æ·»åŠ åˆ°iocå®¹å™¨ä¸­" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬äºŒæ­¥ã€‘è®¾ç½®äº‹åŠ¡ç®¡ç†å™¨-å°†äº‹åŠ¡ç®¡ç†å™¨æ·»åŠ åˆ°iocå®¹å™¨ä¸­" aria-hidden="true">#</a> ã€ç¬¬äºŒæ­¥ã€‘è®¾ç½®äº‹åŠ¡ç®¡ç†å™¨(å°†äº‹åŠ¡ç®¡ç†å™¨æ·»åŠ åˆ°IOCå®¹å™¨ä¸­)</h5><blockquote><p>è¯´æ˜ï¼šå¯ä»¥åœ¨JdbcConfigä¸­é…ç½®äº‹åŠ¡ç®¡ç†å™¨</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//é…ç½®äº‹åŠ¡ç®¡ç†å™¨ï¼Œmybatisä½¿ç”¨çš„æ˜¯jdbcäº‹åŠ¡</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">PlatformTransactionManager</span> <span class="token function">transactionManager</span><span class="token punctuation">(</span><span class="token class-name">DataSource</span> dataSource<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token class-name">DataSourceTransactionManager</span> dtm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataSourceTransactionManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    transactionManager<span class="token punctuation">.</span><span class="token function">setDataSource</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> transactionManager<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„äº‹é¡¹</p><ol><li>äº‹åŠ¡ç®¡ç†å™¨è¦æ ¹æ®å®ç°æŠ€æœ¯è¿›è¡Œé€‰æ‹©</li><li>MyBatisæ¡†æ¶ä½¿ç”¨çš„æ˜¯JDBCäº‹åŠ¡</li></ol><h5 id="ã€ç¬¬ä¸‰æ­¥ã€‘å¼€å¯æ³¨è§£å¼äº‹åŠ¡é©±åŠ¨" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸‰æ­¥ã€‘å¼€å¯æ³¨è§£å¼äº‹åŠ¡é©±åŠ¨" aria-hidden="true">#</a> ã€ç¬¬ä¸‰æ­¥ã€‘å¼€å¯æ³¨è§£å¼äº‹åŠ¡é©±åŠ¨</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span><span class="token string">&quot;com.beisheng&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:jdbc.properties&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">JdbcConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span><span class="token class-name">MybatisConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//å¼€å¯æ³¨è§£å¼äº‹åŠ¡é©±åŠ¨</span>
<span class="token annotation punctuation">@EnableTransactionManagement</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SpringConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬å››æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»-æŸ¥çœ‹ç»“æœ" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬å››æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»-æŸ¥çœ‹ç»“æœ" aria-hidden="true">#</a> ã€ç¬¬å››æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»ï¼ŒæŸ¥çœ‹ç»“æœ</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceTest</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testTransfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        accountService<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">,</span><span class="token number">100D</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-springäº‹åŠ¡è§’è‰²ã€ç†è§£ã€‘" tabindex="-1"><a class="header-anchor" href="#_2-springäº‹åŠ¡è§’è‰²ã€ç†è§£ã€‘" aria-hidden="true">#</a> 2 Springäº‹åŠ¡è§’è‰²ã€ç†è§£ã€‘</h3><h4 id="é—®é¢˜å¯¼å…¥-9" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-9" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>ä»€ä¹ˆæ˜¯äº‹åŠ¡ç®¡ç†å‘˜ï¼Œä»€ä¹ˆæ˜¯äº‹åŠ¡åè°ƒå‘˜ï¼Ÿ</p><h4 id="_2-1-springäº‹åŠ¡è§’è‰²" tabindex="-1"><a class="header-anchor" href="#_2-1-springäº‹åŠ¡è§’è‰²" aria-hidden="true">#</a> 2.1 Springäº‹åŠ¡è§’è‰²</h4><ul><li>äº‹åŠ¡ç®¡ç†å‘˜ï¼šå‘èµ·äº‹åŠ¡æ–¹ï¼Œåœ¨Springä¸­é€šå¸¸æŒ‡ä»£ä¸šåŠ¡å±‚å¼€å¯äº‹åŠ¡çš„æ–¹æ³•</li><li>äº‹åŠ¡åè°ƒå‘˜ï¼šåŠ å…¥äº‹åŠ¡æ–¹ï¼Œåœ¨Springä¸­é€šå¸¸æŒ‡ä»£æ•°æ®å±‚æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸šåŠ¡å±‚æ–¹æ³•</li></ul><figure><img src="/blog/assets/image-20210801192453227-d0d5a8eb.png" alt="image-20210801192453227" tabindex="0" loading="lazy"><figcaption>image-20210801192453227</figcaption></figure><h3 id="_3-springäº‹åŠ¡ç›¸å…³é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-springäº‹åŠ¡ç›¸å…³é…ç½®" aria-hidden="true">#</a> 3 Springäº‹åŠ¡ç›¸å…³é…ç½®</h3><h4 id="é—®é¢˜å¯¼å…¥-10" tabindex="-1"><a class="header-anchor" href="#é—®é¢˜å¯¼å…¥-10" aria-hidden="true">#</a> é—®é¢˜å¯¼å…¥</h4><p>ä»€ä¹ˆæ ·çš„å¼‚å¸¸ï¼ŒSpringäº‹åŠ¡é»˜è®¤æ˜¯ä¸è¿›è¡Œå›æ»šçš„ï¼Ÿ</p><h4 id="_3-1-äº‹åŠ¡é…ç½®" tabindex="-1"><a class="header-anchor" href="#_3-1-äº‹åŠ¡é…ç½®" aria-hidden="true">#</a> 3.1 äº‹åŠ¡é…ç½®</h4><figure><img src="/blog/assets/image-20210802151553053-ea06f348.png" alt="image-20210802151553053" tabindex="0" loading="lazy"><figcaption>image-20210802151553053</figcaption></figure><blockquote><p>è¯´æ˜ï¼šå¯¹äºRuntimeExceptionç±»å‹å¼‚å¸¸æˆ–è€…Erroré”™è¯¯ï¼ŒSpringäº‹åŠ¡èƒ½å¤Ÿè¿›è¡Œå›æ»šæ“ä½œã€‚ä½†æ˜¯å¯¹äºç¼–è¯‘å™¨å¼‚å¸¸ï¼ŒSpringäº‹åŠ¡æ˜¯ä¸è¿›è¡Œå›æ»šçš„ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨rollbackForæ¥è®¾ç½®è¦å›æ»šçš„å¼‚å¸¸ã€‚</p></blockquote><h4 id="_3-2-æ¡ˆä¾‹-è½¬è´¦ä¸šåŠ¡è¿½åŠ æ—¥å¿—" tabindex="-1"><a class="header-anchor" href="#_3-2-æ¡ˆä¾‹-è½¬è´¦ä¸šåŠ¡è¿½åŠ æ—¥å¿—" aria-hidden="true">#</a> 3.2 æ¡ˆä¾‹ï¼šè½¬è´¦ä¸šåŠ¡è¿½åŠ æ—¥å¿—</h4><h5 id="éœ€æ±‚å’Œåˆ†æ" tabindex="-1"><a class="header-anchor" href="#éœ€æ±‚å’Œåˆ†æ" aria-hidden="true">#</a> éœ€æ±‚å’Œåˆ†æ</h5><ul><li>éœ€æ±‚ï¼šå®ç°ä»»æ„ä¸¤ä¸ªè´¦æˆ·é—´è½¬è´¦æ“ä½œï¼Œå¹¶å¯¹æ¯æ¬¡è½¬è´¦æ“ä½œåœ¨æ•°æ®åº“è¿›è¡Œç•™ç—•</li><li>éœ€æ±‚å¾®ç¼©ï¼šAè´¦æˆ·å‡é’±ï¼ŒBè´¦æˆ·åŠ é’±ï¼Œæ•°æ®åº“è®°å½•æ—¥å¿—</li><li>åˆ†æï¼š<br> â‘ ï¼šåŸºäºè½¬è´¦æ“ä½œæ¡ˆä¾‹æ·»åŠ æ—¥å¿—æ¨¡å—ï¼Œå®ç°æ•°æ®åº“ä¸­è®°å½•æ—¥å¿—<br> â‘¡ï¼šä¸šåŠ¡å±‚è½¬è´¦æ“ä½œï¼ˆtransferï¼‰ï¼Œè°ƒç”¨å‡é’±ã€åŠ é’±ä¸è®°å½•æ—¥å¿—åŠŸèƒ½</li><li>å®ç°æ•ˆæœé¢„æœŸï¼š<br> æ— è®ºè½¬è´¦æ“ä½œæ˜¯å¦æˆåŠŸï¼Œå‡è¿›è¡Œè½¬è´¦æ“ä½œçš„æ—¥å¿—ç•™ç—•</li><li>å­˜åœ¨çš„é—®é¢˜ï¼š<br> æ—¥å¿—çš„è®°å½•ä¸è½¬è´¦æ“ä½œéš¶å±åŒä¸€ä¸ªäº‹åŠ¡ï¼ŒåŒæˆåŠŸåŒå¤±è´¥</li><li>å®ç°æ•ˆæœé¢„æœŸæ”¹è¿›ï¼š<br> æ— è®ºè½¬è´¦æ“ä½œæ˜¯å¦æˆåŠŸï¼Œæ—¥å¿—å¿…é¡»ä¿ç•™</li><li>äº‹åŠ¡ä¼ æ’­è¡Œä¸ºï¼šäº‹åŠ¡åè°ƒå‘˜å¯¹äº‹åŠ¡ç®¡ç†å‘˜æ‰€æºå¸¦äº‹åŠ¡çš„å¤„ç†æ€åº¦</li></ul><figure><img src="/blog/assets/image-20210802153216460-3453977b.png" alt="image-20210802153216460" tabindex="0" loading="lazy"><figcaption>image-20210802153216460</figcaption></figure><h5 id="ã€å‡†å¤‡å·¥ä½œã€‘ç¯å¢ƒæ•´å¤‡" tabindex="-1"><a class="header-anchor" href="#ã€å‡†å¤‡å·¥ä½œã€‘ç¯å¢ƒæ•´å¤‡" aria-hidden="true">#</a> ã€å‡†å¤‡å·¥ä½œã€‘ç¯å¢ƒæ•´å¤‡</h5><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">USE</span> spring_db<span class="token punctuation">;</span>
<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> tbl_log<span class="token punctuation">(</span>
	id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
	info <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	createDate <span class="token keyword">DATE</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LogService</span> <span class="token punctuation">{</span>
    <span class="token comment">//propagationè®¾ç½®äº‹åŠ¡å±æ€§ï¼šä¼ æ’­è¡Œä¸ºè®¾ç½®ä¸ºå½“å‰æ“ä½œéœ€è¦æ–°äº‹åŠ¡</span>
    <span class="token annotation punctuation">@Transactional</span>
    <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">String</span> out<span class="token punctuation">,</span> <span class="token class-name">String</span> in<span class="token punctuation">,</span> <span class="token class-name">Double</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LogServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">LogService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">LogDao</span> logDao<span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">String</span> out<span class="token punctuation">,</span><span class="token class-name">String</span> in<span class="token punctuation">,</span><span class="token class-name">Double</span> money <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        logDao<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;è½¬è´¦æ“ä½œç”±&quot;</span><span class="token operator">+</span>out<span class="token operator">+</span><span class="token string">&quot;åˆ°&quot;</span><span class="token operator">+</span>in<span class="token operator">+</span><span class="token string">&quot;,é‡‘é¢ï¼š&quot;</span><span class="token operator">+</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LogDao</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Insert</span><span class="token punctuation">(</span><span class="token string">&quot;insert into tbl_log (info,createDate) values(#{info},now())&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">String</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬ä¸€æ­¥ã€‘åœ¨accountserviceimplä¸­è°ƒç”¨logserviceä¸­æ·»åŠ æ—¥å¿—çš„æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸€æ­¥ã€‘åœ¨accountserviceimplä¸­è°ƒç”¨logserviceä¸­æ·»åŠ æ—¥å¿—çš„æ–¹æ³•" aria-hidden="true">#</a> ã€ç¬¬ä¸€æ­¥ã€‘åœ¨AccountServiceImplä¸­è°ƒç”¨logServiceä¸­æ·»åŠ æ—¥å¿—çš„æ–¹æ³•</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Service</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">AccountService</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountDao</span> accountDao<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">LogService</span> logService<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">String</span> out<span class="token punctuation">,</span><span class="token class-name">String</span> in <span class="token punctuation">,</span><span class="token class-name">Double</span> money<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span><span class="token punctuation">{</span>
            accountDao<span class="token punctuation">.</span><span class="token function">outMoney</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>
            accountDao<span class="token punctuation">.</span><span class="token function">inMoney</span><span class="token punctuation">(</span>in<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">finally</span> <span class="token punctuation">{</span>
            logService<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>out<span class="token punctuation">,</span>in<span class="token punctuation">,</span>money<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬äºŒæ­¥ã€‘åœ¨logserviceçš„log-æ–¹æ³•ä¸Šè®¾ç½®äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬äºŒæ­¥ã€‘åœ¨logserviceçš„log-æ–¹æ³•ä¸Šè®¾ç½®äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º" aria-hidden="true">#</a> ã€ç¬¬äºŒæ­¥ã€‘åœ¨LogServiceçš„log()æ–¹æ³•ä¸Šè®¾ç½®äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">LogService</span> <span class="token punctuation">{</span>
    <span class="token comment">//propagationè®¾ç½®äº‹åŠ¡å±æ€§ï¼šä¼ æ’­è¡Œä¸ºè®¾ç½®ä¸ºå½“å‰æ“ä½œéœ€è¦æ–°äº‹åŠ¡</span>
    <span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>propagation <span class="token operator">=</span> <span class="token class-name">Propagation</span><span class="token punctuation">.</span><span class="token constant">REQUIRES_NEW</span><span class="token punctuation">)</span>
    <span class="token keyword">void</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">String</span> out<span class="token punctuation">,</span> <span class="token class-name">String</span> in<span class="token punctuation">,</span> <span class="token class-name">Double</span> money<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»-æŸ¥çœ‹ç»“æœ-2" tabindex="-1"><a class="header-anchor" href="#ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»-æŸ¥çœ‹ç»“æœ-2" aria-hidden="true">#</a> ã€ç¬¬ä¸‰æ­¥ã€‘è¿è¡Œæµ‹è¯•ç±»ï¼ŒæŸ¥çœ‹ç»“æœ</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RunWith</span><span class="token punctuation">(</span><span class="token class-name">SpringJUnit4ClassRunner</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ContextConfiguration</span><span class="token punctuation">(</span>classes <span class="token operator">=</span> <span class="token class-name">SpringConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountServiceTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">AccountService</span> accountService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">testTransfer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        accountService<span class="token punctuation">.</span><span class="token function">transfer</span><span class="token punctuation">(</span><span class="token string">&quot;Tom&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Jerry&quot;</span><span class="token punctuation">,</span><span class="token number">50D</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-äº‹åŠ¡ä¼ æ’­è¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#_3-3-äº‹åŠ¡ä¼ æ’­è¡Œä¸º" aria-hidden="true">#</a> 3.3 äº‹åŠ¡ä¼ æ’­è¡Œä¸º</h4><figure><img src="/blog/assets/image-20210802153014296-2f7367e3.png" alt="image-20210802153014296" tabindex="0" loading="lazy"><figcaption>image-20210802153014296</figcaption></figure></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Beisheng8888/blog/edit/main/src/src/åŸºç¡€æ¡†æ¶/Spring03.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: jih6666@126.com">åŒ—çœ</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="vp-link nav-link prev" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring02.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->Spring02</div></a><a class="vp-link nav-link next" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringBoot.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">SpringBoot<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">é»˜è®¤é¡µè„š</div><div class="vp-copyright">Copyright Â© 2025 Mr.Jh</div></footer></div><!--]--><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-1973086d.js" defer></script>
  </body>
</html>

<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.64" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://github.com/Beisheng8888/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html"><meta property="og:site_name" content="Mr.Jh"><meta property="og:title" content="Filter&Listener&Ajax"><meta property="og:description" content="Filter&amp;Listener&amp;Ajax Filter&amp;Listener&amp;Ajax 1，Filter 1.1 Filter概述 Filter 表示过滤器，是 JavaWeb 三大组件(Servlet、Filter、Listener)之一。 过滤器可以把对资源的请求拦截下来，从而实现一些特殊的功能。 如下图所示，浏览器可以访问服务器上的所有的资源（servlet、jsp、html等） img"><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2023-07-19T06:29:08.000Z"><meta property="article:author" content="Mr.Jh"><meta property="article:modified_time" content="2023-07-19T06:29:08.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"Filter&Listener&Ajax","image":[""],"dateModified":"2023-07-19T06:29:08.000Z","author":[{"@type":"Person","name":"Mr.Jh","url":"https://github.com/Beisheng8888"}]}</script><title>Filter&Listener&Ajax | Mr.Jh</title><meta name="description" content="Filter&amp;Listener&amp;Ajax Filter&amp;Listener&amp;Ajax 1，Filter 1.1 Filter概述 Filter 表示过滤器，是 JavaWeb 三大组件(Servlet、Filter、Listener)之一。 过滤器可以把对资源的请求拦截下来，从而实现一些特殊的功能。 如下图所示，浏览器可以访问服务器上的所有的资源（servlet、jsp、html等） img">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/blog/assets/style-91753a9a.css" as="style"><link rel="stylesheet" href="/blog/assets/style-91753a9a.css">
    <link rel="modulepreload" href="/blog/assets/app-83ac3819.js"><link rel="modulepreload" href="/blog/assets/Filter和Listener和Ajax.html-821c99ae.js"><link rel="modulepreload" href="/blog/assets/plugin-vue_export-helper-c27b6911.js"><link rel="modulepreload" href="/blog/assets/Filter和Listener和Ajax.html-36197ea7.js"><link rel="prefetch" href="/blog/assets/index.html-d91d133e.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-3c5f49c2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-08c93f94.js" as="script"><link rel="prefetch" href="/blog/assets/IO流01.html-328ed5bb.js" as="script"><link rel="prefetch" href="/blog/assets/IO流02.html-d4df1126.js" as="script"><link rel="prefetch" href="/blog/assets/XML枚举注解.html-1619971e.js" as="script"><link rel="prefetch" href="/blog/assets/内部类和Lambda表达式.html-c5f40784.js" as="script"><link rel="prefetch" href="/blog/assets/单元测试日志.html-61155113.js" as="script"><link rel="prefetch" href="/blog/assets/可变参数.html-bc194a72.js" as="script"><link rel="prefetch" href="/blog/assets/多线程01.html-b21fbf79.js" as="script"><link rel="prefetch" href="/blog/assets/多线程02.html-0c1cfb5a.js" as="script"><link rel="prefetch" href="/blog/assets/常用API01.html-10e667f8.js" as="script"><link rel="prefetch" href="/blog/assets/常用API02.html-1dacbcd9.js" as="script"><link rel="prefetch" href="/blog/assets/泛型和TreeSet和二叉树.html-f9dbb332.js" as="script"><link rel="prefetch" href="/blog/assets/类加载器和反射.html-70fcc83c.js" as="script"><link rel="prefetch" href="/blog/assets/红黑树.html-0cec82e6.js" as="script"><link rel="prefetch" href="/blog/assets/继承.html-003ab787.js" as="script"><link rel="prefetch" href="/blog/assets/网络编程.html-53f11e2a.js" as="script"><link rel="prefetch" href="/blog/assets/集合.html-f25c1162.js" as="script"><link rel="prefetch" href="/blog/assets/HTML和CSS.html-37eb476a.js" as="script"><link rel="prefetch" href="/blog/assets/HTTP和Tomcat和Servlet.html-78927875.js" as="script"><link rel="prefetch" href="/blog/assets/JDBC.html-65b01460.js" as="script"><link rel="prefetch" href="/blog/assets/JSP.html-914efbd6.js" as="script"><link rel="prefetch" href="/blog/assets/JavaScript.html-ecda31c5.js" as="script"><link rel="prefetch" href="/blog/assets/Maven和MyBatis.html-b0c42f60.js" as="script"><link rel="prefetch" href="/blog/assets/Request和Response.html-99cebe34.js" as="script"><link rel="prefetch" href="/blog/assets/VUE和Element.html-b199b2c0.js" as="script"><link rel="prefetch" href="/blog/assets/mysql基础.html-b1e675f6.js" as="script"><link rel="prefetch" href="/blog/assets/mysql高级.html-1e36eb37.js" as="script"><link rel="prefetch" href="/blog/assets/会话技术.html-18bda836.js" as="script"><link rel="prefetch" href="/blog/assets/Docker.html-00681164.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ.html-d5a68188.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloud01.html-0d87ad68.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloud02.html-ebdb512e.js" as="script"><link rel="prefetch" href="/blog/assets/Maven高级.html-3ff33480.js" as="script"><link rel="prefetch" href="/blog/assets/MyBatisPlus.html-da5bc503.js" as="script"><link rel="prefetch" href="/blog/assets/Spring01.html-6d73d7b9.js" as="script"><link rel="prefetch" href="/blog/assets/Spring02.html-a1a6d4aa.js" as="script"><link rel="prefetch" href="/blog/assets/Spring03.html-c8732602.js" as="script"><link rel="prefetch" href="/blog/assets/SpringBoot.html-5ddd23dc.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC01.html-7e8a2eb1.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC02.html-e16f76bf.js" as="script"><link rel="prefetch" href="/blog/assets/Git.html-e6240152.js" as="script"><link rel="prefetch" href="/blog/assets/Jmeter快速入门.html-81fb28bc.js" as="script"><link rel="prefetch" href="/blog/assets/Kafka.html-87ef726b.js" as="script"><link rel="prefetch" href="/blog/assets/Linux-01.html-858fceff.js" as="script"><link rel="prefetch" href="/blog/assets/Linux-02.html-ba970d78.js" as="script"><link rel="prefetch" href="/blog/assets/MongoDB.html-2b8dc905.js" as="script"><link rel="prefetch" href="/blog/assets/Mysql读写分离.html-8576af6f.js" as="script"><link rel="prefetch" href="/blog/assets/Mysql高性能优化方案.html-42ec047e.js" as="script"><link rel="prefetch" href="/blog/assets/Nacos.html-bc593533.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ部署指南.html-b69188ab.js" as="script"><link rel="prefetch" href="/blog/assets/Redis.html-a6a7342e.js" as="script"><link rel="prefetch" href="/blog/assets/Redis集群.html-f15d53a4.js" as="script"><link rel="prefetch" href="/blog/assets/freemarker和Minio.html-5ccc038e.js" as="script"><link rel="prefetch" href="/blog/assets/seata的部署和集成.html-c46a78f9.js" as="script"><link rel="prefetch" href="/blog/assets/sentinel规则持久化.html-16ed6eeb.js" as="script"><link rel="prefetch" href="/blog/assets/xxl-Job.html-bd8e0ec1.js" as="script"><link rel="prefetch" href="/blog/assets/其他.html-ae7c6ad6.js" as="script"><link rel="prefetch" href="/blog/assets/分布式搜索引擎01.html-a9cf39a8.js" as="script"><link rel="prefetch" href="/blog/assets/分布式搜索引擎02.html-17906928.js" as="script"><link rel="prefetch" href="/blog/assets/分布式搜索引擎03.html-cd3596e2.js" as="script"><link rel="prefetch" href="/blog/assets/集成minio.html-cb6d2917.js" as="script"><link rel="prefetch" href="/blog/assets/基础篇.html-e227ce5f.js" as="script"><link rel="prefetch" href="/blog/assets/并发篇.html-bdfc5019.js" as="script"><link rel="prefetch" href="/blog/assets/框架篇.html-07b1b425.js" as="script"><link rel="prefetch" href="/blog/assets/虚拟机篇.html-5c6f357c.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ-高级篇.html-df574b84.js" as="script"><link rel="prefetch" href="/blog/assets/Sentinel.html-806d57b5.js" as="script"><link rel="prefetch" href="/blog/assets/分布式事务.html-982fd574.js" as="script"><link rel="prefetch" href="/blog/assets/分布式缓存.html-b87e03d6.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-a31b29e4.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-aed00d6f.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-04d72ad7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e0c44343.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3b22870e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6ba12430.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-de88ce22.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9ce6a9bf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0ec0e8bb.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-acd00202.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-59962e9d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-e5d547ce.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-48e60ab0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2b6d2d20.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c0325f34.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c408f31e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5d2b156e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-75babee1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-510486a9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9e5f0548.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-67a11a35.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7ba73d1c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b62d5bf2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4f7de1ae.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-6b6fec72.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-2ead2fc1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-179bb1b5.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5d008d90.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4bafb498.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-02766762.js" as="script"><link rel="prefetch" href="/blog/assets/intro.html-8fbbc414.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7c20c6b2.js" as="script"><link rel="prefetch" href="/blog/assets/IO流01.html-3683ae22.js" as="script"><link rel="prefetch" href="/blog/assets/IO流02.html-1885f370.js" as="script"><link rel="prefetch" href="/blog/assets/XML枚举注解.html-0d9e23c7.js" as="script"><link rel="prefetch" href="/blog/assets/内部类和Lambda表达式.html-b5a02603.js" as="script"><link rel="prefetch" href="/blog/assets/单元测试日志.html-0cece164.js" as="script"><link rel="prefetch" href="/blog/assets/可变参数.html-6431912f.js" as="script"><link rel="prefetch" href="/blog/assets/多线程01.html-7e381a76.js" as="script"><link rel="prefetch" href="/blog/assets/多线程02.html-020e3184.js" as="script"><link rel="prefetch" href="/blog/assets/常用API01.html-0db7ffa3.js" as="script"><link rel="prefetch" href="/blog/assets/常用API02.html-117e7b5d.js" as="script"><link rel="prefetch" href="/blog/assets/泛型和TreeSet和二叉树.html-0ee44dec.js" as="script"><link rel="prefetch" href="/blog/assets/类加载器和反射.html-b2cb67b9.js" as="script"><link rel="prefetch" href="/blog/assets/红黑树.html-e7475ab9.js" as="script"><link rel="prefetch" href="/blog/assets/继承.html-f3e9955d.js" as="script"><link rel="prefetch" href="/blog/assets/网络编程.html-440562a0.js" as="script"><link rel="prefetch" href="/blog/assets/集合.html-58991050.js" as="script"><link rel="prefetch" href="/blog/assets/HTML和CSS.html-dfec45a7.js" as="script"><link rel="prefetch" href="/blog/assets/HTTP和Tomcat和Servlet.html-95078033.js" as="script"><link rel="prefetch" href="/blog/assets/JDBC.html-2cc04d86.js" as="script"><link rel="prefetch" href="/blog/assets/JSP.html-1126e779.js" as="script"><link rel="prefetch" href="/blog/assets/JavaScript.html-3ab3e323.js" as="script"><link rel="prefetch" href="/blog/assets/Maven和MyBatis.html-ce839fdd.js" as="script"><link rel="prefetch" href="/blog/assets/Request和Response.html-95085277.js" as="script"><link rel="prefetch" href="/blog/assets/VUE和Element.html-0843254e.js" as="script"><link rel="prefetch" href="/blog/assets/mysql基础.html-1b49b9ec.js" as="script"><link rel="prefetch" href="/blog/assets/mysql高级.html-d858a302.js" as="script"><link rel="prefetch" href="/blog/assets/会话技术.html-1242a131.js" as="script"><link rel="prefetch" href="/blog/assets/Docker.html-4b2d98b5.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ.html-0f181568.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloud01.html-20992e89.js" as="script"><link rel="prefetch" href="/blog/assets/SpringCloud02.html-12b37ea1.js" as="script"><link rel="prefetch" href="/blog/assets/Maven高级.html-72648b5b.js" as="script"><link rel="prefetch" href="/blog/assets/MyBatisPlus.html-5908c9fb.js" as="script"><link rel="prefetch" href="/blog/assets/Spring01.html-c4c6e11b.js" as="script"><link rel="prefetch" href="/blog/assets/Spring02.html-a003fb2f.js" as="script"><link rel="prefetch" href="/blog/assets/Spring03.html-3fe0d129.js" as="script"><link rel="prefetch" href="/blog/assets/SpringBoot.html-688bb864.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC01.html-bdf1cd45.js" as="script"><link rel="prefetch" href="/blog/assets/SpringMVC02.html-bbb17a47.js" as="script"><link rel="prefetch" href="/blog/assets/Git.html-ae96a868.js" as="script"><link rel="prefetch" href="/blog/assets/Jmeter快速入门.html-bf1f9be3.js" as="script"><link rel="prefetch" href="/blog/assets/Kafka.html-dedb30aa.js" as="script"><link rel="prefetch" href="/blog/assets/Linux-01.html-b08e97b6.js" as="script"><link rel="prefetch" href="/blog/assets/Linux-02.html-f348cd7f.js" as="script"><link rel="prefetch" href="/blog/assets/MongoDB.html-aa1211aa.js" as="script"><link rel="prefetch" href="/blog/assets/Mysql读写分离.html-356a55bb.js" as="script"><link rel="prefetch" href="/blog/assets/Mysql高性能优化方案.html-b3b46878.js" as="script"><link rel="prefetch" href="/blog/assets/Nacos.html-23e4d143.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ部署指南.html-4366c943.js" as="script"><link rel="prefetch" href="/blog/assets/Redis.html-6faec961.js" as="script"><link rel="prefetch" href="/blog/assets/Redis集群.html-edc98120.js" as="script"><link rel="prefetch" href="/blog/assets/freemarker和Minio.html-71369fc9.js" as="script"><link rel="prefetch" href="/blog/assets/seata的部署和集成.html-599d00a3.js" as="script"><link rel="prefetch" href="/blog/assets/sentinel规则持久化.html-3e5bed17.js" as="script"><link rel="prefetch" href="/blog/assets/xxl-Job.html-e16c7dac.js" as="script"><link rel="prefetch" href="/blog/assets/其他.html-bce10210.js" as="script"><link rel="prefetch" href="/blog/assets/分布式搜索引擎01.html-7619cccd.js" as="script"><link rel="prefetch" href="/blog/assets/分布式搜索引擎02.html-eda2db48.js" as="script"><link rel="prefetch" href="/blog/assets/分布式搜索引擎03.html-c68621f3.js" as="script"><link rel="prefetch" href="/blog/assets/集成minio.html-d8d868df.js" as="script"><link rel="prefetch" href="/blog/assets/基础篇.html-a8fdb9a8.js" as="script"><link rel="prefetch" href="/blog/assets/并发篇.html-cfa26476.js" as="script"><link rel="prefetch" href="/blog/assets/框架篇.html-e2d47687.js" as="script"><link rel="prefetch" href="/blog/assets/虚拟机篇.html-2b7d6636.js" as="script"><link rel="prefetch" href="/blog/assets/RabbitMQ-高级篇.html-74a87941.js" as="script"><link rel="prefetch" href="/blog/assets/Sentinel.html-acc61029.js" as="script"><link rel="prefetch" href="/blog/assets/分布式事务.html-6dce06bd.js" as="script"><link rel="prefetch" href="/blog/assets/分布式缓存.html-ad5f238e.js" as="script"><link rel="prefetch" href="/blog/assets/404.html-2fb1ce50.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ae879659.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c2425c94.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-c9d87cd0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-66e7daf1.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-41d2ec74.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-87550332.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-77a44f8d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-3acec8c6.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9e32a7d9.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fcd28a39.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-5b78d1f7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-47d90880.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-fa124b58.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-06709513.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-732c7030.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-cb9c6dbf.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-4d2cd856.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-dda706b3.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-0774b67d.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-9c90e723.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-7e57126e.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-ca58925c.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-81abdee0.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-853106f2.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-b70c16d7.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-679c72ae.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-55ce43c8.js" as="script"><link rel="prefetch" href="/blog/assets/index.html-a6f3a1c5.js" as="script"><link rel="prefetch" href="/blog/assets/dash.all.min-01c02b4d.js" as="script"><link rel="prefetch" href="/blog/assets/mpegts-d8e77270.js" as="script"><link rel="prefetch" href="/blog/assets/hls.min-cab563d8.js" as="script"><link rel="prefetch" href="/blog/assets/artplayer-0687ddfd.js" as="script"><link rel="prefetch" href="/blog/assets/plyr.min-fe499837.js" as="script"><link rel="prefetch" href="/blog/assets/browser-21db0a97.js" as="script"><link rel="prefetch" href="/blog/assets/plyr.min-fe499837.js" as="script"><link rel="prefetch" href="/blog/assets/auto-fa8841cf.js" as="script"><link rel="prefetch" href="/blog/assets/index-ae8c1e74.js" as="script"><link rel="prefetch" href="/blog/assets/flowchart-d65a1d8e.js" as="script"><link rel="prefetch" href="/blog/assets/mermaid.core-6f7d2e7f.js" as="script"><link rel="prefetch" href="/blog/assets/highlight.esm-75b11b9d.js" as="script"><link rel="prefetch" href="/blog/assets/markdown.esm-0191f9da.js" as="script"><link rel="prefetch" href="/blog/assets/math.esm-70a288c8.js" as="script"><link rel="prefetch" href="/blog/assets/notes.esm-a106bb2c.js" as="script"><link rel="prefetch" href="/blog/assets/reveal.esm-ec5549c1.js" as="script"><link rel="prefetch" href="/blog/assets/search.esm-7e6792e2.js" as="script"><link rel="prefetch" href="/blog/assets/zoom.esm-b83b91d0.js" as="script"><link rel="prefetch" href="/blog/assets/VuePlayground-97eaf514.js" as="script"><link rel="prefetch" href="/blog/assets/photoswipe.esm-5794cde2.js" as="script"><link rel="prefetch" href="/blog/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/blog/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/blog/assets/index-5161ad19.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">跳至主要內容</a><!--]--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand" href="/blog/"><img class="vp-nav-logo" src="/blog/logo.png" alt="Mr.Jh"><!----><span class="vp-site-name hide-in-pad">Mr.Jh</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a class="vp-link nav-link" href="/blog/"><span class="font-icon icon iconfont icon-home" style=""></span>主页<!----></a></div><div class="nav-item hide-in-mobile"><a class="vp-link nav-link active" href="/blog/src/"><!---->🍑目录<!----></a></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="🍈JavaSE"><span class="title"><!---->🍈JavaSE</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JavaSE</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/IO%E6%B5%8101.html"><span class="font-icon icon iconfont icon-IO" style=""></span>IO流01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/IO%E6%B5%8102.html"><span class="font-icon icon iconfont icon-IO" style=""></span>IO流02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/XML%E6%9E%9A%E4%B8%BE%E6%B3%A8%E8%A7%A3.html"><span class="font-icon icon iconfont icon-at" style=""></span>XML&amp;枚举&amp;注解<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%97%A5%E5%BF%97.html"><!---->单元测试&amp;日志<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0.html"><!---->可变参数<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B01.html"><!---->多线程01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B02.html"><!---->多线程02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%B8%B8%E7%94%A8API01.html"><!---->常用API01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E5%B8%B8%E7%94%A8API02.html"><!---->常用API02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E6%B3%9B%E5%9E%8B%E5%92%8CTreeSet%E5%92%8C%E4%BA%8C%E5%8F%89%E6%A0%91.html"><!---->泛型和TreeSet和二叉树<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%92%8C%E5%8F%8D%E5%B0%84.html"><!---->类加载器和反射<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E7%BA%A2%E9%BB%91%E6%A0%91.html"><!---->红黑树<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E7%BB%A7%E6%89%BF.html"><!---->继承<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html"><!---->网络编程<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaSE/%E9%9B%86%E5%90%88.html"><!---->集合<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="🍉JavaWeb"><span class="title"><!---->🍉JavaWeb</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>JavaWeb</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link active" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html"><!---->Filter和Listener和Ajax<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/HTML%E5%92%8CCSS.html"><!---->HTML和CSS<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/HTTP%E5%92%8CTomcat%E5%92%8CServlet.html"><!---->HTTP和Tomcat和Servlet<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/JavaScript.html"><!---->JavaScript<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/JDBC.html"><!---->JDBC<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/JSP.html"><!---->JSP<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/Maven%E5%92%8CMyBatis.html"><!---->Maven和MyBatis<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/mysql%E5%9F%BA%E7%A1%80.html"><!---->mysql基础<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/mysql%E9%AB%98%E7%BA%A7.html"><!---->mysql高级<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/Request%E5%92%8CResponse.html"><!---->Request和Response<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/VUE%E5%92%8CElement.html"><!---->VUE和Element<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/JavaWeb/%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF.html"><!---->会话技术<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="🍊基础框架"><span class="title"><!---->🍊基础框架</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>基础框架</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Maven%E9%AB%98%E7%BA%A7.html"><!---->Maven高级<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/MyBatisPlus.html"><!---->MyBatisPlus<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring01.html"><!---->Spring01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring02.html"><!---->Spring02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html"><!---->Spring03<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringBoot.html"><!---->SpringBoot<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringMVC01.html"><!---->SpringMVC01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringMVC02.html"><!---->SpringMVC02<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="🍋基础微服务"><span class="title"><!---->🍋基础微服务</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>基础微服务</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/Docker.html"><!---->Docker<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/RabbitMQ.html"><!---->RabbitMQ<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud01.html"><!---->SpringCloud01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud02.html"><!---->SpringCloud02<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="🍌高级微服务"><span class="title"><!---->🍌高级微服务</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>高级微服务</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/RabbitMQ-%E9%AB%98%E7%BA%A7%E7%AF%87.html"><!---->RabbitMQ-高级篇<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/Sentinel.html"><!---->Sentinel<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1.html"><!---->分布式事务<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html"><!---->分布式缓存<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="🍍扩展"><span class="title"><!---->🍍扩展</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>必会工具</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/freemarker%E5%92%8CMinio.html"><!---->freemarker和Minio<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Git.html"><!---->Git<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Jmeter%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html"><!---->Jmeter快速入门<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Kafka.html"><!---->Kafka<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Linux-01.html"><!---->Linux-01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Linux-02.html"><!---->Linux-02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/MongoDB.html"><!---->MongoDB<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Mysql%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB.html"><!---->Mysql读写分离<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Mysql%E9%AB%98%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html"><!---->Mysql高性能优化方案<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Nacos.html"><!---->Nacos<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Redis.html"><!---->Redis<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Redis%E9%9B%86%E7%BE%A4.html"><!---->Redis集群<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/seata%E7%9A%84%E9%83%A8%E7%BD%B2%E5%92%8C%E9%9B%86%E6%88%90.html"><!---->seata的部署和集成<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/sentinel%E8%A7%84%E5%88%99%E6%8C%81%E4%B9%85%E5%8C%96.html"><!---->sentinel规则持久化<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/xxl-Job.html"><!---->xxl-Job<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96.html"><!---->其他<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E01.html"><!---->分布式搜索引擎01<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E02.html"><!---->分布式搜索引擎02<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html"><!---->分布式搜索引擎03<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E9%9B%86%E6%88%90minio.html"><!---->集成minio<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="🍇面试专题"><span class="title"><!---->🍇面试专题</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>面试专题</span></h4><ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E5%9F%BA%E7%A1%80%E7%AF%87.html"><!---->基础篇<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E5%B9%B6%E5%8F%91%E7%AF%87.html"><!---->并发篇<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E6%A1%86%E6%9E%B6%E7%AF%87.html"><!---->框架篇<!----></a></li><li class="dropdown-subitem"><a class="vp-link nav-link" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AF%87.html"><!---->虚拟机篇<!----></a></li></ul></li></ul></button></div></div><div class="nav-item hide-in-mobile"><a href="https://beisheng8888.github.io/#/" rel="noopener noreferrer" target="_blank" aria-label="🍒V1 文档" class="nav-link"><!---->🍒V1 文档<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/Beisheng8888/blog" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/"><span class="font-icon icon iconfont icon-home" style=""></span>主页<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/JavaSE/"><!---->🍈JavaSE<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/IO%E6%B5%8101.html"><span class="font-icon icon iconfont icon-IO" style=""></span>IO流01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/IO%E6%B5%8102.html"><span class="font-icon icon iconfont icon-IO" style=""></span>IO流02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/XML%E6%9E%9A%E4%B8%BE%E6%B3%A8%E8%A7%A3.html"><!---->XML&amp;枚举&amp;注解<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%86%85%E9%83%A8%E7%B1%BB%E5%92%8CLambda%E8%A1%A8%E8%BE%BE%E5%BC%8F.html"><!---->内部类和Lambda表达式<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%97%A5%E5%BF%97.html"><!---->单元测试&amp;日志<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0.html"><!---->可变参数<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B01.html"><!---->多线程01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%A4%9A%E7%BA%BF%E7%A8%8B02.html"><!---->多线程02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%B8%B8%E7%94%A8API01.html"><!---->常用API01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E5%B8%B8%E7%94%A8API02.html"><!---->常用API02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E6%B3%9B%E5%9E%8B%E5%92%8CTreeSet%E5%92%8C%E4%BA%8C%E5%8F%89%E6%A0%91.html"><!---->泛型和TreeSet和二叉树<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E7%B1%BB%E5%8A%A0%E8%BD%BD%E5%99%A8%E5%92%8C%E5%8F%8D%E5%B0%84.html"><!---->类加载器和反射<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E7%BA%A2%E9%BB%91%E6%A0%91.html"><!---->红黑树<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E7%BB%A7%E6%89%BF.html"><!---->继承<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B.html"><!---->网络编程<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaSE/%E9%9B%86%E5%90%88.html"><!---->集合<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable active"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link active vp-sidebar-title" href="/blog/src/JavaWeb/"><!---->🍉JavaWeb<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html"><!---->Filter&amp;Listener&amp;Ajax<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#filter-listener-ajax-1"><!---->Filter&amp;Listener&amp;Ajax<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_1-filter"><!---->1，Filter<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_1-1-filter概述"><!---->1.1  Filter概述<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_1-2-filter快速入门"><!---->1.2  Filter快速入门<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_1-3-filter执行流程"><!---->1.3  Filter执行流程<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_1-4-filter拦截路径配置"><!---->1.4  Filter拦截路径配置<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_1-5-过滤器链"><!---->1.5  过滤器链<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_1-6-案例"><!---->1.6  案例<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_2-listener"><!---->2，Listener<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_2-1-概述"><!---->2.1  概述<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_2-2-分类"><!---->2.2  分类<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_2-3-代码演示"><!---->2.3  代码演示<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_3-ajax"><!---->3，Ajax<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_3-1-概述"><!---->3.1  概述<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_3-2-快速入门"><!---->3.2  快速入门<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_3-3-案例"><!---->3.3 案例<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_4-axios"><!---->4，axios<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_4-1-基本使用"><!---->4.1  基本使用<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_4-2-快速入门"><!---->4.2  快速入门<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_4-3-请求方法别名"><!---->4.3  请求方法别名<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_5-json"><!---->5，JSON<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_5-1-概述"><!---->5.1  概述<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_5-2-json-基础语法"><!---->5.2  JSON 基础语法<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_5-3-json串和java对象的相互转换"><!---->5.3  JSON串和Java对象的相互转换<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_6-案例"><!---->6，案例<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_6-1-需求"><!---->6.1  需求<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_6-2-查询所有功能"><!---->6.2  查询所有功能<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a class="vp-link nav-link vp-sidebar-link vp-heading" href="/blog/src/JavaWeb/Filter%E5%92%8CListener%E5%92%8CAjax.html#_6-3-添加品牌功能"><!---->6.3  添加品牌功能<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/HTML%E5%92%8CCSS.html"><!---->HTML&amp;CSS<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/HTTP%E5%92%8CTomcat%E5%92%8CServlet.html"><!---->HTTP&amp;Tomcat&amp;Servlet<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/JavaScript.html"><!---->JavaScript<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/JDBC.html"><!---->JDBC<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/JSP.html"><!---->JSP<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/Maven%E5%92%8CMyBatis.html"><!---->Maven&amp;MyBatis<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/mysql%E5%9F%BA%E7%A1%80.html"><!---->MySQL基础<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/mysql%E9%AB%98%E7%BA%A7.html"><!---->MySQL高级<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/Request%E5%92%8CResponse.html"><!---->Request&amp;Response<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/VUE%E5%92%8CElement.html"><!---->VUE&amp;Element<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/JavaWeb/%E4%BC%9A%E8%AF%9D%E6%8A%80%E6%9C%AF.html"><!---->会话技术<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/"><!---->🍊基础框架<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Maven%E9%AB%98%E7%BA%A7.html"><!---->Maven高级<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/MyBatisPlus.html"><!---->MyBatisPlus<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring01.html"><!---->Spring01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring02.html"><!---->Spring02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/Spring03.html"><!---->Spring03<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringBoot.html"><!---->SpringBoot<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringMVC01.html"><!---->SpringMVC01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E6%A1%86%E6%9E%B6/SpringMVC02.html"><!---->SpringMVC02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><!---->🍋基础微服务<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/Docker.html"><!---->Docker实用篇<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/RabbitMQ.html"><!---->RabbitMQ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud01.html"><!---->SpringCloud01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%9F%BA%E7%A1%80%E5%BE%AE%E6%9C%8D%E5%8A%A1/SpringCloud02.html"><!---->SpringCloud实用篇02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/"><!---->🍌高级微服务<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/RabbitMQ-%E9%AB%98%E7%BA%A7%E7%AF%87.html"><!---->RabbitMQ-高级篇<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E4%BA%8B%E5%8A%A1.html"><!---->分布式事务<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/%E5%88%86%E5%B8%83%E5%BC%8F%E7%BC%93%E5%AD%98.html"><!---->分布式缓存<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%AB%98%E7%BA%A7%E5%BE%AE%E6%9C%8D%E5%8A%A1/Sentinel.html"><!---->微服务保护<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/"><!---->🍍扩展<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/freemarker%E5%92%8CMinio.html"><!---->freemarker&amp;MiniO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Git.html"><!---->Git 分布式版本控制工具<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Jmeter%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8.html"><!---->Jmeter快速入门<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Kafka.html"><!---->Kafka<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Linux-01.html"><!---->Linux-01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Linux-02.html"><!---->Linux-02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/MongoDB.html"><!---->MongoDB<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Mysql%E8%AF%BB%E5%86%99%E5%88%86%E7%A6%BB.html"><!---->Mysql读写分离<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Mysql%E9%AB%98%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E6%96%B9%E6%A1%88.html"><!---->Mysql高性能优化方案<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Nacos.html"><!---->Nacos安装指南<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/RabbitMQ%E9%83%A8%E7%BD%B2%E6%8C%87%E5%8D%97.html"><!---->RabbitMQ部署指南<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Redis.html"><!---->Redis基础<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/Redis%E9%9B%86%E7%BE%A4.html"><!---->Redis集群<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/seata%E7%9A%84%E9%83%A8%E7%BD%B2%E5%92%8C%E9%9B%86%E6%88%90.html"><!---->seata的部署和集成<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/sentinel%E8%A7%84%E5%88%99%E6%8C%81%E4%B9%85%E5%8C%96.html"><!---->Sentinel 规则持久化<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/xxl-Job.html"><!---->xxl-Job分布式任务调度<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%85%B6%E4%BB%96.html"><!---->其他<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E01.html"><!---->分布式搜索引擎01<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E02.html"><!---->分布式搜索引擎02<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E03.html"><!---->分布式搜索引擎03<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E5%BF%85%E4%BC%9A%E5%B7%A5%E5%85%B7/%E9%9B%86%E6%88%90minio.html"><!---->集成minio实现分布式文件存储<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li><li><section class="vp-sidebar-group"><p class="vp-sidebar-heading clickable"><span class="font-icon icon iconfont icon-laptop-code" style=""></span><a class="vp-link nav-link vp-sidebar-title" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/"><!---->🍇面试专题<!----></a><!----></p><ul class="vp-sidebar-links"><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E5%9F%BA%E7%A1%80%E7%AF%87.html"><!---->基础篇<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E5%B9%B6%E5%8F%91%E7%AF%87.html"><!---->并发篇<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E6%A1%86%E6%9E%B6%E7%AF%87.html"><!---->框架篇<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a class="vp-link nav-link vp-sidebar-link vp-sidebar-page" href="/blog/src/%E9%9D%A2%E8%AF%95%E4%B8%93%E9%A2%98/%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%AF%87.html"><!---->虚拟机篇<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->Filter&amp;Listener&amp;Ajax</h1><div class="page-info"><span class="page-author-info" aria-label="作者🖊" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://github.com/Beisheng8888" target="_blank" rel="noopener noreferrer">Mr.Jh</a></span><span property="author" content="Mr.Jh"></span></span><!----><span class="page-date-info" aria-label="写作日期📅" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2023-07-17T03:18:35.000Z"></span><!----><span class="page-reading-time-info" aria-label="阅读时间⌛" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>大约 36 分钟</span><meta property="timeRequired" content="PT36M"></span><span class="page-category-info" aria-label="分类🌈" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category8 clickable" role="navigation">JavaWeb</span><!--]--><meta property="articleSection" content="JavaWeb"></span><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">此页内容<button type="button" class="print-button" title="打印"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#filter-listener-ajax-1">Filter&amp;Listener&amp;Ajax</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#_1-filter">1，Filter</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-1-filter概述">1.1  Filter概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-2-filter快速入门">1.2  Filter快速入门</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-3-filter执行流程">1.3  Filter执行流程</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-4-filter拦截路径配置">1.4  Filter拦截路径配置</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-5-过滤器链">1.5  过滤器链</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_1-6-案例">1.6  案例</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#_2-listener">2，Listener</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_2-1-概述">2.1  概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_2-2-分类">2.2  分类</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_2-3-代码演示">2.3  代码演示</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#_3-ajax">3，Ajax</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_3-1-概述">3.1  概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_3-2-快速入门">3.2  快速入门</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_3-3-案例">3.3 案例</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#_4-axios">4，axios</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_4-1-基本使用">4.1  基本使用</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_4-2-快速入门">4.2  快速入门</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_4-3-请求方法别名">4.3  请求方法别名</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#_5-json">5，JSON</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_5-1-概述">5.1  概述</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_5-2-json-基础语法">5.2  JSON 基础语法</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_5-3-json串和java对象的相互转换">5.3  JSON串和Java对象的相互转换</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2" href="/blog/#_6-案例">6，案例</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_6-1-需求">6.1  需求</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_6-2-查询所有功能">6.2  查询所有功能</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3" href="/blog/#_6-3-添加品牌功能">6.3  添加品牌功能</a></li><!----><!--]--></ul></li><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><h1 id="filter-listener-ajax" tabindex="-1"><a class="header-anchor" href="#filter-listener-ajax" aria-hidden="true">#</a> Filter&amp;Listener&amp;Ajax</h1><h2 id="filter-listener-ajax-1" tabindex="-1"><a class="header-anchor" href="#filter-listener-ajax-1" aria-hidden="true">#</a> Filter&amp;Listener&amp;Ajax</h2><h2 id="_1-filter" tabindex="-1"><a class="header-anchor" href="#_1-filter" aria-hidden="true">#</a> 1，Filter</h2><h3 id="_1-1-filter概述" tabindex="-1"><a class="header-anchor" href="#_1-1-filter概述" aria-hidden="true">#</a> 1.1 Filter概述</h3><p>Filter 表示过滤器，是 JavaWeb 三大组件(Servlet、Filter、Listener)之一。</p><p>过滤器可以把对资源的请求<mark>拦截</mark>下来，从而实现一些特殊的功能。</p><p>如下图所示，浏览器可以访问服务器上的所有的资源（servlet、jsp、html等）</p><figure><img src="/blog/assets/image-20210823184519509-eb401f3d.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>而在访问到这些资源之前可以使过滤器拦截来下，也就是说在访问资源之前会先经过 Filter，如下图</p><figure><img src="/blog/assets/image-20210823184657328-ef77260c.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>拦截器拦截到后可以做什么功能呢？</p><p>==过滤器一般完成一些通用的操作。==比如每个资源都要写一些代码完成某个功能，我们总不能在每个资源中写这样的代码吧，而此时我们可以将这些代码写在过滤器中，因为请求每一个资源都要经过过滤器。</p><p>我们之前做的品牌数据管理的案例中就已经做了登陆的功能，而如果我们不登录能不能访问到数据呢？我们可以在浏览器直接访问首页 ，可以看到 <code>查询所有</code> 的超链接</p><figure><img src="/blog/assets/image-20210823185720197-629cbb51.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>当我点击该按钮，居然可以看到品牌的数据</p><figure><img src="/blog/assets/image-20210823185932418-044f5401.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>这显然和我们的要求不符。我们希望实现的效果是用户如果登陆过了就跳转到品牌数据展示的页面；如果没有登陆就跳转到登陆页面让用户进行登陆，要实现这个效果需要在每一个资源中都写上这段逻辑，而像这种通用的操作，我们就可以放在过滤器中进行实现。这个就是<mark>权限控制</mark>，以后我们还会进行细粒度权限控制。过滤器还可以做 <code>统一编码处理</code>、 <code>敏感字符处理</code> 等等…</p><h3 id="_1-2-filter快速入门" tabindex="-1"><a class="header-anchor" href="#_1-2-filter快速入门" aria-hidden="true">#</a> 1.2 Filter快速入门</h3><h4 id="_1-2-1-开发步骤" tabindex="-1"><a class="header-anchor" href="#_1-2-1-开发步骤" aria-hidden="true">#</a> 1.2.1 开发步骤</h4><p>进行 <code>Filter</code> 开发分成以下三步实现</p><ul><li><p>定义类，实现 Filter接口，并重写其所有方法</p><figure><img src="/blog/assets/image-20210823191006878-94f452ee.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure></li><li><p>配置Filter拦截资源的路径：在类上定义 <code>@WebFilter</code> 注解。而注解的 <code>value</code> 属性值 <code>/*</code> 表示拦截所有的资源</p><figure><img src="/blog/assets/image-20210823191037163-36106dcb.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure></li><li><p>在doFilter方法中输出一句话，并放行</p><figure><img src="/blog/assets/image-20210823191200201-752a3f22.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><blockquote><p>上述代码中的 <code>chain.doFilter(request,response);</code> 就是放行，也就是让其访问本该访问的资源。</p></blockquote></li></ul><h4 id="_1-2-2-代码演示" tabindex="-1"><a class="header-anchor" href="#_1-2-2-代码演示" aria-hidden="true">#</a> 1.2.2 代码演示</h4><p>创建一个项目，项目下有一个 <code>hello.jsp</code> 页面，项目结构如下：</p><figure><img src="/blog/assets/image-20210823191855765-5ed249d7.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><code>pom.xml</code> 配置文件内容如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span>
         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">&gt;</span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>filter-demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.maven<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat7-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>port</span><span class="token punctuation">&gt;</span></span>80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>port</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>hello.jsp</code> 页面内容如下：</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;hello JSP~&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们现在在浏览器输入 <code>http://localhost/filter-demo/hello.jsp</code> 访问 <code>hello.jsp</code> 页面，这里是可以访问到 <code>hello.jsp</code> 页面内容的。</p><figure><img src="/blog/assets/image-20210823192353031-879cb213.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>接下来编写过滤器。过滤器是 Web 三大组件之一，所以我们将 <code>filter</code> 创建在 <code>com.beisheng.web.filter</code> 包下，起名为 <code>FilterDemo</code></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;FilterDemo...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重启启动服务器，再次重新访问 <code>hello.jsp</code> 页面，这次发现页面没有任何效果，但是在 <code>idea</code> 的控制台可以看到如下内容</p><figure><img src="/blog/assets/image-20210823193759365-cd916d1c.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>上述效果说明 <code>FilterDemo</code> 这个过滤器的 <code>doFilter()</code> 方法执行了，但是为什么在浏览器上看不到 <code>hello.jsp</code> 页面的内容呢？这是因为在 <code>doFilter()</code> 方法中添加放行的方法才能访问到 <code>hello.jsp</code> 页面。那就在 <code>doFilter()</code> 方法中添加放行的代码</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//放行</span>
 chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>再次重启服务器并访问 <code>hello.jsp</code> 页面，发现这次就可以在浏览器上看到页面效果。</p><p><strong><code>FilterDemo</code> 过滤器完整代码如下：</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1.FilterDemo...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//放行</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-filter执行流程" tabindex="-1"><a class="header-anchor" href="#_1-3-filter执行流程" aria-hidden="true">#</a> 1.3 Filter执行流程</h3><figure><img src="/blog/assets/image-20210823194830074-af909a15.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>如上图是使用过滤器的流程，我们通过以下问题来研究过滤器的执行流程：</p><ul><li><p>放行后访问对应资源，资源访问完成后，还会回到Filter中吗？</p><p>从上图就可以看出肯定 <mark>会</mark> 回到Filter中</p></li><li><p>如果回到Filter中，是重头执行还是执行放行后的逻辑呢？</p><p>如果是重头执行的话，就意味着 <code>放行前逻辑</code> 会被执行两次，肯定不会这样设计了；所以访问完资源后，会回到 <code>放行后逻辑</code>，执行该部分代码。</p></li></ul><p>通过上述的说明，我们就可以总结Filter的执行流程如下：</p><figure><img src="/blog/assets/image-20210823195434581-1a9e0abc.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>接下来我们通过代码验证一下，在 <code>doFilter()</code> 方法前后都加上输出语句，如下</p><figure><img src="/blog/assets/image-20210823195828596-bbef5f1c.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>同时在 <code>hello.jsp</code> 页面加上输出语句，如下</p><figure><img src="/blog/assets/image-20210823200028284-daa2e933.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>执行访问该资源打印的顺序是按照我们标记的标号进行打印的话，说明我们上边总结出来的流程是没有问题的。启动服务器访问 <code>hello.jsp</code> 页面，在控制台打印的内容如下：</p><figure><img src="/blog/assets/image-20210823200202153-ff16242e.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>以后我们可以将对请求进行处理的代码放在放行之前进行处理，而如果请求完资源后还要对响应的数据进行处理时可以在放行后进行逻辑处理。</p><h3 id="_1-4-filter拦截路径配置" tabindex="-1"><a class="header-anchor" href="#_1-4-filter拦截路径配置" aria-hidden="true">#</a> 1.4 Filter拦截路径配置</h3><p>拦截路径表示 Filter 会对请求的哪些资源进行拦截，使用 <code>@WebFilter</code> 注解进行配置。如：<code>@WebFilter(&quot;拦截路径&quot;)</code></p><p>拦截路径有如下四种配置方式：</p><ul><li>拦截具体的资源：/index.jsp：只有访问index.jsp时才会被拦截</li><li>目录拦截：/user/*：访问/user下的所有资源，都会被拦截</li><li>后缀名拦截：*.jsp：访问后缀名为jsp的资源，都会被拦截</li><li>拦截所有：/*：访问所有资源，都会被拦截</li></ul><p>通过上面拦截路径的学习，大家会发现拦截路径的配置方式和 <code>Servlet</code> 的请求资源路径配置方式一样，但是表示的含义不同。</p><h3 id="_1-5-过滤器链" tabindex="-1"><a class="header-anchor" href="#_1-5-过滤器链" aria-hidden="true">#</a> 1.5 过滤器链</h3><h4 id="_1-5-1-概述" tabindex="-1"><a class="header-anchor" href="#_1-5-1-概述" aria-hidden="true">#</a> 1.5.1 概述</h4><p>过滤器链是指在一个Web应用，可以配置多个过滤器，这多个过滤器称为过滤器链。</p><p>如下图就是一个过滤器链，我们学习过滤器链主要是学习过滤器链执行的流程</p><figure><img src="/blog/assets/image-20210823215835812-12c23c48.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>上图中的过滤器链执行是按照以下流程执行：</p><ol><li>执行 <code>Filter1</code> 的放行前逻辑代码</li><li>执行 <code>Filter1</code> 的放行代码</li><li>执行 <code>Filter2</code> 的放行前逻辑代码</li><li>执行 <code>Filter2</code> 的放行代码</li><li>访问到资源</li><li>执行 <code>Filter2</code> 的放行后逻辑代码</li><li>执行 <code>Filter1</code> 的放行后逻辑代码</li></ol><p>以上流程串起来就像一条链子，故称之为过滤器链。</p><h4 id="_1-5-2-代码演示" tabindex="-1"><a class="header-anchor" href="#_1-5-2-代码演示" aria-hidden="true">#</a> 1.5.2 代码演示</h4><ul><li><p>编写第一个过滤器 <code>FilterDemo</code> ，配置成拦截所有资源</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>

        <span class="token comment">//1. 放行前，对 request数据进行处理</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1.FilterDemo...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//放行</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. 放行后，对Response 数据进行处理</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;3.FilterDemo...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>编写第二个过滤器 <code>FilterDemo2</code> ，配置炒年糕拦截所有资源</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterDemo2</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>

        <span class="token comment">//1. 放行前，对 request数据进行处理</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;2.FilterDemo...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//放行</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. 放行后，对Response 数据进行处理</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;4.FilterDemo...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> filterConfig<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改 <code>hello.jsp</code> 页面中脚本的输出语句</p><div class="language-jsp line-numbers-mode" data-ext="jsp"><pre class="language-jsp"><code>&lt;%@ page contentType=&quot;text/html;charset=UTF-8&quot; language=&quot;java&quot; %&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;title&gt;Title&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;hello JSP~&lt;/h1&gt;
    &lt;%
        System.out.println(&quot;3.hello jsp&quot;);
    %&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>启动服务器，在浏览器输入 <code>http://localhost/filter-demo/hello.jsp</code> 进行测试，在控制台打印内容如下</p><figure><img src="/blog/assets/image-20210823221222468-5a652857.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>从结果可以看到确实是按照我们之前说的执行流程进行执行的。</p></li></ul><h4 id="_1-5-3-问题" tabindex="-1"><a class="header-anchor" href="#_1-5-3-问题" aria-hidden="true">#</a> 1.5.3 问题</h4><p>上面代码中为什么是先执行 <code>FilterDemo</code> ，后执行 <code>FilterDemo2</code> 呢？</p><p>我们现在使用的是注解配置Filter，而这种配置方式的优先级是按照过滤器类名(字符串)的自然排序。</p><p>比如有如下两个名称的过滤器 ： <code>BFilterDemo</code> 和 <code>AFilterDemo</code> 。那一定是 <code>AFilterDemo</code> 过滤器先执行。</p><blockquote><p>过滤器链组成：来了一个请求，如果这个请求的路径和多个过滤器的过滤路径都匹配，此时这些过滤器就会组成一个过滤器链，封装为一个对象叫FilterChain。过滤器链中过滤器的顺序，如果是注解配置，和类名排序相关。如果是配置文件配置，和filter-mapping 的顺序一致。</p><p>过滤器的执行顺序：chain.doFilter()这个方法，内部会判断当前过滤器链中是否有下一个过滤器节点，如果有，就执行其doFilter方法，如果没有，就放行到目标资源执行</p><figure><img src="/blog/assets/image-20211222103050565-b237a238.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure></blockquote><p>责任链设计模式：</p><p>优点：</p><p>各个节点互相独立，解耦性强。</p><p>便于维护，随时可以增加或删除节点而不影响整体的执行逻辑</p><p>缺点：</p><p>链式结构必须从头到尾遍历执行</p><p>链式结构容易产生循环调用的死循环节点</p><blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// DispatcherType用于指定拦截的请求类型。默认是REQUEST，也就是新请求会被拦截。如果加上FORWARD，则转发的请求也会被拦截。</span>
<span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">&quot;/*&quot;</span><span class="token punctuation">,</span>dispatcherTypes<span class="token operator">=</span><span class="token punctuation">{</span><span class="token class-name">DispatcherType</span><span class="token punctuation">.</span><span class="token constant">REQUEST</span><span class="token punctuation">,</span><span class="token class-name">DispatcherType</span><span class="token punctuation">.</span><span class="token constant">FORWARD</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h3 id="_1-6-案例" tabindex="-1"><a class="header-anchor" href="#_1-6-案例" aria-hidden="true">#</a> 1.6 案例</h3><h4 id="_1-6-1-需求" tabindex="-1"><a class="header-anchor" href="#_1-6-1-需求" aria-hidden="true">#</a> 1.6.1 需求</h4><p>访问服务器资源时，需要先进行登录验证，如果没有登录，则自动跳转到登录页面</p><h4 id="_1-6-2-分析" tabindex="-1"><a class="header-anchor" href="#_1-6-2-分析" aria-hidden="true">#</a> 1.6.2 分析</h4><p>我们要实现该功能是在每一个资源里加入登陆状态校验的代码吗？显然是不需要的，只需要写一个 <code>Filter</code> ，在该过滤器中进行登陆状态校验即可。而在该 <code>Filter</code> 中逻辑如下：</p><figure><img src="/blog/assets/image-20210823223214525-e24ea72d.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h4 id="_1-6-3-代码实现" tabindex="-1"><a class="header-anchor" href="#_1-6-3-代码实现" aria-hidden="true">#</a> 1.6.3 代码实现</h4><h5 id="_1-6-3-1-创建filter" tabindex="-1"><a class="header-anchor" href="#_1-6-3-1-创建filter" aria-hidden="true">#</a> 1.6.3.1 创建Filter</h5><p>在 <code>brand-demo</code> 工程创建 <code>com.beisheng.web.filter</code> 包，在该下创建名为 <code>LoginFilter</code> 的过滤器</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_1-6-3-2-编写逻辑代码" tabindex="-1"><a class="header-anchor" href="#_1-6-3-2-编写逻辑代码" aria-hidden="true">#</a> 1.6.3.2 编写逻辑代码</h5><p>在 <code>doFilter()</code> 方法中编写登陆状态校验的逻辑代码。</p><p>我们首先需要从 <code>session</code> 对象中获取用户信息，但是 <code>ServletRequest</code> 类型的 requset 对象没有获取 session 对象的方法，所以此时需要将 request对象强转成 <code>HttpServletRequest</code> 对象。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">HttpServletRequest</span> req <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> request<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后完成以下逻辑</p><ul><li>获取Session对象</li><li>从Session对象中获取名为 <code>user</code> 的数据</li><li>判断获取到的数据是否是 null <ul><li>如果不是，说明已经登陆，放行</li><li>如果是，说明尚未登陆，将提示信息存储到域对象中并跳转到登陆页面</li></ul></li></ul><p>代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpServletRequest</span> req <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> request<span class="token punctuation">;</span>

        <span class="token comment">//1. 判断session中是否有user</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> user <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2. 判断user是否为null</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// 登录过了</span>
            <span class="token comment">//放行</span>
            chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 没有登陆，存储提示信息，跳转到登录页面</span>

            req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;login_msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;您尚未登陆！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/login.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_1-6-3-3-测试并抛出问题" tabindex="-1"><a class="header-anchor" href="#_1-6-3-3-测试并抛出问题" aria-hidden="true">#</a> 1.6.3.3 测试并抛出问题</h5><p>在浏览器上输入 <code>http://localhost:8080/brand-demo/</code> ，可以看到如下页面效果</p><figure><img src="/blog/assets/image-20210823224843179-c8697f8c.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>从上面效果可以看出没有登陆确实是跳转到登陆页面了，但是登陆页面为什么展示成这种效果了呢？</p><h5 id="_1-6-3-4-问题分析及解决" tabindex="-1"><a class="header-anchor" href="#_1-6-3-4-问题分析及解决" aria-hidden="true">#</a> 1.6.3.4 问题分析及解决</h5><p>因为登陆页面需要 <code>css/login.css</code> 这个文件进行样式的渲染，下图是登陆页面引入的css文件图解</p><figure><img src="/blog/assets/image-20210823225411925-82fe4fe5.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>而在请求这个css资源时被过滤器拦截，就相当于没有加载到样式文件导致的。解决这个问题，只需要对所以的登陆相关的资源进行放行即可。还有一种情况就是当我没有用户信息时需要进行注册，而注册时也希望被过滤器放行。</p><p>综上，我们需要在判断session中是否包含用户信息之前，应该加上对登陆及注册相关资源放行的逻辑处理</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//判断访问资源路径是否和登录注册相关</span>
<span class="token comment">//1,在数组中存储登陆和注册相关的资源路径</span>
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> urls <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/login.jsp&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/imgs/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/css/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/loginServlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/register.jsp&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/registerServlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/checkCodeServlet&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//2,获取当前访问的资源路径</span>
<span class="token class-name">String</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//3,遍历数组，获取到每一个需要放行的资源路径</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> u <span class="token operator">:</span> urls<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//4,判断当前访问的资源路径字符串是否包含要放行的的资源路径字符串</span>
    <span class="token comment">/*
    	比如当前访问的资源路径是  /brand-demo/login.jsp
    	而字符串 /brand-demo/login.jsp 包含了  字符串 /login.jsp ，所以这个字符串就需要放行
    */</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//找到了，放行</span>
        chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//break;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_1-6-3-5-过滤器完整代码" tabindex="-1"><a class="header-anchor" href="#_1-6-3-5-过滤器完整代码" aria-hidden="true">#</a> 1.6.3.5 过滤器完整代码</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> chain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpServletRequest</span> req <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span><span class="token punctuation">)</span> request<span class="token punctuation">;</span>

        <span class="token comment">//判断访问资源路径是否和登录注册相关</span>
        <span class="token comment">//1,在数组中存储登陆和注册相关的资源路径</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> urls <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/login.jsp&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/imgs/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/css/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/loginServlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/register.jsp&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/registerServlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/checkCodeServlet&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">//2,获取当前访问的资源路径</span>
        <span class="token class-name">String</span> url <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getRequestURL</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3,遍历数组，获取到每一个需要放行的资源路径</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> u <span class="token operator">:</span> urls<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//4,判断当前访问的资源路径字符串是否包含要放行的的资源路径字符串</span>
            <span class="token comment">/*
                比如当前访问的资源路径是  /brand-demo/login.jsp
                而字符串 /brand-demo/login.jsp 包含了  字符串 /login.jsp ，所以这个字符串就需要放行
            */</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>url<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//找到了，放行</span>
                chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">//break;</span>
                <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token comment">//1. 判断session中是否有user</span>
        <span class="token class-name">HttpSession</span> session <span class="token operator">=</span> req<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Object</span> user <span class="token operator">=</span> session<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2. 判断user是否为null</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">// 登录过了</span>
            <span class="token comment">//放行</span>
            chain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// 没有登陆，存储提示信息，跳转到登录页面</span>

            req<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;login_msg&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;您尚未登陆！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            req<span class="token punctuation">.</span><span class="token function">getRequestDispatcher</span><span class="token punctuation">(</span><span class="token string">&quot;/login.jsp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span>response<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token class-name">FilterConfig</span> config<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">destroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-listener" tabindex="-1"><a class="header-anchor" href="#_2-listener" aria-hidden="true">#</a> 2，Listener</h2><h3 id="_2-1-概述" tabindex="-1"><a class="header-anchor" href="#_2-1-概述" aria-hidden="true">#</a> 2.1 概述</h3><ul><li><p>Listener 表示监听器，是 JavaWeb 三大组件(Servlet、Filter、Listener)之一。</p></li><li><p>监听器可以监听就是在 <code>application</code>，<code>session</code>，<code>request</code> 三个对象创建、销毁或者往其中添加修改删除属性时自动执行代码的功能组件。</p><p>request 和 session 我们学习过。而 <code>application</code> 是 <code>ServletContext</code> 类型的对象。</p><p><code>ServletContext</code> 代表整个web应用，在服务器启动的时候，tomcat会自动创建该对象。在服务器关闭时会自动销毁该对象。</p></li></ul><h3 id="_2-2-分类" tabindex="-1"><a class="header-anchor" href="#_2-2-分类" aria-hidden="true">#</a> 2.2 分类</h3><p>JavaWeb 提供了8个监听器：</p><figure><img src="/blog/assets/image-20210823230820586-557781ff.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>这里面只有 <code>ServletContextListener</code> 这个监听器后期我们会接触到，<code>ServletContextListener</code> 是用来监听 <code>ServletContext</code> 对象的创建和销毁。</p><p><code>ServletContextListener</code> 接口中有以下两个方法</p><ul><li><code>void contextInitialized(ServletContextEvent sce)</code>：<code>ServletContext</code> 对象被创建了会自动执行的方法</li><li><code>void contextDestroyed(ServletContextEvent sce)</code>：<code>ServletContext</code> 对象被销毁时会自动执行的方法</li></ul><blockquote><p>ServletContext对象是web中作用范围最大的一个域对象。application域。作用范围是整个web项目。在一个项目中，有且只有一个对象。它在服务器启动项目时创建，每个项目创建一个。在服务器关闭时销毁。</p><p>一般我们很少使用这个域对象存储数据。我们一般使用此对象，感知其创建销毁，变相的获取服务器启动和关闭的状态。</p><p>该对象可以由Request、Servlet、ServletContextEvent这些对象获取ServletContext。</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//根据一个资源的web路径获取其磁盘绝对路径的方式</span>
<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getServletContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getRealPath</span><span class="token punctuation">(</span><span class="token string">&quot;/css/login.css&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-代码演示" tabindex="-1"><a class="header-anchor" href="#_2-3-代码演示" aria-hidden="true">#</a> 2.3 代码演示</h3><p>我们只演示一下 <code>ServletContextListener</code> 监听器</p><ul><li>定义一个类，实现<code>ServletContextListener</code> 接口</li><li>重写所有的抽象方法</li><li>使用 <code>@WebListener</code> 进行配置</li></ul><p>代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebListener</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ContextLoaderListener</span> <span class="token keyword">implements</span> <span class="token class-name">ServletContextListener</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextInitialized</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//加载资源</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ContextLoaderListener...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">contextDestroyed</span><span class="token punctuation">(</span><span class="token class-name">ServletContextEvent</span> sce<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//释放资源</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动服务器，就可以在启动的日志信息中看到 <code>contextInitialized()</code> 方法输出的内容，同时也说明了 <code>ServletContext</code> 对象在服务器启动的时候被创建了。</p><h2 id="_3-ajax" tabindex="-1"><a class="header-anchor" href="#_3-ajax" aria-hidden="true">#</a> 3，Ajax</h2><h3 id="_3-1-概述" tabindex="-1"><a class="header-anchor" href="#_3-1-概述" aria-hidden="true">#</a> 3.1 概述</h3><p><mark>- <code>AJAX</code> (Asynchronous JavaScript And XML)：异步的 JavaScript 和 XML。</mark></p><p>我们先来说概念中的 <code>JavaScript</code> 和 <code>XML</code>，<code>JavaScript</code> 表明该技术和前端相关；<code>XML</code> 是指以此进行数据交换。而这两个我们之前都学习过。</p><h4 id="_3-1-1-作用" tabindex="-1"><a class="header-anchor" href="#_3-1-1-作用" aria-hidden="true">#</a> 3.1.1 作用</h4><p>AJAX 作用有以下两方面：</p><ol><li><strong>与服务器进行数据交换</strong>：通过AJAX可以给服务器发送请求，服务器将数据直接响应回给浏览器。如下图</li></ol><p>我们先来看之前做功能的流程，如下图：</p><figure><img src="/blog/assets/image-20210823235114367-e0e8aa4e.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>如上图，<code>Servlet</code> 调用完业务逻辑层后将数据存储到域对象中，然后跳转到指定的 <code>jsp</code> 页面，在页面上使用 <code>EL表达式</code> 和 <code>JSTL</code> 标签库进行数据的展示。</p><p>而我们学习了AJAX 后，就可以<mark>使用AJAX和服务器进行通信，以达到使用 HTML+AJAX来替换JSP页面</mark>了。如下图，浏览器发送请求servlet，servlet 调用完业务逻辑层后将数据直接响应回给浏览器页面，页面使用 HTML 来进行数据展示。</p><figure><img src="/blog/assets/image-20210823235006847-c4b245c8.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><ol start="2"><li><strong>异步交互</strong>：可以在<mark>不重新加载整个页面</mark>的情况下，与服务器交换数据并<mark>更新部分网页</mark>的技术，如：搜索联想、用户名是否可用校验，等等…</li></ol><figure><img src="/blog/assets/image-20210824000706401-aab3d0b9.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>上图所示的效果我们经常见到，在我们输入一些关键字（例如 <code>奥运</code>）后就会在下面联想出相关的内容，而联想出来的这部分数据肯定是存储在百度的服务器上，而我们并没有看出页面重新刷新，这就是 <mark>更新局部页面</mark> 的效果。再如下图：</p><figure><img src="/blog/assets/image-20210824001015706-103c29af.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>我们在用户名的输入框输入用户名，当输入框一失去焦点，如果用户名已经被占用就会在下方展示提示的信息；在这整个过程中也没有页面的刷新，只是在局部展示出了提示信息，这就是 <mark>更新局部页面</mark> 的效果。</p><h4 id="_3-1-2-同步和异步" tabindex="-1"><a class="header-anchor" href="#_3-1-2-同步和异步" aria-hidden="true">#</a> 3.1.2 同步和异步</h4><p>知道了局部刷新后，接下来我们再聊聊同步和异步:</p><ul><li>同步发送请求过程如下</li></ul><figure><img src="/blog/assets/image-20210824001443897-533e0842.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>​ 浏览器页面在发送请求给服务器，在服务器处理请求的过程中，浏览器页面不能做其他的操作。只能等到服务器响应结束后才能，浏览器页面才能继续做其他的操作。</p><ul><li><p>异步发送请求过程如下</p><figure><img src="/blog/assets/image-20210824001608916-f1ff08f2.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>浏览器页面发送请求给服务器，在服务器处理请求的过程中，浏览器页面还可以做其他的操作。</p></li></ul><h3 id="_3-2-快速入门" tabindex="-1"><a class="header-anchor" href="#_3-2-快速入门" aria-hidden="true">#</a> 3.2 快速入门</h3><h4 id="_3-2-1-服务端实现" tabindex="-1"><a class="header-anchor" href="#_3-2-1-服务端实现" aria-hidden="true">#</a> 3.2.1 服务端实现</h4><p>在项目的创建 <code>com.beisheng.web.servlet</code> ，并在该包下创建名为 <code>AjaxServlet</code> 的servlet</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/ajaxServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AjaxServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1. 响应数据</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello ajax~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-2-客户端实现" tabindex="-1"><a class="header-anchor" href="#_3-2-2-客户端实现" aria-hidden="true">#</a> 3.2.2 客户端实现</h4><p>在 <code>webapp</code> 下创建名为 <code>01-ajax-demo1.html</code> 的页面，在该页面书写 <code>ajax</code> 代码</p><ul><li><p>创建核心对象，不同的浏览器创建的对象是不同的</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> <span class="token keyword">var</span> xhttp<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// code for IE6, IE5</span>
    xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>发送请求</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//建立连接</span>
xhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost:8080/ajax-demo/ajaxServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//发送请求</span>
xhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>获取响应</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>xhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 通过 this.responseText 可以获取到服务端响应的数据</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><p><strong>完整代码如下：</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//1. 创建核心对象</span>
    <span class="token keyword">var</span> xhttp<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// code for IE6, IE5</span>
        xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//2. 发送请求</span>
    xhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost:8080/ajax-demo/ajaxServlet&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//3. 获取响应</span>
    xhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseText<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-3-测试" tabindex="-1"><a class="header-anchor" href="#_3-2-3-测试" aria-hidden="true">#</a> 3.2.3 测试</h4><p>在浏览器地址栏输入 <code>http://localhost:8080/ajax-demo/01-ajax-demo1.html</code> ，在 <code>01-ajax-demo1.html</code>加载的时候就会发送 <code>ajax</code> 请求，效果如下</p><figure><img src="/blog/assets/image-20210824005956117-7212decd.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>我们可以通过 <code>开发者模式</code> 查看发送的 AJAX 请求。在浏览器上按 <code>F12</code> 快捷键</p><figure><img src="/blog/assets/image-20210824010247642-11ce5b3e.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>这个是查看所有的请求，如果我们只是想看 异步请求的话，点击上图中 <code>All</code> 旁边的 <code>XHR</code>，会发现只展示 Type 是 <code>xhr</code> 的请求。如下图：</p><figure><img src="/blog/assets/image-20210824010438260-f1b5673b.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="_3-3-案例" tabindex="-1"><a class="header-anchor" href="#_3-3-案例" aria-hidden="true">#</a> 3.3 案例</h3><p>需求：在完成用户注册时，当用户名输入框失去焦点时，校验用户名是否在数据库已存在</p><figure><img src="/blog/assets/image-20210824201415745-e5757bc9.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h4 id="_3-3-1-分析" tabindex="-1"><a class="header-anchor" href="#_3-3-1-分析" aria-hidden="true">#</a> 3.3.1 分析</h4><ul><li><strong>前端完成的逻辑</strong><ol><li>给用户名输入框绑定光标失去焦点事件 <code>onblur</code></li><li>发送 ajax请求，携带username参数</li><li>处理响应：是否显示提示信息</li></ol></li><li><strong>后端完成的逻辑</strong><ol><li>接收用户名</li><li>调用service查询User。此案例是为了演示前后端异步交互，所以此处我们不做业务逻辑处理</li><li>返回标记</li></ol></li></ul><p>整体流程如下：</p><figure><img src="/blog/assets/image-20210829183854285-853accec.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h4 id="_3-3-2-后端实现" tabindex="-1"><a class="header-anchor" href="#_3-3-2-后端实现" aria-hidden="true">#</a> 3.3.2 后端实现</h4><p>在 <code>com.ithiema.web.servlet</code> 包中定义名为 <code>SelectUserServlet</code> 的servlet。代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/selectUserServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SelectUserServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1. 接收用户名</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. 调用service查询User对象，此处不进行业务逻辑处理，直接给 flag 赋值为 true，表明用户名占用</span>
        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">//3. 响应标记</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span> <span class="token operator">+</span> flag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-3-前端实现" tabindex="-1"><a class="header-anchor" href="#_3-3-3-前端实现" aria-hidden="true">#</a> 3.3.3 前端实现</h4><p>将 <code>04-资料\1. 验证用户名案例\1. 静态页面</code> 下的文件整体拷贝到项目下 <code>webapp</code> 下。并在 <code>register.html</code> 页面的 <code>body</code> 结束标签前编写 <code>script</code> 标签，在该标签中实现如下逻辑</p><p><strong>第一步：给用户名输入框绑定光标失去焦点事件 <code>onblur</code></strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//1. 给用户名输入框绑定 失去焦点事件</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onblur</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>第二步：发送 ajax请求，携带username参数</strong></p><p>在 <code>第一步</code> 绑定的匿名函数中书写发送 ajax 请求的代码</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//2. 发送ajax请求</span>
<span class="token comment">//2.1. 创建核心对象</span>
<span class="token keyword">var</span> xhttp<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// code for IE6, IE5</span>
    xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//2.2. 发送请求</span>
xhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> &quot;http<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>localhost<span class="token operator">:</span><span class="token number">8080</span><span class="token operator">/</span>ajax<span class="token operator">-</span>demo<span class="token operator">/</span>selectUserServlet<span class="token punctuation">)</span><span class="token punctuation">;</span>
xhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//2.3. 获取响应</span>
xhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//处理响应的结果</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由于我们发送的是 GET 请求，所以需要在 URL 后拼接从输入框获取的用户名数据。而我们在 <code>第一步</code> 绑定的匿名函数中通过以下代码可以获取用户名数据</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 获取用户名的值</span>
<span class="token keyword">var</span> username <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>  <span class="token comment">//this ： 给谁绑定的事件，this就代表谁</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>而携带数据需要将 URL 修改为：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>xhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost:8080/ajax-demo/selectUserServlet?username=&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>第三步：处理响应：是否显示提示信息</strong></p><p>当 <code>this.readyState == 4 &amp;&amp; this.status == 200</code> 条件满足时，说明已经成功响应数据了。</p><p>此时需要判断响应的数据是否是 &quot;true&quot; 字符串，如果是说明用户名已经占用给出错误提示；如果不是说明用户名未被占用清除错误提示。代码如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//判断</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseText <span class="token operator">==</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//用户名存在，显示提示信息</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;username_err&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">//用户名不存在 ，清楚提示信息</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;username_err&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>综上所述，前端完成代码如下：</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//1. 给用户名输入框绑定 失去焦点事件</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onblur</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//2. 发送ajax请求</span>
    <span class="token comment">// 获取用户名的值</span>
    <span class="token keyword">var</span> username <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>

    <span class="token comment">//2.1. 创建核心对象</span>
    <span class="token keyword">var</span> xhttp<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>XMLHttpRequest<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// code for IE6, IE5</span>
        xhttp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ActiveXObject</span><span class="token punctuation">(</span><span class="token string">&quot;Microsoft.XMLHTTP&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//2.2. 发送请求</span>
    xhttp<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;http://localhost:8080/ajax-demo/selectUserServlet?username=&quot;</span><span class="token operator">+</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
    xhttp<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//2.3. 获取响应</span>
    xhttp<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>readyState <span class="token operator">==</span> <span class="token number">4</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>status <span class="token operator">==</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//alert(this.responseText);</span>
            <span class="token comment">//判断</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>responseText <span class="token operator">==</span> <span class="token string">&quot;true&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//用户名存在，显示提示信息</span>
                document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;username_err&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token comment">//用户名不存在 ，清楚提示信息</span>
                document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;username_err&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&#39;none&#39;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-axios" tabindex="-1"><a class="header-anchor" href="#_4-axios" aria-hidden="true">#</a> 4，axios</h2><p>Axios 对原生的AJAX进行封装，简化书写。</p><p>Axios官网是：<code>https://www.axios-http.cn</code></p><h3 id="_4-1-基本使用" tabindex="-1"><a class="header-anchor" href="#_4-1-基本使用" aria-hidden="true">#</a> 4.1 基本使用</h3><p>axios 使用是比较简单的，分为以下两步：</p><ul><li><p>引入 axios 的 js 文件</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/axios-0.18.0.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>使用axios 发送请求，并获取响应结果</p><ul><li><p>发送 get 请求</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo1/aJAXDemo1?username=zhangsan&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>发送 post 请求</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo1/aJAXDemo1&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token string">&quot;username=zhangsan&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><p><code>axios()</code> 是用来发送异步请求的，小括号中使用 js 对象传递请求相关的参数：</p><ul><li><code>method</code> 属性：用来设置请求方式的。取值为 <code>get</code> 或者 <code>post</code>。</li><li><code>url</code> 属性：用来书写请求的资源路径。如果是 <code>get</code> 请求，需要将请求参数拼接到路径的后面，格式为： <code>url?参数名=参数值&amp;参数名2=参数值2</code>。</li><li><code>data</code> 属性：作为请求体被发送的数据。也就是说如果是 <code>post</code> 请求的话，数据需要作为 <code>data</code> 属性的值。</li></ul><p><code>then()</code> 需要传递一个匿名函数。我们将 <code>then()</code> 中传递的匿名函数称为 <mark>回调函数</mark>，意思是该匿名函数在发送请求时不会被调用，而是在成功响应后调用的函数。而该回调函数中的 <code>resp</code> 参数是对响应的数据进行封装的对象，通过 <code>resp.data</code> 可以获取到响应的数据。</p><h3 id="_4-2-快速入门" tabindex="-1"><a class="header-anchor" href="#_4-2-快速入门" aria-hidden="true">#</a> 4.2 快速入门</h3><h4 id="_4-2-1-后端实现" tabindex="-1"><a class="header-anchor" href="#_4-2-1-后端实现" aria-hidden="true">#</a> 4.2.1 后端实现</h4><p>定义一个用于接收请求的servlet，代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/axiosServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AxiosServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;get...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//1. 接收请求参数</span>
        <span class="token class-name">String</span> username <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. 响应数据</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;hello Axios~&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;post...&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_4-2-2-前端实现" tabindex="-1"><a class="header-anchor" href="#_4-2-2-前端实现" aria-hidden="true">#</a> 4.2.2 前端实现</h4><ul><li><p>引入 js 文件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;js/axios-0.18.0.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>发送 ajax 请求</p><ul><li><p>get 请求</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet?username=zhangsan&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>post 请求</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token string">&quot;username=zhangsan&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ul><p><strong>整体页面代码如下：</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/axios-0.18.0.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//1. get</span>
   <span class="token comment">/* axios({
        method:&quot;get&quot;,
        url:&quot;http://localhost:8080/ajax-demo/axiosServlet?username=zhangsan&quot;
    }).then(function (resp) {
        alert(resp.data);
    })*/</span>

    <span class="token comment">//2. post  在js中{} 表示一个js对象，而这个js对象中有三个属性</span>
    <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token string">&quot;username=zhangsan&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-请求方法别名" tabindex="-1"><a class="header-anchor" href="#_4-3-请求方法别名" aria-hidden="true">#</a> 4.3 请求方法别名</h3><p>为了方便起见， Axios 已经为所有支持的请求方法提供了别名。如下：</p><ul><li><p><code>get</code> 请求 ： <code>axios.get(url[,config])</code></p></li><li><p><code>delete</code> 请求 ： <code>axios.delete(url[,config])</code></p></li><li><p><code>head</code> 请求 ： <code>axios.head(url[,config])</code></p></li><li><p><code>options</code> 请求 ： <code>axios.option(url[,config])</code></p></li><li><p><code>post</code> 请求：<code>axios.post(url[,data[,config])</code></p></li><li><p><code>put</code> 请求：<code>axios.put(url[,data[,config])</code></p></li><li><p><code>patch</code> 请求：<code>axios.patch(url[,data[,config])</code></p></li></ul><p>而我们只关注 <code>get</code> 请求和 <code>post</code> 请求。</p><p>入门案例中的 <code>get</code> 请求代码可以改为如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet?username=zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>入门案例中的 <code>post</code> 请求代码可以改为如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>axios<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;username=zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="补充" tabindex="-1"><a class="header-anchor" href="#补充" aria-hidden="true">#</a> 补充：</h4><ol><li><p>promise</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// axios请求发送后，返回一个promise对象。</span>
<span class="token keyword">let</span> promiseObj <span class="token operator">=</span> <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token string">&quot;username=zhangsan&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// promise中有三个回调函数，分别对应未来执行后返回的三种情况</span>
promiseObj
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 请求成功了，参数就是响应对象</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 请求出错了，参数是错误对象</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 可以拿到错误时候的响应状态码</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// 无论成功还是失败，都会执行finally中的方法</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>response对象结构</p></li></ol><p>​ 主要关注的是data部分，也就是响应回的数据（响应体）。JSON格式的数据，JSON对象。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token comment">// `data` 由服务器提供的响应</span>
  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// `status` 来自服务器响应的 HTTP 状态码</span>
  <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>

  <span class="token comment">// `statusText` 来自服务器响应的 HTTP 状态信息</span>
  <span class="token literal-property property">statusText</span><span class="token operator">:</span> <span class="token string">&#39;OK&#39;</span><span class="token punctuation">,</span>

  <span class="token comment">// `headers` 是服务器响应头</span>
  <span class="token comment">// 所有的 header 名称都是小写，而且可以使用方括号语法访问</span>
  <span class="token comment">// 例如: `response.headers[&#39;content-type&#39;]`</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// `config` 是 `axios` 请求的配置信息</span>
  <span class="token literal-property property">config</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// `request` 是生成此响应的请求</span>
  <span class="token comment">// 在node.js中它是最后一个ClientRequest实例 (in redirects)，</span>
  <span class="token comment">// 在浏览器中则是 XMLHttpRequest 实例</span>
  <span class="token literal-property property">request</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-json" tabindex="-1"><a class="header-anchor" href="#_5-json" aria-hidden="true">#</a> 5，JSON</h2><h3 id="_5-1-概述" tabindex="-1"><a class="header-anchor" href="#_5-1-概述" aria-hidden="true">#</a> 5.1 概述</h3><p><mark>概念：<code>JavaScript Object Notation</code>。JavaScript 对象表示法.</mark></p><p>如下是 <code>JavaScript</code> 对象的定义格式：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">23</span><span class="token punctuation">,</span>
	<span class="token literal-property property">city</span><span class="token operator">:</span><span class="token string">&quot;北京&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来我们再看看 <code>JSON</code> 的格式：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span>
	<span class="token property">&quot;age&quot;</span><span class="token operator">:</span><span class="token number">23</span><span class="token punctuation">,</span>
	<span class="token property">&quot;city&quot;</span><span class="token operator">:</span><span class="token string">&quot;北京&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过上面 js 对象格式和 json 格式进行对比，发现两个格式特别像。只不过 js 对象中的属性名可以使用引号（可以是单引号，也可以是双引号）；而 <code>json</code> 格式中的键要求必须使用双引号括起来，这是 <code>json</code> 格式的规定。<code>json</code> 格式的数据有什么作用呢？</p><p>作用：由于其语法格式简单，层次结构鲜明，现多用于作为<mark>数据载体</mark>，在网络中进行数据传输。如下图所示就是服务端给浏览器响应的数据，这个数据比较简单，如果现需要将 JAVA 对象中封装的数据响应回给浏览器的话，应该以何种数据传输呢？</p><figure><img src="/blog/assets/image-20210830232718632-2cfac033.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>大家还记得 <code>ajax</code> 的概念吗？ 是 <mark>异步的 JavaScript 和 xml</mark>。这里的 xml就是以前进行数据传递的方式，如下：</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>student</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">&gt;</span></span>张三<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>age</span><span class="token punctuation">&gt;</span></span>23<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>age</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>city</span><span class="token punctuation">&gt;</span></span>北京<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>city</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>student</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>再看 <code>json</code> 描述以上数据的写法：</p><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code><span class="token punctuation">{</span>
	<span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;age&quot;</span><span class="token operator">:</span><span class="token number">23</span><span class="token punctuation">,</span>
    <span class="token property">&quot;city&quot;</span><span class="token operator">:</span><span class="token string">&quot;北京&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面两种格式进行对比后就会发现 <code>json</code> 格式数据的简单，以及所占的字节数少等优点。</p><h3 id="_5-2-json-基础语法" tabindex="-1"><a class="header-anchor" href="#_5-2-json-基础语法" aria-hidden="true">#</a> 5.2 JSON 基础语法</h3><h4 id="_5-2-1-定义格式" tabindex="-1"><a class="header-anchor" href="#_5-2-1-定义格式" aria-hidden="true">#</a> 5.2.1 定义格式</h4><p><code>JSON</code> 本质就是一个字符串，但是该字符串内容是有一定的格式要求的。 定义格式如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> 变量名 <span class="token operator">=</span> <span class="token string">&#39;{&quot;key&quot;:value,&quot;key&quot;:value,...}&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><code>JSON</code> 串的键要求必须使用双引号括起来，而值根据要表示的类型确定。value 的数据类型分为如下</p><ul><li>数字（整数或浮点数）</li><li>字符串（使用双引号括起来）</li><li>逻辑值（true或者false）</li><li>数组（在方括号中）</li><li>对象（在花括号中）</li><li>null</li></ul><p>示例：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> jsonStr <span class="token operator">=</span> <span class="token string">&#39;{&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:23,&quot;addr&quot;:[&quot;北京&quot;,&quot;上海&quot;,&quot;西安&quot;]}&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="_5-2-2-代码演示" tabindex="-1"><a class="header-anchor" href="#_5-2-2-代码演示" aria-hidden="true">#</a> 5.2.2 代码演示</h4><p>创建一个页面，在该页面的 <code>&lt;script&gt;</code> 标签中定义json字符串</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//1. 定义JSON字符串</span>
    <span class="token keyword">var</span> jsonStr <span class="token operator">=</span> <span class="token string">&#39;{&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:23,&quot;addr&quot;:[&quot;北京&quot;,&quot;上海&quot;,&quot;西安&quot;]}&#39;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">;</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>通过浏览器打开，页面效果如下图所示</p><figure><img src="/blog/assets/image-20210831223339530-1888788e.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>现在我们需要获取到该 <code>JSON</code> 串中的 <code>name</code> 属性值，应该怎么处理呢？</p><p>如果它是一个 js 对象，我们就可以通过 <code>js对象.属性名</code> 的方式来获取数据。JS 提供了一个对象 <code>JSON</code> ，该对象有如下两个方法：</p><ul><li><code>parse(str)</code> ：将 JSON串转换为 js 对象。使用方式是： <mark><code>var jsObject = JSON.parse(jsonStr);</code></mark></li><li><code>stringify(obj)</code> ：将 js 对象转换为 JSON 串。使用方式是：<mark><code>var jsonStr = JSON.stringify(jsObject)</code></mark></li></ul><p>代码演示：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//1. 定义JSON字符串</span>
    <span class="token keyword">var</span> jsonStr <span class="token operator">=</span> <span class="token string">&#39;{&quot;name&quot;:&quot;zhangsan&quot;,&quot;age&quot;:23,&quot;addr&quot;:[&quot;北京&quot;,&quot;上海&quot;,&quot;西安&quot;]}&#39;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//2. 将 JSON 字符串转为 JS 对象</span>
    <span class="token keyword">let</span> jsObject <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>jsObject<span class="token punctuation">)</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>jsObject<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token comment">//3. 将 JS 对象转换为 JSON 字符串</span>
    <span class="token keyword">let</span> jsonStr2 <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>jsObject<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>jsonStr2<span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_5-2-3-发送异步请求携带参数" tabindex="-1"><a class="header-anchor" href="#_5-2-3-发送异步请求携带参数" aria-hidden="true">#</a> 5.2.3 发送异步请求携带参数</h4><p>后面我们使用 <code>axios</code> 发送请求时，如果要携带复杂的数据时都会以 <code>JSON</code> 格式进行传递，如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token string">&quot;username=zhangsan&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>请求参数不可能由我们自己拼接字符串吧？肯定不用，可以提前定义一个 js 对象，用来封装需要提交的参数，然后使用 <code>JSON.stringify(js对象)</code> 转换为 <code>JSON</code> 串，再将该 <code>JSON</code> 串作为 <code>axios</code> 的 <code>data</code> 属性值进行请求参数的提交。如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> jsObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>jsObject<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>而 <code>axios</code> 是一个很强大的工具。我们只需要将需要提交的参数封装成 js 对象，并将该 js 对象作为 <code>axios</code> 的 <code>data</code> 属性值进行，它会自动将 js 对象转换为 <code>JSON</code> 串进行提交。如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> jsObject <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/ajax-demo/axiosServlet&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span>jsObject  <span class="token comment">//这里 axios 会将该js对象转换为 json 串的</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><mark>注意：</mark></p><ul><li>js 提供的 <code>JSON</code> 对象我们只需要了解一下即可。因为 <code>axios</code> 会自动对 js 对象和 <code>JSON</code> 串进行想换转换。</li><li>发送异步请求时，如果请求参数是 <code>JSON</code> 格式，那请求方式必须是 <code>POST</code>。因为 <code>JSON</code> 串需要放在请求体中。</li></ul></blockquote><h3 id="_5-3-json串和java对象的相互转换" tabindex="-1"><a class="header-anchor" href="#_5-3-json串和java对象的相互转换" aria-hidden="true">#</a> 5.3 JSON串和Java对象的相互转换</h3><p>学习完 json 后，接下来聊聊 json 的作用。以后我们会以 json 格式的数据进行前后端交互。前端发送请求时，如果是复杂的数据就会以 json 提交给后端；而后端如果需要响应一些复杂的数据时，也需要以 json 格式将数据响应回给浏览器。</p><figure><img src="/blog/assets/image-20210831104901912-9889eabc.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>在后端我们就需要重点学习以下两部分操作：</p><ul><li>请求数据：JSON字符串转为Java对象</li><li>响应数据：Java对象转为JSON字符串</li></ul><p>接下来给大家介绍一套 API，可以实现上面两部分操作。这套 API 就是 <code>Fastjson</code></p><h4 id="_5-3-1-fastjson-概述" tabindex="-1"><a class="header-anchor" href="#_5-3-1-fastjson-概述" aria-hidden="true">#</a> 5.3.1 Fastjson 概述</h4><p><code>Fastjson</code> 是阿里巴巴提供的一个Java语言编写的高性能功能完善的 <code>JSON</code> 库，是目前Java语言中最快的 <code>JSON</code> 库，可以实现 <code>Java</code> 对象和 <code>JSON</code> 字符串的相互转换。</p><h4 id="_5-3-2-fastjson-使用" tabindex="-1"><a class="header-anchor" href="#_5-3-2-fastjson-使用" aria-hidden="true">#</a> 5.3.2 Fastjson 使用</h4><p><code>Fastjson</code> 使用也是比较简单的，分为以下三步完成</p><ol><li><p><strong>导入坐标</strong></p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>fastjson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.62<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><strong>Java对象转JSON</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> jsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将 Java 对象转换为 JSON 串，只需要使用 <code>Fastjson</code> 提供的 <code>JSON</code> 类中的 <code>toJSONString()</code> 静态方法即可。</p></li><li><p><strong>JSON字符串转Java对象</strong></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>将 json 转换为 Java 对象，只需要使用 <code>Fastjson</code> 提供的 <code>JSON</code> 类中的 <code>parseObject()</code> 静态方法即可。</p></li></ol><h4 id="_5-3-3-代码演示" tabindex="-1"><a class="header-anchor" href="#_5-3-3-代码演示" aria-hidden="true">#</a> 5.3.3 代码演示</h4><ul><li><p>引入坐标</p></li><li><p>创建一个类，专门用来测试 Java 对象和 JSON 串的相互转换，代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FastJsonDemo</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//1. 将Java对象转为JSON字符串</span>
        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        user<span class="token punctuation">.</span><span class="token function">setPassword</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> jsonString <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//{&quot;id&quot;:1,&quot;password&quot;:&quot;123&quot;,&quot;username&quot;:&quot;zhangsan&quot;}</span>
        <span class="token number">2.</span> 将<span class="token constant">JSON</span>字符串转为<span class="token class-name">Java</span>对象
        <span class="token class-name">User</span> u <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span><span class="token string">&quot;{\&quot;id\&quot;:1,\&quot;password\&quot;:\&quot;123\&quot;,\&quot;username\&quot;:\&quot;zhangsan\&quot;}&quot;</span><span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h2 id="_6-案例" tabindex="-1"><a class="header-anchor" href="#_6-案例" aria-hidden="true">#</a> 6，案例</h2><h3 id="_6-1-需求" tabindex="-1"><a class="header-anchor" href="#_6-1-需求" aria-hidden="true">#</a> 6.1 需求</h3><p>使用Axios + JSON 完成品牌列表数据查询和添加。页面效果还是下图所示：</p><figure><img src="/blog/assets/image-20210830234803335-8a15ab8e.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><h3 id="_6-2-查询所有功能" tabindex="-1"><a class="header-anchor" href="#_6-2-查询所有功能" aria-hidden="true">#</a> 6.2 查询所有功能</h3><figure><img src="/blog/assets/image-20210831085332612-75f60803.png" alt="image-20210831085332612" tabindex="0" loading="lazy"><figcaption>image-20210831085332612</figcaption></figure><p>如上图所示就该功能的整体流程。前后端需以 JSON 格式进行数据的传递；由于此功能是查询所有的功能，前端发送 ajax 请求不需要携带参数，而后端响应数据需以如下格式的 json 数据</p><figure><img src="/blog/assets/image-20210831090839336-8a910268.png" alt="image-20210831090839336" tabindex="0" loading="lazy"><figcaption>image-20210831090839336</figcaption></figure><h4 id="_6-2-1-环境准备" tabindex="-1"><a class="header-anchor" href="#_6-2-1-环境准备" aria-hidden="true">#</a> 6.2.1 环境准备</h4><p>将 <code>02-AJAX\04-资料\3. 品牌列表案例\初始工程</code> 下的 <code>brand-demo</code> 工程拷贝到我们自己 <code>工作空间</code> ，然后再将项目导入到我们自己的 Idea 中。工程目录结构如下：</p><figure><img src="/blog/assets/image-20210831091604457-68573949.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p><mark>注意：</mark></p><ul><li>在给定的原始工程中已经给定一些代码。而在此案例中我们只关注前后端交互代码实现</li><li>要根据自己的数据库环境去修改连接数据库的信息，在 <code>mybatis-config.xml</code> 核心配置文件中修改</li></ul><h4 id="_6-2-2-后端实现" tabindex="-1"><a class="header-anchor" href="#_6-2-2-后端实现" aria-hidden="true">#</a> 6.2.2 后端实现</h4><p>在 <code>com.beisheng.web</code> 包下创建名为 <code>SelectAllServlet</code> 的 <code>servlet</code>，具体的逻辑如下：</p><ul><li>调用 service 的 <code>selectAll()</code> 方法进行查询所有的逻辑处理</li><li>将查询到的集合数据转换为 json 数据。我们将此过程称为 <mark>序列化</mark>；如果是将 json 数据转换为 Java 对象，我们称之为 <mark>反序列化</mark></li><li>将 json 数据响应回给浏览器。这里一定要设置响应数据的类型及字符集 <code>response.setContentType(&quot;text/json;charset=utf-8&quot;);</code></li></ul><p><code>SelectAllServlet</code> 代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/selectAllServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SelectAllServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">BrandService</span> brandService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrandService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token comment">//1. 调用Service查询</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Brand</span><span class="token punctuation">&gt;</span></span> brands <span class="token operator">=</span> brandService<span class="token punctuation">.</span><span class="token function">selectAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//2. 将集合转换为JSON数据   序列化</span>
        <span class="token class-name">String</span> jsonString <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>brands<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//3. 响应数据  application/json   text/json</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/json;charset=utf-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>jsonString<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-2-3-前端实现" tabindex="-1"><a class="header-anchor" href="#_6-2-3-前端实现" aria-hidden="true">#</a> 6.2.3 前端实现</h4><ol><li><strong>引入 js 文件</strong></li></ol><p>在 <code>brand.html</code> 页面引入 <code>axios</code> 的 js 文件</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/axios-0.18.0.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ol start="2"><li><strong>绑定 <code>页面加载完毕</code> 事件</strong></li></ol><p>在 <code>brand.html</code> 页面绑定加载完毕事件，该事件是在页面加载完毕后被触发，代码如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li><strong>发送异步请求</strong></li></ol><p>在页面加载完毕事件绑定的匿名函数中发送异步请求，代码如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> <span class="token comment">//2. 发送ajax请求</span>
<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/brand-demo/selectAllServlet&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li><strong>处理响应数据</strong></li></ol><p>在 <code>then</code> 中的回调函数中通过 <code>resp.data</code> 可以获取响应回来的数据，而数据格式如下</p><figure><img src="/blog/assets/image-20210831093617083-1a2b6991.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>现在我们需要拼接字符串，将下面表格中的所有的 <code>tr</code> 拼接到一个字符串中，然后使用 <code>document.getElementById(&quot;brandTable&quot;).innerHTML = 拼接好的字符串</code> 就可以动态的展示出用户想看到的数据</p><p><img src="/blog/assets/image-20210831093938057-a6c45bfc.png" alt="img" loading="lazy"><br> 而表头行是固定的，所以先定义初始值是表头行数据的字符串，如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//获取数据</span>
<span class="token keyword">let</span> brands <span class="token operator">=</span> resp<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
<span class="token keyword">let</span> tableData <span class="token operator">=</span> <span class="token string">&quot; &lt;tr&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;th&gt;序号&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;th&gt;品牌名称&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;th&gt;企业名称&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;th&gt;排序&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;th&gt;品牌介绍&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;th&gt;状态&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;th&gt;操作&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;    &lt;/tr&gt;&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来遍历响应回来的数据 <code>brands</code> ，拿到每一条品牌数据</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> brands<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> brand <span class="token operator">=</span> brands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>紧接着就是从 <code>brand</code> 对象中获取数据并且拼接 <code>数据行</code>，累加到 <code>tableData</code> 字符串变量中</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>tableData <span class="token operator">+=</span> <span class="token string">&quot;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;    &lt;tr align=\&quot;center\&quot;&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>brandName<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>companyName<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>ordered<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>description<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>status<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;        &lt;td&gt;&lt;a href=\&quot;#\&quot;&gt;修改&lt;/a&gt; &lt;a href=\&quot;#\&quot;&gt;删除&lt;/a&gt;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;    &lt;/tr&gt;&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>最后再将拼接好的字符串写到表格中</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 设置表格数据</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;brandTable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> tableData<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>整体页面代码如下：</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>addBrand.html<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>新增<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandTable<span class="token punctuation">&quot;</span></span> <span class="token attr-name">border</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cellspacing</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100%<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/axios-0.18.0.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//1. 当页面加载完成后，发送ajax请求</span>
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//2. 发送ajax请求</span>
        <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/brand-demo/selectAllServlet&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//获取数据</span>
            <span class="token keyword">let</span> brands <span class="token operator">=</span> resp<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
            <span class="token keyword">let</span> tableData <span class="token operator">=</span> <span class="token string">&quot; &lt;tr&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;        &lt;th&gt;序号&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;        &lt;th&gt;品牌名称&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;        &lt;th&gt;企业名称&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;        &lt;th&gt;排序&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;        &lt;th&gt;品牌介绍&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;        &lt;th&gt;状态&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;        &lt;th&gt;操作&lt;/th&gt;\n&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot;    &lt;/tr&gt;&quot;</span><span class="token punctuation">;</span>

            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> brands<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">let</span> brand <span class="token operator">=</span> brands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

                tableData <span class="token operator">+=</span> <span class="token string">&quot;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;    &lt;tr align=\&quot;center\&quot;&gt;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>brandName<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>companyName<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>ordered<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>description<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;        &lt;td&gt;&quot;</span><span class="token operator">+</span>brand<span class="token punctuation">.</span>status<span class="token operator">+</span><span class="token string">&quot;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;        &lt;td&gt;&lt;a href=\&quot;#\&quot;&gt;修改&lt;/a&gt; &lt;a href=\&quot;#\&quot;&gt;删除&lt;/a&gt;&lt;/td&gt;\n&quot;</span> <span class="token operator">+</span>
                    <span class="token string">&quot;    &lt;/tr&gt;&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token comment">// 设置表格数据</span>
            document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;brandTable&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> tableData<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3-添加品牌功能" tabindex="-1"><a class="header-anchor" href="#_6-3-添加品牌功能" aria-hidden="true">#</a> 6.3 添加品牌功能</h3><figure><img src="/blog/assets/image-20210831100117014-614870e7.png" alt="image-20210831100117014" tabindex="0" loading="lazy"><figcaption>image-20210831100117014</figcaption></figure><p>如上所示，当我们点击 <code>新增</code> 按钮，会跳转到 <code>addBrand.html</code> 页面。在 <code>addBrand.html</code> 页面输入数据后点击 <code>提交</code> 按钮，就会将数据提交到后端，而后端将数据保存到数据库中。</p><p>具体的前后端交互的流程如下：</p><figure><img src="/blog/assets/image-20210831100329698-51abe0a5.png" alt="image-20210831100329698" tabindex="0" loading="lazy"><figcaption>image-20210831100329698</figcaption></figure><p><mark>说明：</mark></p><p>前端需要将用户输入的数据提交到后端，这部分数据需要以 json 格式进行提交，数据格式如下：</p><figure><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAz8AAAAeCAYAAAACTaBNAAAMh0lEQVR4nO2dTWwbxxXH/zZ8SHwp0JwsU5YskWkObU5VbKkEaKcQpKBogwUCQUYVFjDlgACBIK2Sg3wowR7MQ+S2MCCAaCwfZBUS1AI89BALqiMRYBXGyinpwY0oKTYZKRcHSA/56MHqgbvkcrmzO8vdJSXx/wMEaHd2Zh5n3rx987knvv/+fwcghBBCCCGEkGPOyXYLQAghhBBCCCGt4NT+/pftloEQQgghhBBCfOfEwcEBl70RQgghhBBCjj1c9kYIIYQQQgjpCNj5IYQQQgghhHQE7PwQQgghhBBCOoJT2j/r6+tSES5duuSbMIQQQgghhBAiQzP9l1Nf/rdy3sFX3xxgKGzdsdnIr0N7nhBCCCGEEELahUz/5cwPTmL/66fV61MWz5JjiDISQXYlJwyzwyyuVZpeyUaIF1D/CSGEkM6GnZ9jhJ3zJONc2cX3Aqt0RGF0Cokd1H9CCCGE2GFx4MH7eOfBSZx5cBLvPNHdLi9iaiSCWwUAhTSUkUlky1pgCdmEGnZYKKShJBax1245NCzLz1387Equ6jwpI5Hqn3Ztdt+IPtz4Z4VVPGMa2ZWc6Z9dmN/lR1oA9b+z9L/d9teY/1ErP6/zdxq/3fVnSsXP8E8uH9M/0vp3CP07rznS9dMC2l0+dvGfxHHmwUmceRDHBzZJCWd+Ptj6BR52fYb9QNCBZIec8iKmYhnsDKeRfXtIvbmBWyN30D13G0qgrdJ5gt6JMo506/9vZoTZLI6TpTpejZyTJqH+V/+n/hN/2MCtkWmsqVd9sQXcHOuue2JzJoIbq+pFMI7Z2SvochBO3LE5E8HSucZ6OS4c99/nnhKyiQnMF0dxfWUaA+0Wx4Db+jv69e+ifp7LYP+5DD7YOolfb72K/dArwkcFnZ8itr8dxK/Oijo+IXQHAKAXfdh2ItohIIS+3TvIlofa6Oy5LT/z+DKOmMzSILeY5SG6Z5e/uaz+lF9nQP2n/ney/gN+lt/mzDSQyiF7EepgQwrZodrAwuZMBDd245hduYIu9SWfmOmpDkbYhfst/9GgG8psDsqRTb/T66+NFNJQktuIxkaBough1o81PpaPR/Xz8g/fAL74D3bxCs4LUjmx//XTA6ByklvttIQi3vvkN0DwX7h2uvZw/TNmVIx16fUFdN+dwHyxImhUN6q8tzyJm0hiCikk5rYANI6O1Y18Qd/709JPA0ltdK0+/cb4qI2elRcxFfsc4ylg6fGEmmfjyLcw/0IaSr4X0d0M5ovA5ZQmR70M7kfu1J4vnMfVO1mi/82u7dJyEi47Gu7FHg1fKKShJO9VL+v1UxuV0EKd6Ecz+utA/8uLmIrdR1ifnv4eqP9mz8mk5ST8aOu/hX6jGfuNBh2w0g/H6dvNnAiekSqDJvTPLJ18ZEHY1urbrF1404I4wk39NeoPcDmVw5sXdelZ2Fe7+t9bnqzeR90Mdi1vkX2si6tHl451+ma/z7l/Yk9z+ifz++zat4xcVv4d4Mb+y5SfW/kXEJidxkAhDSWJNsz8iNuHXP2J38/28bXy1bXHQhrK3V5dHUm0X9nf6Nh+Nl8/DX2TJ3Gc+eIFbLz4VrXz05LT3taSE7isjX4V0lBiaQR0P2JnbgKJYByzK7fVDkltdGxveRIfhnPIvl15dnMmghuJ3rpCXEveQXQuh6xm0JY2oOhHzpBGdkVVlkIayl2DgBcj6EkuYHOssWBt81/NoJTK4Xo+ghvJO4jOLSCankCpDCDQmP/mTMRk5M4/ZBw6qzAnztax3IStjTzM5UxeWDVnJjurexknFqX1AwDWktPV9rG3PIlEehEX1Piu9D8QRjiYQX6jBEVzFjbuY2f4Km4GAGhrY6n/wrDO1n8J/Ya1/bazvzL64SR9Y3wp+98ySigVgZ7X1Y5bIYc19ON6Xccmgx0APWUAZZvwFnR+3Nbf3nIK8+fTyM4K2rulfa1gVf9dY7eRHVP18rF5fKF9VeNaLQuyTl+ufVj5J35i//vk5LfDyr/zwv6Ly8+t/N1QZqel5fADq/Yho5+W72eJ+G7k8x8P6+fZF/BTm0cEBx5s4bPvfoL+0+ahdtT1FC9GcBnbKOs3JelHAwI96NEFdY3drutlDoRHTdKvjQR0nesHdh+pGxM38OFqCNFxu4obwmuxbSwtlxpCbPMPxvHaReDsuRAwfLUqx6PHJdP8B8bj6FvNYdNGonoq0+7ZJkcdrRw8003UhrjGjeIyG7+d3j+sbObvoS+WNH8xl/PIF0cxrjMqXWNXcbl4Hx9p+m2pHxX07cMY353+d0N5fRQ7ubx6XcJHuS1cDhvbA/Wf+m+CjH4DFvbbzv5K6oeD9Ovjy9p/O9zpn8bmzDTW1PZSJdiLs+qmXSV2H+G5BUSDDsJ9xaP6s2jvlvZVw8I/kMHKvrpCsn2I7bMs3uhfA7Lt2waxf+eN/ReWn0fytx3H78MaMv6Ba1zIV8En/XXKd3/DP78RBxtmfop475Pn8fvv3sBfX8rgZb+EOt+jK5QhvLmiM7a60a4qwbhcuuVHeIR+DEqMkHWNXUVPIo+9MYNpdZ3/FtZiEczXBYRQLgMDbd5QbuaIiZYFie45xWzjuZ1M7aOE8i7QExaMmJQ/x06wF2frbnajO7hVmfnwAjf6B1ReRsk7+Kh8BQryyCOOKZMpa+p/Beq/Djv91upPZL/t7K+sflimbxEf8vbfb/aWJ3FjNYTonMEBKGaQiIUQnctVZmNRQtZJuJ94UH9dY7cxi0kkNL02LLmytK8aVv5BO5FtH4cVv+X32/4f9fKHXfuQwK1/4Ld8h4XTb+EfL/2ocmL1M3/ExotvNTxi6PwEce3Fp7iG9/HOg59h+8f1e378p4RsOgPEFpDVevculy3sPd4G0GsSMoTB89P4eyHtXf6BHvQg1NL12UZEextEexPM4rjN04jIAXSzH8NPHj0uARdNXtCBXvQVP8cXQN0a91JR3YDXTAeozuHwQv+HMDg8jaWNEi7gPhBJCkZfqP/UfwN2+t0EdfbXrX7YxTdpf2L77x+Vtfdo3OsR6EUfgJ6Ufk9PHvliCOHqBl6r8NbTTP1py2+0ZUrKTL0DJbSvfuBgQNQWH9pHS/Fbfr/t/1EvfxW79iHGe//YW/kOEd/8Gb/890P89qWneFfwiGDZWwjPP+ONDJsz01jTLY+xRl0jfU4zjBu4pdsYaUsgjHDwXm05TyFtvgFMZWA8jkd5vZPhMn8MYXB4C/NLGw7imOH+OwP6b4po16KlO1bP2C35kXXU9N9g8Z8N3BqJQBlJO15udSESws7cgnk8o35BW9ryc1xo0vhuLmWwMxypbph1p38VBsbjwFwKN3P9dUsEzJ6j/lP/q7jVb1v761Y/bOI7tP9iXOhfIW3e8QGAwBWMDwNrd2vpVtq/+n60C5fGo/p3XX8Ve2q8FtpXH6i3rxXOngvplgY7wAf7b447+yf8fX68v+r8O6/svwBp+Zt9/8viVfrG9lFBrJ9y72dx/G4EzgNrebV+youYsny/m8tnj9/f4ZLg24f4+JkXhCe9Ab4deBCpfufA2bTZEN5MjUKpxg8hmoqjT7pn2w1lOo58bALKHCprh1OjSIjiB8II72YwjxCinuQPDLy9gGhiAsqI7maLpg71jpholNkKp8t+vBih9uLUrUaGMDgMrK1uO55ub5j2hf60oW4os2mURlT9Apo6zUzcPtzrH4DqwQfz569an5RC/bd8pvP0361+29tft/phHd+h/fecmjMyX7f0p3YikyZ/YiRjkL2CXbgcLurfVf01nhRV0Z+a/Nb21Q5j+tNQVtFQRnb+R9dYEtGcWRnbpe+N/fcb8e/z+/3lt/13L7/xJMMbI/fg7MQ4oPn2Zd8+AKv6k3s/i+Ore7Biql5jFNfn4liqLv6Qk89PvKkfOTw+6pq0E6dOkl/Ondujfr1YBlRZetJ/yD5iZnLU5JHO53BB/a9xOPWftIrOrP/OtHuk9XRm+zq8eHjUdRD9z36IP31VxLXTLTtqhrjE6Zfm9ct97J6VyUt2WY8xf7O0m14iVN0QeDi/3twK9pZTlTP2O8wBoP6D+t/psP4J8Q+2ryPB7refAs++arnsTTDzA3XD0O/wMYCJ/qd49znO/BDiDn9HJmsfOaNhJoR0Gpz5IaQTqfZNnsRxZvsvAAbxB8OBbcaZnxMHBwcHALC+vi6VyaVL7PwQQgghhBBC2ksz/Zdq54cQQgghhBBCjjOCo64JIYQQQggh5HjBzg8hhBBCCCGkI2DnhxBCCCGEENIRsPNDCCGEEEII6Qj+D/c15hi8AFqpAAAAAElFTkSuQmCC" alt="image-20210831101234467" tabindex="0" loading="lazy"><figcaption>image-20210831101234467</figcaption></figure><h4 id="_6-3-1-后端实现" tabindex="-1"><a class="header-anchor" href="#_6-3-1-后端实现" aria-hidden="true">#</a> 6.3.1 后端实现</h4><p>在 <code>com.beisheng.web</code> 包下创建名为 <code>AddServlet</code> 的 <code>servlet</code>，具体的逻辑如下：</p><ul><li><p>获取请求参数</p><p>由于前端提交的是 json 格式的数据，所以我们不能使用 <code>request.getParameter()</code> 方法获取请求参数</p><ul><li>如果提交的数据格式是 <code>username=zhangsan&amp;age=23</code> ，后端就可以使用 <code>request.getParameter()</code> 方法获取</li><li>如果提交的数据格式是 json，后端就需要通过 request 对象获取输入流，再通过输入流读取数据</li></ul></li><li><p>将获取到的请求参数（json格式的数据）转换为 <code>Brand</code> 对象</p></li><li><p>调用 service 的 <code>add()</code> 方法进行添加数据的逻辑处理</p></li><li><p>将 json 数据响应回给浏览器。</p></li></ul><p><code>AddServlet</code> 代码如下：</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span><span class="token string">&quot;/addServlet&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AddServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">BrandService</span> brandService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrandService</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>

        <span class="token comment">//1. 接收数据,request.getParameter 不能接收json的数据</span>
       <span class="token comment">/* String brandName = request.getParameter(&quot;brandName&quot;);
        System.out.println(brandName);*/</span>

        <span class="token comment">// 获取请求体数据</span>
        <span class="token class-name">BufferedReader</span> br <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> params <span class="token operator">=</span> br<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将JSON字符串转为Java对象</span>
        <span class="token class-name">Brand</span> brand <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>params<span class="token punctuation">,</span> <span class="token class-name">Brand</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//2. 调用service 添加</span>
        brandService<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>brand<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//3. 响应成功标识</span>
        response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">doGet</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-3-2-前端实现" tabindex="-1"><a class="header-anchor" href="#_6-3-2-前端实现" aria-hidden="true">#</a> 6.3.2 前端实现</h4><p>在 <code>addBrand.html</code> 页面给 <code>提交</code> 按钮绑定点击事件，并在绑定的匿名函数中发送异步请求，代码如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">//1. 给按钮绑定单击事件</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//2. 发送ajax请求</span>
    <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/brand-demo/addServlet&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">data</span><span class="token operator">:</span><span class="token operator">??</span><span class="token operator">?</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 判断响应数据是否为 success</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;http://localhost:8080/brand-demo/brand.html&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现在我们只需要考虑如何获取页面上用户输入的数据即可。</p><p>首先我们先定义如下的一个 js 对象，该对象是用来封装页面上输入的数据，并将该对象作为上面发送异步请求时 <code>data</code> 属性的值。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 将表单数据转为json</span>
<span class="token keyword">var</span> formData <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">brandName</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">companyName</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">ordered</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">description</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>接下来获取输入框输入的数据，并将获取到的数据赋值给 <code>formData</code> 对象指定的属性。比如获取用户名的输入框数据，并把该数据赋值给 <code>formData</code> 对象的 <code>brandName</code> 属性</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 获取表单数据</span>
<span class="token keyword">let</span> brandName <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;brandName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token comment">// 设置数据</span>
formData<span class="token punctuation">.</span>brandName <span class="token operator">=</span> brandName<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>==说明：其他的输入框都用同样的方式获取并赋值。==但是有一个比较特殊，就是状态数据，如下图是页面内容</p><figure><img src="/blog/assets/image-20210831103843798-e322a5bd.png" alt="img" tabindex="0" loading="lazy"><figcaption>img</figcaption></figure><p>我们需要判断哪儿个被选中，再将选中的单选框数据赋值给 <code>formData</code> 对象的 <code>status</code> 属性，代码实现如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> status <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> status<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>status<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//</span>
        formData<span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>整体页面代码如下：</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>添加品牌<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>添加品牌<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    品牌名称：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>brandName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    企业名称：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>companyName<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    排序：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ordered<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ordered<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    描述信息：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>20<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>description<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>
    状态：
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>禁用
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>radio<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>status<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>启用<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>button<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>提交<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>js/axios-0.18.0.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">//1. 给按钮绑定单击事件</span>
    document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 将表单数据转为json</span>
        <span class="token keyword">var</span> formData <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">brandName</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">companyName</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">ordered</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">description</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">status</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// 获取表单数据</span>
        <span class="token keyword">let</span> brandName <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;brandName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token comment">// 设置数据</span>
        formData<span class="token punctuation">.</span>brandName <span class="token operator">=</span> brandName<span class="token punctuation">;</span>

        <span class="token comment">// 获取表单数据</span>
        <span class="token keyword">let</span> companyName <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;companyName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token comment">// 设置数据</span>
        formData<span class="token punctuation">.</span>companyName <span class="token operator">=</span> companyName<span class="token punctuation">;</span>

        <span class="token comment">// 获取表单数据</span>
        <span class="token keyword">let</span> ordered <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;ordered&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token comment">// 设置数据</span>
        formData<span class="token punctuation">.</span>ordered <span class="token operator">=</span> ordered<span class="token punctuation">;</span>

        <span class="token comment">// 获取表单数据</span>
        <span class="token keyword">let</span> description <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;description&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token comment">// 设置数据</span>
        formData<span class="token punctuation">.</span>description <span class="token operator">=</span> description<span class="token punctuation">;</span>

        <span class="token keyword">let</span> status <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token string">&quot;status&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> status<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>status<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>checked<span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token comment">//</span>
                formData<span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value <span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//console.log(formData);</span>
        <span class="token comment">//2. 发送ajax请求</span>
        <span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token literal-property property">method</span><span class="token operator">:</span><span class="token string">&quot;post&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span><span class="token string">&quot;http://localhost:8080/brand-demo/addServlet&quot;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">data</span><span class="token operator">:</span>formData
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">resp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 判断响应数据是否为 success</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>resp<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                location<span class="token punctuation">.</span>href <span class="token operator">=</span> <span class="token string">&quot;http://localhost:8080/brand-demo/brand.html&quot;</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/Beisheng8888/blog/edit/main/src/src/JavaWeb/Filter和Listener和Ajax.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->在 GitHub 上编辑此页<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">上次编辑于: </span><!----></div><div class="contributors"><span class="label">贡献者: </span><!--[--><!--[--><span class="contributor" title="email: jih6666@126.com">北省</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><!----><a class="vp-link nav-link next" href="/blog/src/JavaWeb/HTML%E5%92%8CCSS.html"><div class="hint">下一页<span class="arrow end"></span></div><div class="link">HTML&amp;CSS<!----></div></a></nav><!----><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><div class="vp-footer">默认页脚</div><div class="vp-copyright">Copyright © 2024 Mr.Jh</div></footer></div><!--]--><!----><!--]--></div>
    <script type="module" src="/blog/assets/app-83ac3819.js" defer></script>
  </body>
</html>
